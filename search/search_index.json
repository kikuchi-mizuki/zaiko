{"config":{"indexing":"full","lang":["ja"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u8ffd\u52a0\u767a\u6ce8\u30fb\u5728\u5eab\u7167\u4f1a\u30b7\u30b9\u30c6\u30e0 \u4ed5\u69d8\u66f8 \u00b6 \u9ad8\u5cf6\u5c4b15\u5e97\u8217\u5411\u3051\u306e\u8ffd\u52a0\u767a\u6ce8\u30fb\u5728\u5eab\u7167\u4f1a\u30fb\u51fa\u8377\u4f9d\u983c\u3092\u81ea\u52d5\u5316\u3059\u308bLINE\u30d9\u30fc\u30b9\u306e\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002 \ud83d\udccb \u76ee\u6b21 \u00b6 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5411\u3051\u8cc7\u6599 \u00b6 \ud83d\udcc4 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5411\u3051\u63d0\u6848\u66f8 - \u30b7\u30b9\u30c6\u30e0\u6982\u8981\u30921\u30da\u30fc\u30b8\u3067\u5206\u304b\u308a\u3084\u3059\u304f\u89e3\u8aac \u8a73\u7d30\u4ed5\u69d8\u66f8 \u00b6 \u6982\u8981 - \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u76ee\u7684\u3068\u65b9\u91dd \u30b7\u30b9\u30c6\u30e0\u69cb\u6210 - \u6280\u8853\u30b9\u30bf\u30c3\u30af\u30fb\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 \u30e6\u30fc\u30b6\u30fc\u3068\u6a29\u9650 - \u5f79\u5272\u5b9a\u7fa9\u30fb\u6a29\u9650\u30de\u30c8\u30ea\u30af\u30b9 \u696d\u52d9\u30d5\u30ed\u30fc - To-Be\u696d\u52d9\u30d5\u30ed\u30fc\u30fb\u30b7\u30fc\u30b1\u30f3\u30b9\u56f3 \u6a5f\u80fd\u8981\u4ef6 - \u5404\u6a5f\u80fd\u306e\u8a73\u7d30\u4ed5\u69d8 LINE UI\u8a2d\u8a08 - \u30c1\u30e3\u30c3\u30c8\u30dc\u30c3\u30c8\u306e\u4f1a\u8a71\u8a2d\u8a08 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08 - \u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9\u30fbER\u56f3\u30fbRLS Excel\u5728\u5eab\u540c\u671f - \u5728\u5eab\u53d6\u308a\u8fbc\u307f\u4ed5\u69d8 \u7d0d\u54c1\u66f8\u751f\u6210 - \u5e33\u7968\u81ea\u52d5\u751f\u6210 \u975e\u6a5f\u80fd\u8981\u4ef6 - \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30fb\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3 \u30d5\u30a7\u30fc\u30ba - \u958b\u767a\u8a08\u753b\u30fb\u30ed\u30fc\u30c9\u30de\u30c3\u30d7 \u672a\u78ba\u5b9a\u4e8b\u9805 - \u78ba\u8a8d\u304c\u5fc5\u8981\u306a\u9805\u76ee\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8 \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u60c5\u5831 \u00b6 \u9805\u76ee \u5185\u5bb9 \u30d0\u30fc\u30b8\u30e7\u30f3 v1.0 \u66f4\u65b0\u65e5 2026\u5e742\u670815\u65e5 \u30b9\u30c6\u30fc\u30bf\u30b9 Phase1\u5b9f\u88c5\u524d\uff08\u8981\u4ef6\u78ba\u5b9a\u7248\uff09 GitHub kikuchi-mizuki/zaiko \u30b7\u30b9\u30c6\u30e0\u6982\u8981 \u00b6 \u76ee\u7684 \u00b6 \u7e41\u5fd9\u671f\u306b\u304a\u3051\u308b\u9ad8\u5cf6\u5c4b15\u5e97\u8217\u304b\u3089\u306e\u7a81\u767a\u7684\u306a\u8ffd\u52a0\u767a\u6ce8\u5bfe\u5fdc\u3092\u52b9\u7387\u5316 \u4e3b\u8981\u6a5f\u80fd \u00b6 \u5e97\u8217\u304cLINE\u3067\u5373\u5ea7\u306b\u5728\u5eab\u78ba\u8a8d\u30fb\u767a\u6ce8\u3067\u304d\u308b \u672c\u90e8\u304c\u30b9\u30de\u30db\u3067\u3082\u627f\u8a8d\u3067\u304d\u308b\uff08\u5916\u51fa\u5148\u3067\u3082OK\uff09 \u5728\u5eab\u306e\u78ba\u5ea6\u3092\u7ba1\u7406\u3057\u3001\u4e8b\u6545\u3092\u9632\u3050 \u7d0d\u54c1\u66f8\u3092\u81ea\u52d5\u751f\u6210\u3057\u3001\u624b\u4f5c\u696d\u3092\u524a\u6e1b Phase1\u65b9\u91dd \u00b6 \u7cbe\u5ea6\u3088\u308a\u904b\u7528\u306e\u56de\u308a\u3084\u3059\u3055\u3092\u512a\u5148\uff08\u66ab\u5b9a\u904b\u7528OK\uff09 \u6b21\u306e\u30b9\u30c6\u30c3\u30d7 \u00b6 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5411\u3051\u63d0\u6848\u66f8 \u3092\u78ba\u8a8d \u672a\u78ba\u5b9a\u4e8b\u9805 \u306e\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8\u3092\u78ba\u8a8d \u5fc5\u8981\u306a\u60c5\u5831\u3092\u63d0\u4f9b Phase1\u958b\u767a\u958b\u59cb","title":"\u30c8\u30c3\u30d7"},{"location":"#_1","text":"\u9ad8\u5cf6\u5c4b15\u5e97\u8217\u5411\u3051\u306e\u8ffd\u52a0\u767a\u6ce8\u30fb\u5728\u5eab\u7167\u4f1a\u30fb\u51fa\u8377\u4f9d\u983c\u3092\u81ea\u52d5\u5316\u3059\u308bLINE\u30d9\u30fc\u30b9\u306e\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002","title":"\u8ffd\u52a0\u767a\u6ce8\u30fb\u5728\u5eab\u7167\u4f1a\u30b7\u30b9\u30c6\u30e0 \u4ed5\u69d8\u66f8"},{"location":"#_2","text":"","title":"\ud83d\udccb \u76ee\u6b21"},{"location":"#_3","text":"\ud83d\udcc4 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5411\u3051\u63d0\u6848\u66f8 - \u30b7\u30b9\u30c6\u30e0\u6982\u8981\u30921\u30da\u30fc\u30b8\u3067\u5206\u304b\u308a\u3084\u3059\u304f\u89e3\u8aac","title":"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5411\u3051\u8cc7\u6599"},{"location":"#_4","text":"\u6982\u8981 - \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u76ee\u7684\u3068\u65b9\u91dd \u30b7\u30b9\u30c6\u30e0\u69cb\u6210 - \u6280\u8853\u30b9\u30bf\u30c3\u30af\u30fb\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 \u30e6\u30fc\u30b6\u30fc\u3068\u6a29\u9650 - \u5f79\u5272\u5b9a\u7fa9\u30fb\u6a29\u9650\u30de\u30c8\u30ea\u30af\u30b9 \u696d\u52d9\u30d5\u30ed\u30fc - To-Be\u696d\u52d9\u30d5\u30ed\u30fc\u30fb\u30b7\u30fc\u30b1\u30f3\u30b9\u56f3 \u6a5f\u80fd\u8981\u4ef6 - \u5404\u6a5f\u80fd\u306e\u8a73\u7d30\u4ed5\u69d8 LINE UI\u8a2d\u8a08 - \u30c1\u30e3\u30c3\u30c8\u30dc\u30c3\u30c8\u306e\u4f1a\u8a71\u8a2d\u8a08 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08 - \u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9\u30fbER\u56f3\u30fbRLS Excel\u5728\u5eab\u540c\u671f - \u5728\u5eab\u53d6\u308a\u8fbc\u307f\u4ed5\u69d8 \u7d0d\u54c1\u66f8\u751f\u6210 - \u5e33\u7968\u81ea\u52d5\u751f\u6210 \u975e\u6a5f\u80fd\u8981\u4ef6 - \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30fb\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3 \u30d5\u30a7\u30fc\u30ba - \u958b\u767a\u8a08\u753b\u30fb\u30ed\u30fc\u30c9\u30de\u30c3\u30d7 \u672a\u78ba\u5b9a\u4e8b\u9805 - \u78ba\u8a8d\u304c\u5fc5\u8981\u306a\u9805\u76ee\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8","title":"\u8a73\u7d30\u4ed5\u69d8\u66f8"},{"location":"#_5","text":"\u9805\u76ee \u5185\u5bb9 \u30d0\u30fc\u30b8\u30e7\u30f3 v1.0 \u66f4\u65b0\u65e5 2026\u5e742\u670815\u65e5 \u30b9\u30c6\u30fc\u30bf\u30b9 Phase1\u5b9f\u88c5\u524d\uff08\u8981\u4ef6\u78ba\u5b9a\u7248\uff09 GitHub kikuchi-mizuki/zaiko","title":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u60c5\u5831"},{"location":"#_6","text":"","title":"\u30b7\u30b9\u30c6\u30e0\u6982\u8981"},{"location":"#_7","text":"\u7e41\u5fd9\u671f\u306b\u304a\u3051\u308b\u9ad8\u5cf6\u5c4b15\u5e97\u8217\u304b\u3089\u306e\u7a81\u767a\u7684\u306a\u8ffd\u52a0\u767a\u6ce8\u5bfe\u5fdc\u3092\u52b9\u7387\u5316","title":"\u76ee\u7684"},{"location":"#_8","text":"\u5e97\u8217\u304cLINE\u3067\u5373\u5ea7\u306b\u5728\u5eab\u78ba\u8a8d\u30fb\u767a\u6ce8\u3067\u304d\u308b \u672c\u90e8\u304c\u30b9\u30de\u30db\u3067\u3082\u627f\u8a8d\u3067\u304d\u308b\uff08\u5916\u51fa\u5148\u3067\u3082OK\uff09 \u5728\u5eab\u306e\u78ba\u5ea6\u3092\u7ba1\u7406\u3057\u3001\u4e8b\u6545\u3092\u9632\u3050 \u7d0d\u54c1\u66f8\u3092\u81ea\u52d5\u751f\u6210\u3057\u3001\u624b\u4f5c\u696d\u3092\u524a\u6e1b","title":"\u4e3b\u8981\u6a5f\u80fd"},{"location":"#phase1","text":"\u7cbe\u5ea6\u3088\u308a\u904b\u7528\u306e\u56de\u308a\u3084\u3059\u3055\u3092\u512a\u5148\uff08\u66ab\u5b9a\u904b\u7528OK\uff09","title":"Phase1\u65b9\u91dd"},{"location":"#_9","text":"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5411\u3051\u63d0\u6848\u66f8 \u3092\u78ba\u8a8d \u672a\u78ba\u5b9a\u4e8b\u9805 \u306e\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8\u3092\u78ba\u8a8d \u5fc5\u8981\u306a\u60c5\u5831\u3092\u63d0\u4f9b Phase1\u958b\u767a\u958b\u59cb","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"},{"location":"proposal/","text":"\u9ad8\u5cf6\u5c4b15\u5e97\u8217\u5411\u3051 \u8ffd\u52a0\u767a\u6ce8\u30fb\u5728\u5eab\u7167\u4f1a\u30b7\u30b9\u30c6\u30e0 \u00b6 \u30b7\u30b9\u30c6\u30e0\u6982\u8981\u66f8 v1.0 \u00b6 \ud83d\udcf1 \u30b7\u30b9\u30c6\u30e0\u6982\u8981 \u00b6 \u7e41\u5fd9\u671f\u306b\u304a\u3051\u308b\u9ad8\u5cf6\u5c4b15\u5e97\u8217\u304b\u3089\u306e \u7a81\u767a\u7684\u306a\u8ffd\u52a0\u767a\u6ce8\u5bfe\u5fdc\u3092\u52b9\u7387\u5316 \u3059\u308bLINE\u30d9\u30fc\u30b9\u306e\u81ea\u52d5\u5316\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002 \u89e3\u6c7a\u3059\u308b\u8ab2\u984c \u00b6 \u73fe\u72b6\u306e\u8ab2\u984c \u30b7\u30b9\u30c6\u30e0\u5c0e\u5165\u5f8c \u96fb\u8a71\u30fb\u30e1\u30fc\u30eb\u3067\u306e\u5728\u5eab\u78ba\u8a8d\u306b\u6642\u9593\u304c\u304b\u304b\u308b LINE\u3067 \u5373\u5ea7\u306b\u5728\u5eab\u78ba\u8a8d \uff083\u79d2\u4ee5\u5185\uff09 \u672c\u90e8\u30fb\u8cb4\u793e\u30fb\u52a0\u5de5\u4f1a\u793e\u9593\u3067\u4f1d\u8a00\u30b2\u30fc\u30e0 \u30b7\u30b9\u30c6\u30e0\u3067 \u4e00\u5143\u7ba1\u7406 \u3001\u60c5\u5831\u306e\u9f5f\u9f6c\u3092\u524a\u6e1b \u5728\u5eab\u306e\u78ba\u5ea6\u304c\u4e0d\u660e\u78ba\u3067\u4e8b\u6545\u30ea\u30b9\u30af \u66ab\u5b9a/\u78ba\u5b9a\u3092\u660e\u78ba\u5316 \u3001\u5b89\u5168\u306a\u5728\u5eab\u7ba1\u7406 \u7d0d\u54c1\u66f8\u4f5c\u6210\u30fb\u7ba1\u7406\u304c\u624b\u4f5c\u696d PDF\u81ea\u52d5\u751f\u6210 \u3001\u30af\u30e9\u30a6\u30c9\u4fdd\u5b58 \ud83c\udfaf \u4e3b\u8981\u6a5f\u80fd\uff083\u3064\u306e\u67f1\uff09 \u00b6 1\ufe0f\u20e3 \u5728\u5eab\u7167\u4f1a\uff08\u5e97\u8217\u5411\u3051\uff09 \u00b6 \u5e97\u8217\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u304cLINE\u3067\u5373\u5ea7\u306b\u5728\u5eab\u78ba\u8a8d \u2192\u300c\u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8 10\u30b1\u30fc\u30b9\u3042\u308a\u307e\u3059\u304b\uff1f\u300d \u2192\u300c\u5728\u5eab10\u30b1\u30fc\u30b9\u3042\u308a\u307e\u3059\uff08\u203b2\u6642\u9593\u524d\u306e\u60c5\u5831\uff09\u300d 2\ufe0f\u20e3 \u8ffd\u52a0\u767a\u6ce8\u30fb\u627f\u8a8d\uff08\u5e97\u8217\u30fb\u672c\u90e8\uff09 \u00b6 \u5e97\u8217\u304c\u767a\u6ce8 \u2192 \u672c\u90e8\u304c\u627f\u8a8d \u2192 \u81ea\u52d5\u3067\u5728\u5eab\u5f15\u5f53 \u3010\u7279\u5fb4\u3011\u4e00\u90e8\u627f\u8a8d\u6a5f\u80fd \u4f9d\u983c10\u30b1\u30fc\u30b9\u3001\u5728\u5eab7\u30b1\u30fc\u30b9\u306e\u5834\u5408 \u2192 7\u30b1\u30fc\u30b9\u627f\u8a8d\u3001\u6b8b\u308a3\u30b1\u30fc\u30b9\u306f\u5728\u5eab\u5f85\u3061\u3068\u3057\u3066\u81ea\u52d5\u7ba1\u7406 3\ufe0f\u20e3 \u51fa\u8377\u4f9d\u983c\u30fb\u7d0d\u54c1\u66f8\uff08\u52a0\u5de5\u4f1a\u793e\uff09 \u00b6 \u627f\u8a8d\u5b8c\u4e86 \u2192 \u7d0d\u54c1\u66f8PDF\u81ea\u52d5\u751f\u6210 \u2192 \u52a0\u5de5\u4f1a\u793e\u306b\u901a\u77e5 \u2192 \u51fa\u8377\u5b8c\u4e86\u5831\u544a \u2192 \u5e97\u8217\u306b\u901a\u77e5 \ud83d\udd04 \u696d\u52d9\u30d5\u30ed\u30fc \u00b6 flowchart TD A[\u5e97\u8217<br/>LINE] -->|\u2460 \u5728\u5eab\u7167\u4f1a\u30fb\u767a\u6ce8\u4f9d\u983c| B[\u672c\u90e8<br/>LINE/PC] B -->|\u2461 \u627f\u8a8d\u30fb\u5dee\u623b\u3057\u30fb\u4e00\u90e8\u627f\u8a8d| C[\u30b7\u30b9\u30c6\u30e0] C -->|\u2462 \u81ea\u52d5\u3067\u5728\u5eab\u5f15\u5f53<br/>\u2463 \u7d0d\u54c1\u66f8PDF\u751f\u6210| D[\u52a0\u5de5\u4f1a\u793e<br/>\u7ba1\u7406\u753b\u9762] D -->|\u2464 \u51fa\u8377\u4f9d\u983c\u53d7\u9818<br/>\u2465 \u51fa\u8377\u5b8c\u4e86\u5831\u544a| E[\u5b8c\u4e86] style A fill:#e1f5ff style B fill:#fff4e1 style C fill:#f0e1ff style D fill:#e1ffe1 style E fill:#ffe1e1 \ud83d\udca1 \u7279\u5fb4\u30fb\u30e1\u30ea\u30c3\u30c8 \u00b6 \ud83d\ude80 \u30b9\u30d4\u30fc\u30c9 \u00b6 \u5728\u5eab\u7167\u4f1a\uff1a 3\u79d2\u4ee5\u5185 \u767a\u6ce8\u53d7\u4ed8\uff1a 5\u79d2\u4ee5\u5185 24\u6642\u9593365\u65e5\u5bfe\u5fdc \ud83c\udfa8 \u4f7f\u3044\u3084\u3059\u3055 \u00b6 LINE\u3067\u5b8c\u7d50 \uff08\u65b0\u3057\u3044\u30a2\u30d7\u30ea\u4e0d\u8981\uff09 \u5546\u54c1\u9078\u629e\u5f0f\uff08\u5165\u529b\u30df\u30b9\u306a\u3057\uff09 \u30ea\u30c3\u30c1\u30e1\u30cb\u30e5\u30fc\u3067\u30ef\u30f3\u30bf\u30c3\u30d7\u64cd\u4f5c \ud83d\udd12 \u5b89\u5168\u6027 \u00b6 \u5728\u5eab\u306e\u78ba\u5ea6\u7ba1\u7406\uff08\u66ab\u5b9a/\u78ba\u5b9a\uff09 \u4eee\u5f15\u5f53\u671f\u9650\u7ba1\u7406\uff0824\u6642\u9593\uff09 \u8ab0\u304c\u627f\u8a8d\u3057\u305f\u304b\u8a18\u9332 \ud83d\udcca \u52b9\u7387\u5316 \u00b6 \u7d0d\u54c1\u66f8\u81ea\u52d5\u751f\u6210\uff08\u624b\u4f5c\u696d\u524a\u6e1b\uff09 Excel\u5728\u5eab\u306e\u81ea\u52d5\u540c\u671f\uff085\u5206\u6bce\uff09 \u4f1d\u8a00\u30b2\u30fc\u30e0\u524a\u6e1b \ud83d\udee0 \u6280\u8853\u69cb\u6210 \u00b6 \u9805\u76ee \u6280\u8853 \u5099\u8003 \u30d5\u30ed\u30f3\u30c8 LINE Official Account \u65e2\u5b58LINE\u30a2\u30ab\u30a6\u30f3\u30c8\u6d3b\u7528\u53ef \u30d0\u30c3\u30af\u30a8\u30f3\u30c9 Python (FastAPI) \u9ad8\u901f\u30fb\u5b89\u5b9a \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9 Supabase (PostgreSQL) \u30af\u30e9\u30a6\u30c9\u3001\u81ea\u52d5\u30d0\u30c3\u30af\u30a2\u30c3\u30d7 \u30d5\u30a1\u30a4\u30eb Supabase Storage \u7d0d\u54c1\u66f8PDF\u4fdd\u5b58 \u5728\u5eab\u5165\u529b Excel \u2192 \u81ea\u52d5\u540c\u671f Phase1\u306f\u624b\u52d5\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9 \ud83d\udcc5 \u958b\u767a\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb \u00b6 Phase1\uff08MVP\uff09- \u7d042\u30f6\u6708 \u00b6 \u9031 \u30bf\u30b9\u30af \u6210\u679c\u7269 1-2 \u8981\u4ef6\u78ba\u5b9a\u30fb\u8a2d\u8a08 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08\u66f8 3-4 LINE\u57fa\u672c\u6a5f\u80fd \u5728\u5eab\u7167\u4f1a\u30fb\u8ffd\u52a0\u767a\u6ce8 5 \u672c\u90e8\u627f\u8a8d\u6a5f\u80fd \u627f\u8a8d\u30fb\u5dee\u623b\u3057\u30fb\u4e00\u90e8\u627f\u8a8d 6 Excel\u540c\u671f \u81ea\u52d5\u540c\u671f\u51e6\u7406 7 \u7d0d\u54c1\u66f8\u751f\u6210 PDF\u81ea\u52d5\u751f\u6210 8-9 \u7d71\u5408\u30c6\u30b9\u30c8\u30fb\u8abf\u6574 \u904b\u7528\u958b\u59cb Phase2\uff08\u7cbe\u5ea6\u5411\u4e0a\uff09- \u7d041\u30f6\u6708 \u00b6 \u4eee\u5f15\u5f53\u671f\u9650\u5207\u308c\u81ea\u52d5\u89e3\u9664 Excel\u81ea\u52d5\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\uff08Google\u30c9\u30e9\u30a4\u30d6\u9023\u643a\uff09 \u7d0d\u54c1\u4e00\u89a7\u306e\u81ea\u52d5\u51fa\u529b Phase3\uff08\u6700\u9069\u5316\uff09- \u7d042\u30f6\u6708 \u00b6 \u30ed\u30c3\u30c8/\u8cde\u5473\u671f\u9650\u6700\u9069\u5316\uff08FIFO\uff09 \u7d0d\u54c1\u65e5\u7cbe\u5ea6\u6539\u5584 \u672c\u90e8\u627f\u8a8d\u306e\u6761\u4ef6\u4ed8\u304d\u81ea\u52d5\u5316 \ud83d\udcb0 \u5c0e\u5165\u52b9\u679c\uff08\u60f3\u5b9a\uff09 \u00b6 \u5de5\u6570\u524a\u6e1b \u00b6 \u5728\u5eab\u78ba\u8a8d\u306e\u96fb\u8a71\u5bfe\u5fdc\uff1a 80%\u524a\u6e1b \u7d0d\u54c1\u66f8\u4f5c\u6210\u6642\u9593\uff1a 90%\u524a\u6e1b \u767a\u6ce8\u51e6\u7406\u6642\u9593\uff1a 60%\u524a\u6e1b \u30df\u30b9\u524a\u6e1b \u00b6 \u5728\u5eab\u78ba\u8a8d\u30df\u30b9\uff1a \u307b\u307c\u30bc\u30ed \u4f1d\u9054\u30df\u30b9\uff1a \u5927\u5e45\u524a\u6e1b \u9867\u5ba2\u6e80\u8db3\u5ea6\u5411\u4e0a \u00b6 \u8fc5\u901f\u306a\u5728\u5eab\u56de\u7b54 \u6b63\u78ba\u306a\u7d0d\u54c1\u4e88\u5b9a \ud83d\udccb Phase1\u5b9f\u88c5\u524d\u306e\u78ba\u8a8d\u4e8b\u9805 \u00b6 \u4ee5\u4e0b\u306e\u60c5\u5831\u3092\u3054\u63d0\u4f9b\u3044\u305f\u3060\u304f\u3068\u30b9\u30e0\u30fc\u30ba\u306b\u958b\u767a\u3092\u958b\u59cb\u3067\u304d\u307e\u3059\uff1a \u512a\u5148\u5ea6\uff1a\u9ad8\uff08\u5fc5\u9808\uff09 \u00b6 Excel\u95a2\u9023 \u00b6 Excel\u5217\u69cb\u6210\u306e\u78ba\u8a8d \uff08\u5546\u54c1\u540d\u3001\u30b1\u30fc\u30b9\u6570\u3001\u8cde\u5473\u671f\u9650\u7b49\uff09 Excel\u30b5\u30f3\u30d7\u30eb\u30d5\u30a1\u30a4\u30eb\u306e\u5165\u624b \u5546\u54c1\u540d\u306e\u8868\u8a18\u3086\u308c\u306e\u78ba\u8a8d \u7d0d\u54c1\u66f8\u95a2\u9023 \u00b6 \u7d0d\u54c1\u66f8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 \uff08\u65e2\u5b58\u306eExcel/PDF\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\uff09 \u5fc5\u9808\u9805\u76ee\u306e\u78ba\u5b9a \uff08\u5546\u54c1\u540d\u3001\u6570\u91cf\u3001\u30ed\u30c3\u30c8\u756a\u53f7\u7b49\uff09 \u5358\u4fa1\u30fb\u91d1\u984d\u306e\u8868\u793a\u8981\u5426 \u30de\u30b9\u30bf\u30c7\u30fc\u30bf \u00b6 \u5546\u54c1\u30de\u30b9\u30bf \uff08\u5546\u54c1\u4e00\u89a7\u3001\u30b1\u30fc\u30b9\u30b5\u30a4\u30ba\u3001SKU\uff09 \u5e97\u8217\u30de\u30b9\u30bf \uff0815\u5e97\u8217\u306e\u4e00\u89a7\u3001\u5e97\u8217\u30b3\u30fc\u30c9\uff09 \u512a\u5148\u5ea6\uff1a\u4e2d\uff08\u4eee\u6c7a\u3081\u3067\u9032\u884c\u53ef\u80fd\uff09 \u00b6 \u901a\u77e5\u95a2\u9023 \u00b6 \u52a0\u5de5\u4f1a\u793e\u3078\u306e\u51fa\u8377\u4f9d\u983c\u901a\u77e5\u65b9\u6cd5\uff08LINE/\u30e1\u30fc\u30eb/\u7ba1\u7406\u753b\u9762\uff09 \u7ba1\u7406\u8005LINE\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210 \u6a29\u9650\u30fb\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3 \u00b6 \u5e97\u8217\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u767b\u9332\u6642\u306e\u8a8d\u8a3c\u65b9\u6cd5 \u672c\u90e8\u30d0\u30a4\u30e4\u30fc\u306e\u62db\u5f85\u30b3\u30fc\u30c9\u7ba1\u7406\u30d5\u30ed\u30fc \ud83d\udcde \u304a\u554f\u3044\u5408\u308f\u305b \u00b6 \u8a73\u7d30\u4ed5\u69d8\u66f8 : \u8981\u4ef6\u5b9a\u7fa9\u66f8\u3092\u898b\u308b GitHub : https://github.com/kikuchi-mizuki/zaiko \u2705 \u307e\u3068\u3081 \u00b6 \u3053\u306e\u30b7\u30b9\u30c6\u30e0\u3067\u5b9f\u73fe\u3059\u308b\u3053\u3068 \u00b6 \u5e97\u8217\u304c LINE\u3067\u5373\u5ea7\u306b\u5728\u5eab\u78ba\u8a8d\u30fb\u767a\u6ce8 \u3067\u304d\u308b \u672c\u90e8\u304c \u30b9\u30de\u30db\u3067\u3082\u627f\u8a8d \u3067\u304d\u308b\uff08\u5916\u51fa\u5148\u3067\u3082OK\uff09 \u5728\u5eab\u306e\u78ba\u5ea6\u3092\u7ba1\u7406 \u3057\u3001\u4e8b\u6545\u3092\u9632\u3050 \u7d0d\u54c1\u66f8\u3092\u81ea\u52d5\u751f\u6210 \u3057\u3001\u624b\u4f5c\u696d\u3092\u524a\u6e1b \u307e\u305a\u306f Phase1\u3067\u66ab\u5b9a\u904b\u7528 \u3092\u958b\u59cb\u3001\u6bb5\u968e\u7684\u306b\u7cbe\u5ea6\u5411\u4e0a \u6b21\u306e\u30b9\u30c6\u30c3\u30d7 \u00b6 \u672c\u63d0\u6848\u66f8\u306e\u3054\u78ba\u8a8d \u78ba\u8a8d\u4e8b\u9805\u306e\u3054\u63d0\u4f9b \u8a73\u7d30\u4ed5\u69d8\u306e\u6700\u7d42\u78ba\u8a8d \u958b\u767a\u958b\u59cb \u63a8\u5968\u4e8b\u9805 Phase1\u306f \u66ab\u5b9a\u904b\u7528OK \u306e\u65b9\u91dd\u3067\u3059\u3002\u5b8c\u74a7\u3092\u76ee\u6307\u3059\u3088\u308a\u3001\u307e\u305a\u52d5\u304b\u3057\u3066\u6539\u5584\u3057\u3066\u3044\u304f\u30a2\u30d7\u30ed\u30fc\u30c1\u3067\u9032\u3081\u307e\u3059\u3002 Version: 1.0 | \u4f5c\u6210\u65e5: 2026\u5e742\u670815\u65e5","title":"\ud83d\udcc4 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5411\u3051\u63d0\u6848\u66f8"},{"location":"proposal/#15","text":"","title":"\u9ad8\u5cf6\u5c4b15\u5e97\u8217\u5411\u3051 \u8ffd\u52a0\u767a\u6ce8\u30fb\u5728\u5eab\u7167\u4f1a\u30b7\u30b9\u30c6\u30e0"},{"location":"proposal/#v10","text":"","title":"\u30b7\u30b9\u30c6\u30e0\u6982\u8981\u66f8 v1.0"},{"location":"proposal/#_1","text":"\u7e41\u5fd9\u671f\u306b\u304a\u3051\u308b\u9ad8\u5cf6\u5c4b15\u5e97\u8217\u304b\u3089\u306e \u7a81\u767a\u7684\u306a\u8ffd\u52a0\u767a\u6ce8\u5bfe\u5fdc\u3092\u52b9\u7387\u5316 \u3059\u308bLINE\u30d9\u30fc\u30b9\u306e\u81ea\u52d5\u5316\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002","title":"\ud83d\udcf1 \u30b7\u30b9\u30c6\u30e0\u6982\u8981"},{"location":"proposal/#_2","text":"\u73fe\u72b6\u306e\u8ab2\u984c \u30b7\u30b9\u30c6\u30e0\u5c0e\u5165\u5f8c \u96fb\u8a71\u30fb\u30e1\u30fc\u30eb\u3067\u306e\u5728\u5eab\u78ba\u8a8d\u306b\u6642\u9593\u304c\u304b\u304b\u308b LINE\u3067 \u5373\u5ea7\u306b\u5728\u5eab\u78ba\u8a8d \uff083\u79d2\u4ee5\u5185\uff09 \u672c\u90e8\u30fb\u8cb4\u793e\u30fb\u52a0\u5de5\u4f1a\u793e\u9593\u3067\u4f1d\u8a00\u30b2\u30fc\u30e0 \u30b7\u30b9\u30c6\u30e0\u3067 \u4e00\u5143\u7ba1\u7406 \u3001\u60c5\u5831\u306e\u9f5f\u9f6c\u3092\u524a\u6e1b \u5728\u5eab\u306e\u78ba\u5ea6\u304c\u4e0d\u660e\u78ba\u3067\u4e8b\u6545\u30ea\u30b9\u30af \u66ab\u5b9a/\u78ba\u5b9a\u3092\u660e\u78ba\u5316 \u3001\u5b89\u5168\u306a\u5728\u5eab\u7ba1\u7406 \u7d0d\u54c1\u66f8\u4f5c\u6210\u30fb\u7ba1\u7406\u304c\u624b\u4f5c\u696d PDF\u81ea\u52d5\u751f\u6210 \u3001\u30af\u30e9\u30a6\u30c9\u4fdd\u5b58","title":"\u89e3\u6c7a\u3059\u308b\u8ab2\u984c"},{"location":"proposal/#3","text":"","title":"\ud83c\udfaf \u4e3b\u8981\u6a5f\u80fd\uff083\u3064\u306e\u67f1\uff09"},{"location":"proposal/#1","text":"\u5e97\u8217\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u304cLINE\u3067\u5373\u5ea7\u306b\u5728\u5eab\u78ba\u8a8d \u2192\u300c\u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8 10\u30b1\u30fc\u30b9\u3042\u308a\u307e\u3059\u304b\uff1f\u300d \u2192\u300c\u5728\u5eab10\u30b1\u30fc\u30b9\u3042\u308a\u307e\u3059\uff08\u203b2\u6642\u9593\u524d\u306e\u60c5\u5831\uff09\u300d","title":"1\ufe0f\u20e3 \u5728\u5eab\u7167\u4f1a\uff08\u5e97\u8217\u5411\u3051\uff09"},{"location":"proposal/#2","text":"\u5e97\u8217\u304c\u767a\u6ce8 \u2192 \u672c\u90e8\u304c\u627f\u8a8d \u2192 \u81ea\u52d5\u3067\u5728\u5eab\u5f15\u5f53 \u3010\u7279\u5fb4\u3011\u4e00\u90e8\u627f\u8a8d\u6a5f\u80fd \u4f9d\u983c10\u30b1\u30fc\u30b9\u3001\u5728\u5eab7\u30b1\u30fc\u30b9\u306e\u5834\u5408 \u2192 7\u30b1\u30fc\u30b9\u627f\u8a8d\u3001\u6b8b\u308a3\u30b1\u30fc\u30b9\u306f\u5728\u5eab\u5f85\u3061\u3068\u3057\u3066\u81ea\u52d5\u7ba1\u7406","title":"2\ufe0f\u20e3 \u8ffd\u52a0\u767a\u6ce8\u30fb\u627f\u8a8d\uff08\u5e97\u8217\u30fb\u672c\u90e8\uff09"},{"location":"proposal/#3_1","text":"\u627f\u8a8d\u5b8c\u4e86 \u2192 \u7d0d\u54c1\u66f8PDF\u81ea\u52d5\u751f\u6210 \u2192 \u52a0\u5de5\u4f1a\u793e\u306b\u901a\u77e5 \u2192 \u51fa\u8377\u5b8c\u4e86\u5831\u544a \u2192 \u5e97\u8217\u306b\u901a\u77e5","title":"3\ufe0f\u20e3 \u51fa\u8377\u4f9d\u983c\u30fb\u7d0d\u54c1\u66f8\uff08\u52a0\u5de5\u4f1a\u793e\uff09"},{"location":"proposal/#_3","text":"flowchart TD A[\u5e97\u8217<br/>LINE] -->|\u2460 \u5728\u5eab\u7167\u4f1a\u30fb\u767a\u6ce8\u4f9d\u983c| B[\u672c\u90e8<br/>LINE/PC] B -->|\u2461 \u627f\u8a8d\u30fb\u5dee\u623b\u3057\u30fb\u4e00\u90e8\u627f\u8a8d| C[\u30b7\u30b9\u30c6\u30e0] C -->|\u2462 \u81ea\u52d5\u3067\u5728\u5eab\u5f15\u5f53<br/>\u2463 \u7d0d\u54c1\u66f8PDF\u751f\u6210| D[\u52a0\u5de5\u4f1a\u793e<br/>\u7ba1\u7406\u753b\u9762] D -->|\u2464 \u51fa\u8377\u4f9d\u983c\u53d7\u9818<br/>\u2465 \u51fa\u8377\u5b8c\u4e86\u5831\u544a| E[\u5b8c\u4e86] style A fill:#e1f5ff style B fill:#fff4e1 style C fill:#f0e1ff style D fill:#e1ffe1 style E fill:#ffe1e1","title":"\ud83d\udd04 \u696d\u52d9\u30d5\u30ed\u30fc"},{"location":"proposal/#_4","text":"","title":"\ud83d\udca1 \u7279\u5fb4\u30fb\u30e1\u30ea\u30c3\u30c8"},{"location":"proposal/#_5","text":"\u5728\u5eab\u7167\u4f1a\uff1a 3\u79d2\u4ee5\u5185 \u767a\u6ce8\u53d7\u4ed8\uff1a 5\u79d2\u4ee5\u5185 24\u6642\u9593365\u65e5\u5bfe\u5fdc","title":"\ud83d\ude80 \u30b9\u30d4\u30fc\u30c9"},{"location":"proposal/#_6","text":"LINE\u3067\u5b8c\u7d50 \uff08\u65b0\u3057\u3044\u30a2\u30d7\u30ea\u4e0d\u8981\uff09 \u5546\u54c1\u9078\u629e\u5f0f\uff08\u5165\u529b\u30df\u30b9\u306a\u3057\uff09 \u30ea\u30c3\u30c1\u30e1\u30cb\u30e5\u30fc\u3067\u30ef\u30f3\u30bf\u30c3\u30d7\u64cd\u4f5c","title":"\ud83c\udfa8 \u4f7f\u3044\u3084\u3059\u3055"},{"location":"proposal/#_7","text":"\u5728\u5eab\u306e\u78ba\u5ea6\u7ba1\u7406\uff08\u66ab\u5b9a/\u78ba\u5b9a\uff09 \u4eee\u5f15\u5f53\u671f\u9650\u7ba1\u7406\uff0824\u6642\u9593\uff09 \u8ab0\u304c\u627f\u8a8d\u3057\u305f\u304b\u8a18\u9332","title":"\ud83d\udd12 \u5b89\u5168\u6027"},{"location":"proposal/#_8","text":"\u7d0d\u54c1\u66f8\u81ea\u52d5\u751f\u6210\uff08\u624b\u4f5c\u696d\u524a\u6e1b\uff09 Excel\u5728\u5eab\u306e\u81ea\u52d5\u540c\u671f\uff085\u5206\u6bce\uff09 \u4f1d\u8a00\u30b2\u30fc\u30e0\u524a\u6e1b","title":"\ud83d\udcca \u52b9\u7387\u5316"},{"location":"proposal/#_9","text":"\u9805\u76ee \u6280\u8853 \u5099\u8003 \u30d5\u30ed\u30f3\u30c8 LINE Official Account \u65e2\u5b58LINE\u30a2\u30ab\u30a6\u30f3\u30c8\u6d3b\u7528\u53ef \u30d0\u30c3\u30af\u30a8\u30f3\u30c9 Python (FastAPI) \u9ad8\u901f\u30fb\u5b89\u5b9a \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9 Supabase (PostgreSQL) \u30af\u30e9\u30a6\u30c9\u3001\u81ea\u52d5\u30d0\u30c3\u30af\u30a2\u30c3\u30d7 \u30d5\u30a1\u30a4\u30eb Supabase Storage \u7d0d\u54c1\u66f8PDF\u4fdd\u5b58 \u5728\u5eab\u5165\u529b Excel \u2192 \u81ea\u52d5\u540c\u671f Phase1\u306f\u624b\u52d5\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9","title":"\ud83d\udee0 \u6280\u8853\u69cb\u6210"},{"location":"proposal/#_10","text":"","title":"\ud83d\udcc5 \u958b\u767a\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb"},{"location":"proposal/#phase1mvp-2","text":"\u9031 \u30bf\u30b9\u30af \u6210\u679c\u7269 1-2 \u8981\u4ef6\u78ba\u5b9a\u30fb\u8a2d\u8a08 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08\u66f8 3-4 LINE\u57fa\u672c\u6a5f\u80fd \u5728\u5eab\u7167\u4f1a\u30fb\u8ffd\u52a0\u767a\u6ce8 5 \u672c\u90e8\u627f\u8a8d\u6a5f\u80fd \u627f\u8a8d\u30fb\u5dee\u623b\u3057\u30fb\u4e00\u90e8\u627f\u8a8d 6 Excel\u540c\u671f \u81ea\u52d5\u540c\u671f\u51e6\u7406 7 \u7d0d\u54c1\u66f8\u751f\u6210 PDF\u81ea\u52d5\u751f\u6210 8-9 \u7d71\u5408\u30c6\u30b9\u30c8\u30fb\u8abf\u6574 \u904b\u7528\u958b\u59cb","title":"Phase1\uff08MVP\uff09- \u7d042\u30f6\u6708"},{"location":"proposal/#phase2-1","text":"\u4eee\u5f15\u5f53\u671f\u9650\u5207\u308c\u81ea\u52d5\u89e3\u9664 Excel\u81ea\u52d5\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\uff08Google\u30c9\u30e9\u30a4\u30d6\u9023\u643a\uff09 \u7d0d\u54c1\u4e00\u89a7\u306e\u81ea\u52d5\u51fa\u529b","title":"Phase2\uff08\u7cbe\u5ea6\u5411\u4e0a\uff09- \u7d041\u30f6\u6708"},{"location":"proposal/#phase3-2","text":"\u30ed\u30c3\u30c8/\u8cde\u5473\u671f\u9650\u6700\u9069\u5316\uff08FIFO\uff09 \u7d0d\u54c1\u65e5\u7cbe\u5ea6\u6539\u5584 \u672c\u90e8\u627f\u8a8d\u306e\u6761\u4ef6\u4ed8\u304d\u81ea\u52d5\u5316","title":"Phase3\uff08\u6700\u9069\u5316\uff09- \u7d042\u30f6\u6708"},{"location":"proposal/#_11","text":"","title":"\ud83d\udcb0 \u5c0e\u5165\u52b9\u679c\uff08\u60f3\u5b9a\uff09"},{"location":"proposal/#_12","text":"\u5728\u5eab\u78ba\u8a8d\u306e\u96fb\u8a71\u5bfe\u5fdc\uff1a 80%\u524a\u6e1b \u7d0d\u54c1\u66f8\u4f5c\u6210\u6642\u9593\uff1a 90%\u524a\u6e1b \u767a\u6ce8\u51e6\u7406\u6642\u9593\uff1a 60%\u524a\u6e1b","title":"\u5de5\u6570\u524a\u6e1b"},{"location":"proposal/#_13","text":"\u5728\u5eab\u78ba\u8a8d\u30df\u30b9\uff1a \u307b\u307c\u30bc\u30ed \u4f1d\u9054\u30df\u30b9\uff1a \u5927\u5e45\u524a\u6e1b","title":"\u30df\u30b9\u524a\u6e1b"},{"location":"proposal/#_14","text":"\u8fc5\u901f\u306a\u5728\u5eab\u56de\u7b54 \u6b63\u78ba\u306a\u7d0d\u54c1\u4e88\u5b9a","title":"\u9867\u5ba2\u6e80\u8db3\u5ea6\u5411\u4e0a"},{"location":"proposal/#phase1","text":"\u4ee5\u4e0b\u306e\u60c5\u5831\u3092\u3054\u63d0\u4f9b\u3044\u305f\u3060\u304f\u3068\u30b9\u30e0\u30fc\u30ba\u306b\u958b\u767a\u3092\u958b\u59cb\u3067\u304d\u307e\u3059\uff1a","title":"\ud83d\udccb Phase1\u5b9f\u88c5\u524d\u306e\u78ba\u8a8d\u4e8b\u9805"},{"location":"proposal/#_15","text":"","title":"\u512a\u5148\u5ea6\uff1a\u9ad8\uff08\u5fc5\u9808\uff09"},{"location":"proposal/#_18","text":"","title":"\u512a\u5148\u5ea6\uff1a\u4e2d\uff08\u4eee\u6c7a\u3081\u3067\u9032\u884c\u53ef\u80fd\uff09"},{"location":"proposal/#_21","text":"\u8a73\u7d30\u4ed5\u69d8\u66f8 : \u8981\u4ef6\u5b9a\u7fa9\u66f8\u3092\u898b\u308b GitHub : https://github.com/kikuchi-mizuki/zaiko","title":"\ud83d\udcde \u304a\u554f\u3044\u5408\u308f\u305b"},{"location":"proposal/#_22","text":"","title":"\u2705 \u307e\u3068\u3081"},{"location":"proposal/#_23","text":"\u5e97\u8217\u304c LINE\u3067\u5373\u5ea7\u306b\u5728\u5eab\u78ba\u8a8d\u30fb\u767a\u6ce8 \u3067\u304d\u308b \u672c\u90e8\u304c \u30b9\u30de\u30db\u3067\u3082\u627f\u8a8d \u3067\u304d\u308b\uff08\u5916\u51fa\u5148\u3067\u3082OK\uff09 \u5728\u5eab\u306e\u78ba\u5ea6\u3092\u7ba1\u7406 \u3057\u3001\u4e8b\u6545\u3092\u9632\u3050 \u7d0d\u54c1\u66f8\u3092\u81ea\u52d5\u751f\u6210 \u3057\u3001\u624b\u4f5c\u696d\u3092\u524a\u6e1b \u307e\u305a\u306f Phase1\u3067\u66ab\u5b9a\u904b\u7528 \u3092\u958b\u59cb\u3001\u6bb5\u968e\u7684\u306b\u7cbe\u5ea6\u5411\u4e0a","title":"\u3053\u306e\u30b7\u30b9\u30c6\u30e0\u3067\u5b9f\u73fe\u3059\u308b\u3053\u3068"},{"location":"proposal/#_24","text":"\u672c\u63d0\u6848\u66f8\u306e\u3054\u78ba\u8a8d \u78ba\u8a8d\u4e8b\u9805\u306e\u3054\u63d0\u4f9b \u8a73\u7d30\u4ed5\u69d8\u306e\u6700\u7d42\u78ba\u8a8d \u958b\u767a\u958b\u59cb \u63a8\u5968\u4e8b\u9805 Phase1\u306f \u66ab\u5b9a\u904b\u7528OK \u306e\u65b9\u91dd\u3067\u3059\u3002\u5b8c\u74a7\u3092\u76ee\u6307\u3059\u3088\u308a\u3001\u307e\u305a\u52d5\u304b\u3057\u3066\u6539\u5584\u3057\u3066\u3044\u304f\u30a2\u30d7\u30ed\u30fc\u30c1\u3067\u9032\u3081\u307e\u3059\u3002 Version: 1.0 | \u4f5c\u6210\u65e5: 2026\u5e742\u670815\u65e5","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"},{"location":"requirements/database/","text":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08 \u00b6 \u516811\u30c6\u30fc\u30d6\u30eb\u3067\u69cb\u6210\u3055\u308c\u307e\u3059\u3002 \u30de\u30b9\u30bf\u30c6\u30fc\u30d6\u30eb \u00b6 stores\uff08\u5e97\u8217\u30de\u30b9\u30bf\uff09 \u00b6 CREATE TABLE stores ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), name TEXT NOT NULL , -- \u4f8b: \u9ad8\u5cf6\u5c4b\u65b0\u5bbf\u5e97 code TEXT UNIQUE NOT NULL , -- \u5e97\u8217\u30b3\u30fc\u30c9 is_active BOOLEAN DEFAULT true , created_at TIMESTAMPTZ DEFAULT now (), updated_at TIMESTAMPTZ DEFAULT now () ); products\uff08\u5546\u54c1\u30de\u30b9\u30bf\uff09 \u00b6 CREATE TABLE products ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), name TEXT NOT NULL , sku TEXT UNIQUE , -- SKU\u30b3\u30fc\u30c9\uff08\u4efb\u610f\uff09 case_size INT NOT NULL , -- 1\u30b1\u30fc\u30b9\u3042\u305f\u308a\u500b\u6570 is_active BOOLEAN DEFAULT true , created_at TIMESTAMPTZ DEFAULT now (), updated_at TIMESTAMPTZ DEFAULT now () ); \u30e6\u30fc\u30b6\u30fc\u7ba1\u7406 \u00b6 line_users\uff08LINE\u30e6\u30fc\u30b6\u30fc\uff09 \u00b6 CREATE TABLE line_users ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), line_user_id TEXT UNIQUE NOT NULL , -- LINE User ID display_name TEXT , store_id UUID REFERENCES stores ( id ), -- store_manager\u306e\u307f\u5fc5\u9808 role TEXT NOT NULL , -- 'store_manager' | 'buyer' | 'admin' supabase_auth_user_id UUID REFERENCES auth . users ( id ), -- \u5c06\u6765\u306e\u7d10\u4ed8\u3051\u7528 is_active BOOLEAN DEFAULT true , created_at TIMESTAMPTZ DEFAULT now (), updated_at TIMESTAMPTZ DEFAULT now () ); \u5236\u7d04 : - store_id \u306f role='store_manager' \u306e\u5834\u5408\u306e\u307f\u5fc5\u9808 - role \u306f ENUM \u578b\u3092\u63a8\u5968 invitation_codes\uff08\u62db\u5f85\u30b3\u30fc\u30c9\uff09 \u00b6 CREATE TABLE invitation_codes ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), code TEXT UNIQUE NOT NULL , -- \u62db\u5f85\u30b3\u30fc\u30c9 role TEXT NOT NULL , -- 'buyer' | 'admin' created_by UUID REFERENCES auth . users ( id ), used_by_line_user_id TEXT REFERENCES line_users ( line_user_id ), used_at TIMESTAMPTZ , expires_at TIMESTAMPTZ NOT NULL , is_active BOOLEAN DEFAULT true , created_at TIMESTAMPTZ DEFAULT now () ); \u5728\u5eab\u7ba1\u7406 \u00b6 inventory\uff08\u5728\u5eab\uff09 \u00b6 CREATE TABLE inventory ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), product_id UUID NOT NULL REFERENCES products ( id ), lot_no TEXT , expiry_date DATE , qty_cases NUMERIC NOT NULL , status TEXT NOT NULL , -- 'confirmed' | 'provisional'\uff08Phase1\u3067\u306f\u5168\u3066provisional\uff09 updated_at TIMESTAMPTZ DEFAULT now (), source TEXT NOT NULL , -- 'excel_sync' | 'admin' | 'factory' note TEXT ); Phase1\u904b\u7528 : - \u5168\u3066 status='provisional' \u3067\u904b\u7528 - source='excel_sync' \u304c\u57fa\u672c inventory_sync_log\uff08\u5728\u5eab\u540c\u671f\u30ed\u30b0\uff09 \u00b6 CREATE TABLE inventory_sync_log ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), sync_at TIMESTAMPTZ DEFAULT now (), file_last_modified TIMESTAMPTZ NOT NULL , -- Excel\u30d5\u30a1\u30a4\u30eb\u306e\u66f4\u65b0\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7 file_path TEXT NOT NULL , -- Storage\u5185\u306e\u30d1\u30b9 records_imported INT NOT NULL , -- \u53d6\u308a\u8fbc\u3093\u3060\u884c\u6570 status TEXT NOT NULL , -- 'success' | 'warning' | 'failed' error_message TEXT ); \u767a\u6ce8\u7ba1\u7406 \u00b6 requests\uff08\u8ffd\u52a0\u767a\u6ce8\u30ea\u30af\u30a8\u30b9\u30c8\uff09 \u00b6 CREATE TABLE requests ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), store_id UUID NOT NULL REFERENCES stores ( id ), product_id UUID NOT NULL REFERENCES products ( id ), qty_requested NUMERIC NOT NULL , desired_date DATE , -- \u5e0c\u671b\u7d0d\u54c1\u65e5\uff08\u53c2\u8003\u60c5\u5831\uff09 status TEXT NOT NULL , -- \u4e0b\u8a18\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u4e00\u89a7\u53c2\u7167 parent_request_id UUID REFERENCES requests ( id ), -- \u4e00\u90e8\u627f\u8a8d\u6642\u306e\u5206\u5272\u5143 approved_qty NUMERIC , -- \u4e00\u90e8\u627f\u8a8d\u6642\u306e\u5b9f\u969b\u306e\u627f\u8a8d\u6570\u91cf rejected_reason TEXT , -- \u5dee\u623b\u3057\u7406\u7531 error_message TEXT , -- \u30a8\u30e9\u30fc\u5185\u5bb9 error_at TIMESTAMPTZ , approved_by_line_user_id TEXT REFERENCES line_users ( line_user_id ), -- LINE\u7d4c\u7531\u306e\u627f\u8a8d approved_by_admin_id UUID REFERENCES auth . users ( id ), -- \u7ba1\u7406\u753b\u9762\u7d4c\u7531\u306e\u627f\u8a8d approved_at TIMESTAMPTZ , created_by_line_user_id TEXT REFERENCES line_users ( line_user_id ), created_at TIMESTAMPTZ DEFAULT now (), updated_at TIMESTAMPTZ DEFAULT now () ); \u30b9\u30c6\u30fc\u30bf\u30b9\u4e00\u89a7 \u00b6 \u30b9\u30c6\u30fc\u30bf\u30b9 \u8aac\u660e pending_approval \u5e97\u8217\u304c\u4f9d\u983c\u2192\u672c\u90e8\u627f\u8a8d\u5f85\u3061 approved \u672c\u90e8\u627f\u8a8d\u6e08\u307f allocated_hold \u4eee\u5f15\u5f53\u5b8c\u4e86\uff08\u5168\u91cf\uff09 partially_confirmed \u4e00\u90e8\u3060\u3051\u78ba\u5b9a\u5f15\u5f53 confirmed \u5168\u91cf\u78ba\u5b9a\u5f15\u5f53 shipment_requested \u51fa\u8377\u4f9d\u983c\u6e08\u307f partially_shipped \u4e00\u90e8\u51fa\u8377\u5b8c\u4e86 shipped \u5168\u91cf\u51fa\u8377\u5b8c\u4e86 cancelled \u30ad\u30e3\u30f3\u30bb\u30eb rejected \u5dee\u623b\u3057 pending_inventory \u5728\u5eab\u5f85\u3061\uff08\u5206\u5272\u3055\u308c\u305f\u4fdd\u7559\u5206\uff09 \u30b9\u30c6\u30fc\u30bf\u30b9\u9077\u79fb\u56f3 \u00b6 graph TD A[pending_approval] --> B[approved \u5168\u91cf\u627f\u8a8d] A --> C[approved \u4e00\u90e8\u627f\u8a8d] A --> D[rejected] A --> E[cancelled] B --> F[allocated_hold] C --> F C --> G[pending_inventory \u5b50\u30ea\u30af\u30a8\u30b9\u30c8\u4f5c\u6210] F --> H[partially_confirmed] F --> I[confirmed] H --> J[shipment_requested] I --> J J --> K[partially_shipped] J --> L[shipped] D --> M[\u65b0 pending_approval \u4fee\u6b63\u518d\u63d0\u51fa] G --> B G --> E allocations\uff08\u4eee\u5f15\u5f53/\u78ba\u5b9a\u5f15\u5f53\uff09 \u00b6 CREATE TABLE allocations ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), request_id UUID NOT NULL REFERENCES requests ( id ), inventory_id UUID NOT NULL REFERENCES inventory ( id ), qty_allocated NUMERIC NOT NULL , type TEXT NOT NULL , -- 'hold' | 'confirmed' status TEXT NOT NULL , -- 'active' | 'expired' | 'released' | 'shipped' expires_at TIMESTAMPTZ , -- hold\u306e\u307f\u3001\u4f5c\u6210\u6642\u523b + 24\u6642\u9593 confirmed_at TIMESTAMPTZ , created_at TIMESTAMPTZ DEFAULT now (), updated_at TIMESTAMPTZ DEFAULT now () ); \u904b\u7528\u30eb\u30fc\u30eb : \u627f\u8a8d\u6642: type='hold' , status='active' , expires_at=+24\u6642\u9593 \u671f\u9650\u5207\u308c\u6642: status='active' \u306e\u307e\u307e\u3001\u8b66\u544a\u306e\u307f \u624b\u52d5\u89e3\u653e: status='released' \u78ba\u5b9a: type='confirmed' , confirmed_at=now() \u51fa\u8377\u5b8c\u4e86: status='shipped' \u51fa\u8377\u7ba1\u7406 \u00b6 shipments\uff08\u51fa\u8377\uff09 \u00b6 CREATE TABLE shipments ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), request_id UUID NOT NULL REFERENCES requests ( id ), ship_to_store_id UUID NOT NULL REFERENCES stores ( id ), tracking_number TEXT , status TEXT NOT NULL , -- 'requested' | 'packed' | 'shipped' | 'delivered' | 'cancelled' shipped_at TIMESTAMPTZ , delivered_at TIMESTAMPTZ , note TEXT , -- \u7d0d\u54c1\u65e5\u3092\u624b\u52d5\u8a18\u9332\u3059\u308b\u5834\u5408\u306a\u3069 created_at TIMESTAMPTZ DEFAULT now (), updated_at TIMESTAMPTZ DEFAULT now () ); documents\uff08\u5e33\u7968\uff09 \u00b6 CREATE TABLE documents ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), request_id UUID NOT NULL REFERENCES requests ( id ), doc_type TEXT NOT NULL , -- 'delivery_note' storage_bucket TEXT NOT NULL , -- 'documents' storage_path TEXT NOT NULL , -- \u4f8b: delivery_notes/2026/02/request_id_v1.pdf version INT NOT NULL DEFAULT 1 , -- 1, 2, 3... is_latest BOOLEAN DEFAULT true , -- \u6700\u65b0\u7248\u30d5\u30e9\u30b0 created_at TIMESTAMPTZ DEFAULT now (), created_by UUID REFERENCES auth . users ( id ) ); \u30b7\u30b9\u30c6\u30e0\u8a2d\u5b9a \u00b6 system_settings\uff08\u30b7\u30b9\u30c6\u30e0\u8a2d\u5b9a\uff09 \u00b6 CREATE TABLE system_settings ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), key TEXT UNIQUE NOT NULL , value TEXT NOT NULL , description TEXT , updated_at TIMESTAMPTZ DEFAULT now () ); \u8a2d\u5b9a\u4f8b : key value description admin_notification_line_group_id U1234... \u7ba1\u7406\u8005\u901a\u77e5\u5148LINE\u30b0\u30eb\u30fc\u30d7ID inventory_storage_bucket inventory \u5728\u5eabExcel\u4fdd\u5b58\u5148bucket excel_staleness_warning_hours 2 \u5728\u5eab\u60c5\u5831\u306e\u53e4\u3055\u8b66\u544a\u95be\u5024 allocation_hold_hours 24 \u4eee\u5f15\u5f53\u671f\u9650 RLS\uff08Row Level Security\uff09 \u00b6 \u524d\u63d0 \u00b6 LINE\u30dc\u30c3\u30c8 : service role \u3067\u5168\u4ef6\u30a2\u30af\u30bb\u30b9\uff08RLS\u30d0\u30a4\u30d1\u30b9\uff09 \u7ba1\u7406\u753b\u9762 : Supabase Auth + RLS \u3067\u5236\u5fa1 RLS\u30dd\u30ea\u30b7\u30fc\u4f8b \u00b6 requests \u30c6\u30fc\u30d6\u30eb \u00b6 -- \u5e97\u8217\u30de\u30cd\u30fc\u30b8\u30e3\u30fc: \u81ea\u5e97\u8217\u306e\u307f\u95b2\u89a7 CREATE POLICY \"store_manager_select_own\" ON requests FOR SELECT USING ( EXISTS ( SELECT 1 FROM line_users WHERE line_users . supabase_auth_user_id = auth . uid () AND line_users . role = 'store_manager' AND requests . store_id = line_users . store_id ) ); -- \u672c\u90e8\u30d0\u30a4\u30e4\u30fc\u30fb\u7ba1\u7406\u8005: \u5168\u4ef6\u95b2\u89a7 CREATE POLICY \"buyer_admin_select_all\" ON requests FOR SELECT USING ( EXISTS ( SELECT 1 FROM line_users WHERE line_users . supabase_auth_user_id = auth . uid () AND line_users . role IN ( 'buyer' , 'admin' ) ) ); inventory \u30c6\u30fc\u30d6\u30eb \u00b6 -- \u672c\u90e8\u30d0\u30a4\u30e4\u30fc\u30fb\u7ba1\u7406\u8005\u306e\u307f\u95b2\u89a7\u53ef CREATE POLICY \"buyer_admin_select_inventory\" ON inventory FOR SELECT USING ( EXISTS ( SELECT 1 FROM line_users WHERE line_users . supabase_auth_user_id = auth . uid () AND line_users . role IN ( 'buyer' , 'admin' ) ) ); \u30a4\u30f3\u30c7\u30c3\u30af\u30b9 \u00b6 \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6700\u9069\u5316\u306e\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\uff1a -- requests CREATE INDEX idx_requests_status ON requests ( status ); CREATE INDEX idx_requests_store_id ON requests ( store_id ); CREATE INDEX idx_requests_created_at ON requests ( created_at ); -- allocations CREATE INDEX idx_allocations_request_id ON allocations ( request_id ); CREATE INDEX idx_allocations_expires_at ON allocations ( expires_at ) WHERE type = 'hold' ; -- inventory CREATE INDEX idx_inventory_product_id ON inventory ( product_id ); CREATE INDEX idx_inventory_status ON inventory ( status ); \u521d\u671f\u30c7\u30fc\u30bf \u00b6 Phase1\u958b\u59cb\u524d\u306b\u4ee5\u4e0b\u306e\u30de\u30b9\u30bf\u30c7\u30fc\u30bf\u6295\u5165\u304c\u5fc5\u8981\uff1a stores\uff0815\u5e97\u8217\uff09 products\uff08\u5546\u54c1\u4e00\u89a7\uff09 system_settings\uff08\u57fa\u672c\u8a2d\u5b9a\uff09","title":"7. \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08"},{"location":"requirements/database/#_1","text":"\u516811\u30c6\u30fc\u30d6\u30eb\u3067\u69cb\u6210\u3055\u308c\u307e\u3059\u3002","title":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08"},{"location":"requirements/database/#_2","text":"","title":"\u30de\u30b9\u30bf\u30c6\u30fc\u30d6\u30eb"},{"location":"requirements/database/#stores","text":"CREATE TABLE stores ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), name TEXT NOT NULL , -- \u4f8b: \u9ad8\u5cf6\u5c4b\u65b0\u5bbf\u5e97 code TEXT UNIQUE NOT NULL , -- \u5e97\u8217\u30b3\u30fc\u30c9 is_active BOOLEAN DEFAULT true , created_at TIMESTAMPTZ DEFAULT now (), updated_at TIMESTAMPTZ DEFAULT now () );","title":"stores\uff08\u5e97\u8217\u30de\u30b9\u30bf\uff09"},{"location":"requirements/database/#products","text":"CREATE TABLE products ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), name TEXT NOT NULL , sku TEXT UNIQUE , -- SKU\u30b3\u30fc\u30c9\uff08\u4efb\u610f\uff09 case_size INT NOT NULL , -- 1\u30b1\u30fc\u30b9\u3042\u305f\u308a\u500b\u6570 is_active BOOLEAN DEFAULT true , created_at TIMESTAMPTZ DEFAULT now (), updated_at TIMESTAMPTZ DEFAULT now () );","title":"products\uff08\u5546\u54c1\u30de\u30b9\u30bf\uff09"},{"location":"requirements/database/#_3","text":"","title":"\u30e6\u30fc\u30b6\u30fc\u7ba1\u7406"},{"location":"requirements/database/#line_usersline","text":"CREATE TABLE line_users ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), line_user_id TEXT UNIQUE NOT NULL , -- LINE User ID display_name TEXT , store_id UUID REFERENCES stores ( id ), -- store_manager\u306e\u307f\u5fc5\u9808 role TEXT NOT NULL , -- 'store_manager' | 'buyer' | 'admin' supabase_auth_user_id UUID REFERENCES auth . users ( id ), -- \u5c06\u6765\u306e\u7d10\u4ed8\u3051\u7528 is_active BOOLEAN DEFAULT true , created_at TIMESTAMPTZ DEFAULT now (), updated_at TIMESTAMPTZ DEFAULT now () ); \u5236\u7d04 : - store_id \u306f role='store_manager' \u306e\u5834\u5408\u306e\u307f\u5fc5\u9808 - role \u306f ENUM \u578b\u3092\u63a8\u5968","title":"line_users\uff08LINE\u30e6\u30fc\u30b6\u30fc\uff09"},{"location":"requirements/database/#invitation_codes","text":"CREATE TABLE invitation_codes ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), code TEXT UNIQUE NOT NULL , -- \u62db\u5f85\u30b3\u30fc\u30c9 role TEXT NOT NULL , -- 'buyer' | 'admin' created_by UUID REFERENCES auth . users ( id ), used_by_line_user_id TEXT REFERENCES line_users ( line_user_id ), used_at TIMESTAMPTZ , expires_at TIMESTAMPTZ NOT NULL , is_active BOOLEAN DEFAULT true , created_at TIMESTAMPTZ DEFAULT now () );","title":"invitation_codes\uff08\u62db\u5f85\u30b3\u30fc\u30c9\uff09"},{"location":"requirements/database/#_4","text":"","title":"\u5728\u5eab\u7ba1\u7406"},{"location":"requirements/database/#inventory","text":"CREATE TABLE inventory ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), product_id UUID NOT NULL REFERENCES products ( id ), lot_no TEXT , expiry_date DATE , qty_cases NUMERIC NOT NULL , status TEXT NOT NULL , -- 'confirmed' | 'provisional'\uff08Phase1\u3067\u306f\u5168\u3066provisional\uff09 updated_at TIMESTAMPTZ DEFAULT now (), source TEXT NOT NULL , -- 'excel_sync' | 'admin' | 'factory' note TEXT ); Phase1\u904b\u7528 : - \u5168\u3066 status='provisional' \u3067\u904b\u7528 - source='excel_sync' \u304c\u57fa\u672c","title":"inventory\uff08\u5728\u5eab\uff09"},{"location":"requirements/database/#inventory_sync_log","text":"CREATE TABLE inventory_sync_log ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), sync_at TIMESTAMPTZ DEFAULT now (), file_last_modified TIMESTAMPTZ NOT NULL , -- Excel\u30d5\u30a1\u30a4\u30eb\u306e\u66f4\u65b0\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7 file_path TEXT NOT NULL , -- Storage\u5185\u306e\u30d1\u30b9 records_imported INT NOT NULL , -- \u53d6\u308a\u8fbc\u3093\u3060\u884c\u6570 status TEXT NOT NULL , -- 'success' | 'warning' | 'failed' error_message TEXT );","title":"inventory_sync_log\uff08\u5728\u5eab\u540c\u671f\u30ed\u30b0\uff09"},{"location":"requirements/database/#_5","text":"","title":"\u767a\u6ce8\u7ba1\u7406"},{"location":"requirements/database/#requests","text":"CREATE TABLE requests ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), store_id UUID NOT NULL REFERENCES stores ( id ), product_id UUID NOT NULL REFERENCES products ( id ), qty_requested NUMERIC NOT NULL , desired_date DATE , -- \u5e0c\u671b\u7d0d\u54c1\u65e5\uff08\u53c2\u8003\u60c5\u5831\uff09 status TEXT NOT NULL , -- \u4e0b\u8a18\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u4e00\u89a7\u53c2\u7167 parent_request_id UUID REFERENCES requests ( id ), -- \u4e00\u90e8\u627f\u8a8d\u6642\u306e\u5206\u5272\u5143 approved_qty NUMERIC , -- \u4e00\u90e8\u627f\u8a8d\u6642\u306e\u5b9f\u969b\u306e\u627f\u8a8d\u6570\u91cf rejected_reason TEXT , -- \u5dee\u623b\u3057\u7406\u7531 error_message TEXT , -- \u30a8\u30e9\u30fc\u5185\u5bb9 error_at TIMESTAMPTZ , approved_by_line_user_id TEXT REFERENCES line_users ( line_user_id ), -- LINE\u7d4c\u7531\u306e\u627f\u8a8d approved_by_admin_id UUID REFERENCES auth . users ( id ), -- \u7ba1\u7406\u753b\u9762\u7d4c\u7531\u306e\u627f\u8a8d approved_at TIMESTAMPTZ , created_by_line_user_id TEXT REFERENCES line_users ( line_user_id ), created_at TIMESTAMPTZ DEFAULT now (), updated_at TIMESTAMPTZ DEFAULT now () );","title":"requests\uff08\u8ffd\u52a0\u767a\u6ce8\u30ea\u30af\u30a8\u30b9\u30c8\uff09"},{"location":"requirements/database/#allocations","text":"CREATE TABLE allocations ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), request_id UUID NOT NULL REFERENCES requests ( id ), inventory_id UUID NOT NULL REFERENCES inventory ( id ), qty_allocated NUMERIC NOT NULL , type TEXT NOT NULL , -- 'hold' | 'confirmed' status TEXT NOT NULL , -- 'active' | 'expired' | 'released' | 'shipped' expires_at TIMESTAMPTZ , -- hold\u306e\u307f\u3001\u4f5c\u6210\u6642\u523b + 24\u6642\u9593 confirmed_at TIMESTAMPTZ , created_at TIMESTAMPTZ DEFAULT now (), updated_at TIMESTAMPTZ DEFAULT now () ); \u904b\u7528\u30eb\u30fc\u30eb : \u627f\u8a8d\u6642: type='hold' , status='active' , expires_at=+24\u6642\u9593 \u671f\u9650\u5207\u308c\u6642: status='active' \u306e\u307e\u307e\u3001\u8b66\u544a\u306e\u307f \u624b\u52d5\u89e3\u653e: status='released' \u78ba\u5b9a: type='confirmed' , confirmed_at=now() \u51fa\u8377\u5b8c\u4e86: status='shipped'","title":"allocations\uff08\u4eee\u5f15\u5f53/\u78ba\u5b9a\u5f15\u5f53\uff09"},{"location":"requirements/database/#_8","text":"","title":"\u51fa\u8377\u7ba1\u7406"},{"location":"requirements/database/#shipments","text":"CREATE TABLE shipments ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), request_id UUID NOT NULL REFERENCES requests ( id ), ship_to_store_id UUID NOT NULL REFERENCES stores ( id ), tracking_number TEXT , status TEXT NOT NULL , -- 'requested' | 'packed' | 'shipped' | 'delivered' | 'cancelled' shipped_at TIMESTAMPTZ , delivered_at TIMESTAMPTZ , note TEXT , -- \u7d0d\u54c1\u65e5\u3092\u624b\u52d5\u8a18\u9332\u3059\u308b\u5834\u5408\u306a\u3069 created_at TIMESTAMPTZ DEFAULT now (), updated_at TIMESTAMPTZ DEFAULT now () );","title":"shipments\uff08\u51fa\u8377\uff09"},{"location":"requirements/database/#documents","text":"CREATE TABLE documents ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), request_id UUID NOT NULL REFERENCES requests ( id ), doc_type TEXT NOT NULL , -- 'delivery_note' storage_bucket TEXT NOT NULL , -- 'documents' storage_path TEXT NOT NULL , -- \u4f8b: delivery_notes/2026/02/request_id_v1.pdf version INT NOT NULL DEFAULT 1 , -- 1, 2, 3... is_latest BOOLEAN DEFAULT true , -- \u6700\u65b0\u7248\u30d5\u30e9\u30b0 created_at TIMESTAMPTZ DEFAULT now (), created_by UUID REFERENCES auth . users ( id ) );","title":"documents\uff08\u5e33\u7968\uff09"},{"location":"requirements/database/#_9","text":"","title":"\u30b7\u30b9\u30c6\u30e0\u8a2d\u5b9a"},{"location":"requirements/database/#system_settings","text":"CREATE TABLE system_settings ( id UUID PRIMARY KEY DEFAULT gen_random_uuid (), key TEXT UNIQUE NOT NULL , value TEXT NOT NULL , description TEXT , updated_at TIMESTAMPTZ DEFAULT now () ); \u8a2d\u5b9a\u4f8b : key value description admin_notification_line_group_id U1234... \u7ba1\u7406\u8005\u901a\u77e5\u5148LINE\u30b0\u30eb\u30fc\u30d7ID inventory_storage_bucket inventory \u5728\u5eabExcel\u4fdd\u5b58\u5148bucket excel_staleness_warning_hours 2 \u5728\u5eab\u60c5\u5831\u306e\u53e4\u3055\u8b66\u544a\u95be\u5024 allocation_hold_hours 24 \u4eee\u5f15\u5f53\u671f\u9650","title":"system_settings\uff08\u30b7\u30b9\u30c6\u30e0\u8a2d\u5b9a\uff09"},{"location":"requirements/database/#rlsrow-level-security","text":"","title":"RLS\uff08Row Level Security\uff09"},{"location":"requirements/database/#_10","text":"LINE\u30dc\u30c3\u30c8 : service role \u3067\u5168\u4ef6\u30a2\u30af\u30bb\u30b9\uff08RLS\u30d0\u30a4\u30d1\u30b9\uff09 \u7ba1\u7406\u753b\u9762 : Supabase Auth + RLS \u3067\u5236\u5fa1","title":"\u524d\u63d0"},{"location":"requirements/database/#rls","text":"","title":"RLS\u30dd\u30ea\u30b7\u30fc\u4f8b"},{"location":"requirements/database/#_11","text":"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6700\u9069\u5316\u306e\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\uff1a -- requests CREATE INDEX idx_requests_status ON requests ( status ); CREATE INDEX idx_requests_store_id ON requests ( store_id ); CREATE INDEX idx_requests_created_at ON requests ( created_at ); -- allocations CREATE INDEX idx_allocations_request_id ON allocations ( request_id ); CREATE INDEX idx_allocations_expires_at ON allocations ( expires_at ) WHERE type = 'hold' ; -- inventory CREATE INDEX idx_inventory_product_id ON inventory ( product_id ); CREATE INDEX idx_inventory_status ON inventory ( status );","title":"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9"},{"location":"requirements/database/#_12","text":"Phase1\u958b\u59cb\u524d\u306b\u4ee5\u4e0b\u306e\u30de\u30b9\u30bf\u30c7\u30fc\u30bf\u6295\u5165\u304c\u5fc5\u8981\uff1a stores\uff0815\u5e97\u8217\uff09 products\uff08\u5546\u54c1\u4e00\u89a7\uff09 system_settings\uff08\u57fa\u672c\u8a2d\u5b9a\uff09","title":"\u521d\u671f\u30c7\u30fc\u30bf"},{"location":"requirements/documents/","text":"\u7d0d\u54c1\u66f8\u751f\u6210 \u00b6 \u6982\u8981 \u00b6 \u51fa\u8377\u4f9d\u983c\u6642\u306b\u7d0d\u54c1\u66f8PDF\u3092\u81ea\u52d5\u751f\u6210\u3057\u3001Supabase Storage\u306b\u4fdd\u5b58\u3059\u308b\u6a5f\u80fd\u3002 \u65e2\u5b58\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\uff08\u5f8c\u65e5\u78ba\u5b9a\uff09 \u00b6 \u78ba\u8a8d\u304c\u5fc5\u8981\u306a\u9805\u76ee \u00b6 \u65e2\u5b58\u306eExcel/PDF\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u5165\u624b \u5fc5\u9808\u9805\u76ee\u306e\u78ba\u5b9a \u5358\u4fa1\u30fb\u91d1\u984d\u306e\u8868\u793a\u8981\u5426 \u60f3\u5b9a\u3055\u308c\u308b\u5fc5\u9808\u9805\u76ee \u00b6 \u57fa\u672c\u60c5\u5831 : - \u7d0d\u54c1\u65e5 - \u7d0d\u54c1\u66f8\u756a\u53f7\uff08\u7ba1\u7406\u756a\u53f7\uff09 - \u767a\u6ce8\u5143\uff08\u9ad8\u5cf6\u5c4b\u25cb\u25cb\u5e97\uff09 - \u767a\u6ce8\u5148\uff08\u8cb4\u793e\u540d\uff09 \u5546\u54c1\u60c5\u5831 : - \u5546\u54c1\u540d - \u6570\u91cf\uff08\u30b1\u30fc\u30b9\u6570 / \u500b\u6570\uff09 - \u5358\u4fa1\uff08\u8981\u5426\u306f\u5f8c\u65e5\u78ba\u5b9a\uff09 - \u91d1\u984d\uff08\u8981\u5426\u306f\u5f8c\u65e5\u78ba\u5b9a\uff09 - \u5408\u8a08\u91d1\u984d\uff08\u8981\u5426\u306f\u5f8c\u65e5\u78ba\u5b9a\uff09 \u305d\u306e\u4ed6 : - \u30ed\u30c3\u30c8\u756a\u53f7 - \u8cde\u5473\u671f\u9650 - \u5099\u8003\u6b04 - \u914d\u9001\u696d\u8005\u30fb\u8ffd\u8de1\u756a\u53f7 \u751f\u6210\u30bf\u30a4\u30df\u30f3\u30b0 \u00b6 requests.status = 'shipment_requested' \u306b\u306a\u3063\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u81ea\u52d5\u751f\u6210\u3002 \u30d5\u30ed\u30fc \u00b6 flowchart LR A[\u672c\u90e8\u627f\u8a8d] --> B[status: shipment_requested] B --> C[\u7d0d\u54c1\u66f8PDF\u751f\u6210] C --> D[Supabase Storage\u4fdd\u5b58] D --> E[documents \u30c6\u30fc\u30d6\u30eb\u306b\u8a18\u9332] E --> F[\u52a0\u5de5\u4f1a\u793e\u306b\u901a\u77e5] \u4fdd\u5b58\u5148 \u00b6 Supabase Storage \u00b6 Bucket : documents \u30d1\u30b9 : delivery_notes/{YYYY}/{MM}/{request_id}_v{version}.pdf \u4f8b \u00b6 documents/ \u2514\u2500 delivery_notes/ \u2514\u2500 2026/ \u2514\u2500 02/ \u251c\u2500 abc123-def4-56gh-78ij-9klm01nop234_v1.pdf \u251c\u2500 abc123-def4-56gh-78ij-9klm01nop234_v2.pdf \u2514\u2500 xyz789-uvw0-12ab-34cd-5efg67hij890_v1.pdf \u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406 \u00b6 \u518d\u751f\u6210\u304c\u5fc5\u8981\u306a\u30b1\u30fc\u30b9 \u00b6 \u6570\u91cf\u4fee\u6b63 \u5546\u54c1\u5909\u66f4 \u914d\u9001\u5148\u5909\u66f4 \u518d\u9001\u4f9d\u983c \u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u65b9\u6cd5 \u00b6 -- \u521d\u56de\u751f\u6210 INSERT INTO documents ( request_id , doc_type , storage_path , version , is_latest ) VALUES ( 'abc123...' , 'delivery_note' , 'delivery_notes/2026/02/abc123..._v1.pdf' , 1 , true ); -- \u518d\u751f\u6210\u6642 UPDATE documents SET is_latest = false WHERE request_id = 'abc123...' AND is_latest = true ; INSERT INTO documents ( request_id , doc_type , storage_path , version , is_latest ) VALUES ( 'abc123...' , 'delivery_note' , 'delivery_notes/2026/02/abc123..._v2.pdf' , 2 , true ); \u7ba1\u7406\u753b\u9762\u3067\u306e\u8868\u793a \u00b6 \u7d0d\u54c1\u66f8\u4e00\u89a7 \u251c\u2500 v2\uff08\u6700\u65b0\uff09[\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9] \u2514\u2500 v1 [\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9] \u5b9f\u88c5\u65b9\u6cd5\uff08\u5f8c\u65e5\u8a73\u7d30\u78ba\u5b9a\uff09 \u00b6 \u30aa\u30d7\u30b7\u30e7\u30f31: reportlab \u00b6 \u65e2\u5b58\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u304cPDF\u306e\u5834\u5408\u3002 from reportlab.pdfgen import canvas from reportlab.lib.pagesizes import A4 def generate_delivery_note ( request_id ): # \u30c7\u30fc\u30bf\u53d6\u5f97 request = get_request_by_id ( request_id ) store = get_store_by_id ( request . store_id ) product = get_product_by_id ( request . product_id ) # PDF\u751f\u6210 filename = f \"/tmp/ { request_id } _v1.pdf\" c = canvas . Canvas ( filename , pagesize = A4 ) # \u30d8\u30c3\u30c0\u30fc c . drawString ( 100 , 800 , f \"\u7d0d\u54c1\u66f8\" ) c . drawString ( 100 , 780 , f \"\u7d0d\u54c1\u65e5: { datetime . now () . strftime ( '%Y\u5e74%m\u6708 %d \u65e5' ) } \" ) # \u5e97\u8217\u60c5\u5831 c . drawString ( 100 , 750 , f \"\u7d0d\u54c1\u5148: { store . name } \" ) # \u5546\u54c1\u60c5\u5831 c . drawString ( 100 , 700 , f \"\u5546\u54c1\u540d: { product . name } \" ) c . drawString ( 100 , 680 , f \"\u6570\u91cf: { request . qty_requested } \u30b1\u30fc\u30b9\" ) c . save () # Supabase Storage\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9 upload_to_storage ( filename , f \"delivery_notes/2026/02/ { request_id } _v1.pdf\" ) \u30aa\u30d7\u30b7\u30e7\u30f32: openpyxl \u2192 PDF \u00b6 \u65e2\u5b58\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u304cExcel\u306e\u5834\u5408\u3002 from openpyxl import load_workbook from openpyxl.utils import get_column_letter def generate_delivery_note_from_template ( request_id ): # \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u8aad\u307f\u8fbc\u307f wb = load_workbook ( 'templates/delivery_note_template.xlsx' ) ws = wb . active # \u30c7\u30fc\u30bf\u53d6\u5f97 request = get_request_by_id ( request_id ) store = get_store_by_id ( request . store_id ) product = get_product_by_id ( request . product_id ) # \u30c7\u30fc\u30bf\u57cb\u3081\u8fbc\u307f ws [ 'B5' ] = store . name # \u7d0d\u54c1\u5148 ws [ 'B10' ] = product . name # \u5546\u54c1\u540d ws [ 'C10' ] = request . qty_requested # \u6570\u91cf # \u4e00\u6642\u4fdd\u5b58 temp_xlsx = f \"/tmp/ { request_id } _v1.xlsx\" wb . save ( temp_xlsx ) # PDF\u5909\u63db\uff08libreoffice \u3084\u5225\u30c4\u30fc\u30eb\u4f7f\u7528\uff09 convert_xlsx_to_pdf ( temp_xlsx , f \"/tmp/ { request_id } _v1.pdf\" ) # Supabase Storage\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9 upload_to_storage ( f \"/tmp/ { request_id } _v1.pdf\" , f \"delivery_notes/2026/02/ { request_id } _v1.pdf\" ) \u5358\u4fa1\u30fb\u91d1\u984d\u306e\u6271\u3044 \u00b6 \u5358\u4fa1\u8868\u793a\u304c\u5fc5\u8981\u306a\u5834\u5408 \u00b6 products \u30c6\u30fc\u30d6\u30eb\u306b\u8ffd\u52a0\uff1a ALTER TABLE products ADD COLUMN unit_price NUMERIC ; \u7d0d\u54c1\u66f8\u306b\u5408\u8a08\u91d1\u984d\u3092\u8a18\u8f09\uff1a \u5546\u54c1\u540d: \u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8 \u6570\u91cf: 10\u30b1\u30fc\u30b9 \u5358\u4fa1: \u00a55,000 \u5408\u8a08: \u00a550,000 \u5358\u4fa1\u8868\u793a\u304c\u4e0d\u8981\u306a\u5834\u5408 \u00b6 \u6570\u91cf\u306e\u307f\u8a18\u8f09\uff08\u8acb\u6c42\u306f\u5225\u9014\uff09\u3002 \u30a8\u30e9\u30fc\u51e6\u7406 \u00b6 PDF\u751f\u6210\u5931\u6557\u6642 \u00b6 try : generate_delivery_note ( request_id ) except Exception as e : # \u30a8\u30e9\u30fc\u30ed\u30b0\u8a18\u9332 update_request_error ( request_id , str ( e )) # \u7ba1\u7406\u8005\u306b\u901a\u77e5 send_notification_to_admin ( f \"\u7d0d\u54c1\u66f8PDF\u751f\u6210\u5931\u6557 \\n Request ID: { request_id } \\n \u30a8\u30e9\u30fc: { str ( e ) } \" ) \u30ea\u30c8\u30e9\u30a4 \u00b6 \u7ba1\u7406\u753b\u9762\u3067\u300c\u518d\u751f\u6210\u300d\u30dc\u30bf\u30f3 \u624b\u52d5\u3067\u30ea\u30c8\u30e9\u30a4\u53ef\u80fd Phase2 \u6539\u5584\u8a08\u753b \u00b6 \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u5316 \u00b6 Jinja2 \u306a\u3069\u3067\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u7ba1\u7406 \u5e33\u7968\u30ec\u30a4\u30a2\u30a6\u30c8\u306e\u67d4\u8edf\u306a\u5909\u66f4 \u591a\u8a00\u8a9e\u5bfe\u5fdc \u00b6 \u6d77\u5916\u5e97\u8217\u5411\u3051\u306b\u82f1\u8a9e\u7248\u7d0d\u54c1\u66f8 \u96fb\u5b50\u7f72\u540d \u00b6 PDF \u306b\u96fb\u5b50\u7f72\u540d\u3092\u4ed8\u4e0e \u6539\u3056\u3093\u9632\u6b62","title":"9. \u7d0d\u54c1\u66f8\u751f\u6210"},{"location":"requirements/documents/#_1","text":"","title":"\u7d0d\u54c1\u66f8\u751f\u6210"},{"location":"requirements/documents/#_2","text":"\u51fa\u8377\u4f9d\u983c\u6642\u306b\u7d0d\u54c1\u66f8PDF\u3092\u81ea\u52d5\u751f\u6210\u3057\u3001Supabase Storage\u306b\u4fdd\u5b58\u3059\u308b\u6a5f\u80fd\u3002","title":"\u6982\u8981"},{"location":"requirements/documents/#_3","text":"","title":"\u65e2\u5b58\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\uff08\u5f8c\u65e5\u78ba\u5b9a\uff09"},{"location":"requirements/documents/#_4","text":"\u65e2\u5b58\u306eExcel/PDF\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u5165\u624b \u5fc5\u9808\u9805\u76ee\u306e\u78ba\u5b9a \u5358\u4fa1\u30fb\u91d1\u984d\u306e\u8868\u793a\u8981\u5426","title":"\u78ba\u8a8d\u304c\u5fc5\u8981\u306a\u9805\u76ee"},{"location":"requirements/documents/#_5","text":"\u57fa\u672c\u60c5\u5831 : - \u7d0d\u54c1\u65e5 - \u7d0d\u54c1\u66f8\u756a\u53f7\uff08\u7ba1\u7406\u756a\u53f7\uff09 - \u767a\u6ce8\u5143\uff08\u9ad8\u5cf6\u5c4b\u25cb\u25cb\u5e97\uff09 - \u767a\u6ce8\u5148\uff08\u8cb4\u793e\u540d\uff09 \u5546\u54c1\u60c5\u5831 : - \u5546\u54c1\u540d - \u6570\u91cf\uff08\u30b1\u30fc\u30b9\u6570 / \u500b\u6570\uff09 - \u5358\u4fa1\uff08\u8981\u5426\u306f\u5f8c\u65e5\u78ba\u5b9a\uff09 - \u91d1\u984d\uff08\u8981\u5426\u306f\u5f8c\u65e5\u78ba\u5b9a\uff09 - \u5408\u8a08\u91d1\u984d\uff08\u8981\u5426\u306f\u5f8c\u65e5\u78ba\u5b9a\uff09 \u305d\u306e\u4ed6 : - \u30ed\u30c3\u30c8\u756a\u53f7 - \u8cde\u5473\u671f\u9650 - \u5099\u8003\u6b04 - \u914d\u9001\u696d\u8005\u30fb\u8ffd\u8de1\u756a\u53f7","title":"\u60f3\u5b9a\u3055\u308c\u308b\u5fc5\u9808\u9805\u76ee"},{"location":"requirements/documents/#_6","text":"requests.status = 'shipment_requested' \u306b\u306a\u3063\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u81ea\u52d5\u751f\u6210\u3002","title":"\u751f\u6210\u30bf\u30a4\u30df\u30f3\u30b0"},{"location":"requirements/documents/#_7","text":"flowchart LR A[\u672c\u90e8\u627f\u8a8d] --> B[status: shipment_requested] B --> C[\u7d0d\u54c1\u66f8PDF\u751f\u6210] C --> D[Supabase Storage\u4fdd\u5b58] D --> E[documents \u30c6\u30fc\u30d6\u30eb\u306b\u8a18\u9332] E --> F[\u52a0\u5de5\u4f1a\u793e\u306b\u901a\u77e5]","title":"\u30d5\u30ed\u30fc"},{"location":"requirements/documents/#_8","text":"","title":"\u4fdd\u5b58\u5148"},{"location":"requirements/documents/#supabase-storage","text":"Bucket : documents \u30d1\u30b9 : delivery_notes/{YYYY}/{MM}/{request_id}_v{version}.pdf","title":"Supabase Storage"},{"location":"requirements/documents/#_9","text":"documents/ \u2514\u2500 delivery_notes/ \u2514\u2500 2026/ \u2514\u2500 02/ \u251c\u2500 abc123-def4-56gh-78ij-9klm01nop234_v1.pdf \u251c\u2500 abc123-def4-56gh-78ij-9klm01nop234_v2.pdf \u2514\u2500 xyz789-uvw0-12ab-34cd-5efg67hij890_v1.pdf","title":"\u4f8b"},{"location":"requirements/documents/#_10","text":"","title":"\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406"},{"location":"requirements/documents/#_11","text":"\u6570\u91cf\u4fee\u6b63 \u5546\u54c1\u5909\u66f4 \u914d\u9001\u5148\u5909\u66f4 \u518d\u9001\u4f9d\u983c","title":"\u518d\u751f\u6210\u304c\u5fc5\u8981\u306a\u30b1\u30fc\u30b9"},{"location":"requirements/documents/#_12","text":"-- \u521d\u56de\u751f\u6210 INSERT INTO documents ( request_id , doc_type , storage_path , version , is_latest ) VALUES ( 'abc123...' , 'delivery_note' , 'delivery_notes/2026/02/abc123..._v1.pdf' , 1 , true ); -- \u518d\u751f\u6210\u6642 UPDATE documents SET is_latest = false WHERE request_id = 'abc123...' AND is_latest = true ; INSERT INTO documents ( request_id , doc_type , storage_path , version , is_latest ) VALUES ( 'abc123...' , 'delivery_note' , 'delivery_notes/2026/02/abc123..._v2.pdf' , 2 , true );","title":"\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u65b9\u6cd5"},{"location":"requirements/documents/#_13","text":"\u7d0d\u54c1\u66f8\u4e00\u89a7 \u251c\u2500 v2\uff08\u6700\u65b0\uff09[\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9] \u2514\u2500 v1 [\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9]","title":"\u7ba1\u7406\u753b\u9762\u3067\u306e\u8868\u793a"},{"location":"requirements/documents/#_14","text":"","title":"\u5b9f\u88c5\u65b9\u6cd5\uff08\u5f8c\u65e5\u8a73\u7d30\u78ba\u5b9a\uff09"},{"location":"requirements/documents/#1-reportlab","text":"\u65e2\u5b58\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u304cPDF\u306e\u5834\u5408\u3002 from reportlab.pdfgen import canvas from reportlab.lib.pagesizes import A4 def generate_delivery_note ( request_id ): # \u30c7\u30fc\u30bf\u53d6\u5f97 request = get_request_by_id ( request_id ) store = get_store_by_id ( request . store_id ) product = get_product_by_id ( request . product_id ) # PDF\u751f\u6210 filename = f \"/tmp/ { request_id } _v1.pdf\" c = canvas . Canvas ( filename , pagesize = A4 ) # \u30d8\u30c3\u30c0\u30fc c . drawString ( 100 , 800 , f \"\u7d0d\u54c1\u66f8\" ) c . drawString ( 100 , 780 , f \"\u7d0d\u54c1\u65e5: { datetime . now () . strftime ( '%Y\u5e74%m\u6708 %d \u65e5' ) } \" ) # \u5e97\u8217\u60c5\u5831 c . drawString ( 100 , 750 , f \"\u7d0d\u54c1\u5148: { store . name } \" ) # \u5546\u54c1\u60c5\u5831 c . drawString ( 100 , 700 , f \"\u5546\u54c1\u540d: { product . name } \" ) c . drawString ( 100 , 680 , f \"\u6570\u91cf: { request . qty_requested } \u30b1\u30fc\u30b9\" ) c . save () # Supabase Storage\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9 upload_to_storage ( filename , f \"delivery_notes/2026/02/ { request_id } _v1.pdf\" )","title":"\u30aa\u30d7\u30b7\u30e7\u30f31: reportlab"},{"location":"requirements/documents/#2-openpyxl-pdf","text":"\u65e2\u5b58\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u304cExcel\u306e\u5834\u5408\u3002 from openpyxl import load_workbook from openpyxl.utils import get_column_letter def generate_delivery_note_from_template ( request_id ): # \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u8aad\u307f\u8fbc\u307f wb = load_workbook ( 'templates/delivery_note_template.xlsx' ) ws = wb . active # \u30c7\u30fc\u30bf\u53d6\u5f97 request = get_request_by_id ( request_id ) store = get_store_by_id ( request . store_id ) product = get_product_by_id ( request . product_id ) # \u30c7\u30fc\u30bf\u57cb\u3081\u8fbc\u307f ws [ 'B5' ] = store . name # \u7d0d\u54c1\u5148 ws [ 'B10' ] = product . name # \u5546\u54c1\u540d ws [ 'C10' ] = request . qty_requested # \u6570\u91cf # \u4e00\u6642\u4fdd\u5b58 temp_xlsx = f \"/tmp/ { request_id } _v1.xlsx\" wb . save ( temp_xlsx ) # PDF\u5909\u63db\uff08libreoffice \u3084\u5225\u30c4\u30fc\u30eb\u4f7f\u7528\uff09 convert_xlsx_to_pdf ( temp_xlsx , f \"/tmp/ { request_id } _v1.pdf\" ) # Supabase Storage\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9 upload_to_storage ( f \"/tmp/ { request_id } _v1.pdf\" , f \"delivery_notes/2026/02/ { request_id } _v1.pdf\" )","title":"\u30aa\u30d7\u30b7\u30e7\u30f32: openpyxl \u2192 PDF"},{"location":"requirements/documents/#_15","text":"","title":"\u5358\u4fa1\u30fb\u91d1\u984d\u306e\u6271\u3044"},{"location":"requirements/documents/#_16","text":"products \u30c6\u30fc\u30d6\u30eb\u306b\u8ffd\u52a0\uff1a ALTER TABLE products ADD COLUMN unit_price NUMERIC ; \u7d0d\u54c1\u66f8\u306b\u5408\u8a08\u91d1\u984d\u3092\u8a18\u8f09\uff1a \u5546\u54c1\u540d: \u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8 \u6570\u91cf: 10\u30b1\u30fc\u30b9 \u5358\u4fa1: \u00a55,000 \u5408\u8a08: \u00a550,000","title":"\u5358\u4fa1\u8868\u793a\u304c\u5fc5\u8981\u306a\u5834\u5408"},{"location":"requirements/documents/#_17","text":"\u6570\u91cf\u306e\u307f\u8a18\u8f09\uff08\u8acb\u6c42\u306f\u5225\u9014\uff09\u3002","title":"\u5358\u4fa1\u8868\u793a\u304c\u4e0d\u8981\u306a\u5834\u5408"},{"location":"requirements/documents/#_18","text":"","title":"\u30a8\u30e9\u30fc\u51e6\u7406"},{"location":"requirements/documents/#pdf","text":"try : generate_delivery_note ( request_id ) except Exception as e : # \u30a8\u30e9\u30fc\u30ed\u30b0\u8a18\u9332 update_request_error ( request_id , str ( e )) # \u7ba1\u7406\u8005\u306b\u901a\u77e5 send_notification_to_admin ( f \"\u7d0d\u54c1\u66f8PDF\u751f\u6210\u5931\u6557 \\n Request ID: { request_id } \\n \u30a8\u30e9\u30fc: { str ( e ) } \" )","title":"PDF\u751f\u6210\u5931\u6557\u6642"},{"location":"requirements/documents/#_19","text":"\u7ba1\u7406\u753b\u9762\u3067\u300c\u518d\u751f\u6210\u300d\u30dc\u30bf\u30f3 \u624b\u52d5\u3067\u30ea\u30c8\u30e9\u30a4\u53ef\u80fd","title":"\u30ea\u30c8\u30e9\u30a4"},{"location":"requirements/documents/#phase2","text":"","title":"Phase2 \u6539\u5584\u8a08\u753b"},{"location":"requirements/documents/#_20","text":"Jinja2 \u306a\u3069\u3067\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u7ba1\u7406 \u5e33\u7968\u30ec\u30a4\u30a2\u30a6\u30c8\u306e\u67d4\u8edf\u306a\u5909\u66f4","title":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u5316"},{"location":"requirements/documents/#_21","text":"\u6d77\u5916\u5e97\u8217\u5411\u3051\u306b\u82f1\u8a9e\u7248\u7d0d\u54c1\u66f8","title":"\u591a\u8a00\u8a9e\u5bfe\u5fdc"},{"location":"requirements/documents/#_22","text":"PDF \u306b\u96fb\u5b50\u7f72\u540d\u3092\u4ed8\u4e0e \u6539\u3056\u3093\u9632\u6b62","title":"\u96fb\u5b50\u7f72\u540d"},{"location":"requirements/excel-sync/","text":"Excel\u5728\u5eab\u540c\u671f \u00b6 \u6982\u8981 \u00b6 \u7ba1\u7406\u753b\u9762\u304b\u3089Excel\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u30015\u5206\u6bce\u306b\u81ea\u52d5\u3067Supabase Storage\u304b\u3089\u540c\u671f\u3059\u308b\u4ed5\u7d44\u307f\u3002 Excel\u5217\u69cb\u6210\uff08\u5f8c\u65e5\u78ba\u5b9a\uff09 \u00b6 \u60f3\u5b9a\u3055\u308c\u308b\u5217\uff1a \u5546\u54c1\u540d \uff08\u5fc5\u9808\uff09 \u30b1\u30fc\u30b9\u6570 \uff08\u5fc5\u9808\uff09 \u8cde\u5473\u671f\u9650 \uff08\u4efb\u610f\uff09 \u30ed\u30c3\u30c8\u756a\u53f7 \uff08\u4efb\u610f\uff09 \u5099\u8003 \uff08\u4efb\u610f\uff09 \u78ba\u8a8d\u5fc5\u8981 Phase1\u5b9f\u88c5\u524d\u306b\u3001\u5b9f\u969b\u306eExcel\u5217\u69cb\u6210\u306e\u78ba\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002 \u4fdd\u5b58\u5834\u6240\u30fb\u540c\u671f\u65b9\u5f0f \u00b6 Phase1: \u624b\u52d5\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9 \u00b6 flowchart LR A[\u52a0\u5de5\u4f1a\u793e] -->|Excel\u66f4\u65b0| B[\u7ba1\u7406\u753b\u9762] B -->|\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9| C[Supabase Storage] C -->|5\u5206\u6bce| D[Cron\u540c\u671f] D -->|UPSERT| E[inventory \u30c6\u30fc\u30d6\u30eb] \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u624b\u9806 \u00b6 \u7ba1\u7406\u753b\u9762\u3067\u300c\u5728\u5eabExcel\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u300d\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af \u30d5\u30a1\u30a4\u30eb\u9078\u629e\uff08.xlsx \u306e\u307f\uff09 \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5b9f\u884c Supabase Storage \u306e inventory bucket \u306b\u4fdd\u5b58 \u30d5\u30a1\u30a4\u30eb\u540d: inventory_YYYYMMDD_HHMMSS.xlsx \u81ea\u52d5\u540c\u671f \u00b6 \u5b9f\u884c\u983b\u5ea6 : 5\u5206\u6bce \u30c8\u30ea\u30ac\u30fc : Supabase Cron \u5bfe\u8c61 : \u6700\u65b0\u30d5\u30a1\u30a4\u30eb Phase2: \u81ea\u52d5\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\uff08\u5c06\u6765\uff09 \u00b6 Google\u30c9\u30e9\u30a4\u30d6\u9023\u643a FTP\u81ea\u52d5\u53d6\u5f97 API\u9023\u643a \u540c\u671f\u51e6\u7406\u30d5\u30ed\u30fc \u00b6 def sync_inventory_from_excel (): # 1. \u6700\u65b0\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97 latest_file = get_latest_file_from_storage ( 'inventory' ) # 2. \u30d5\u30a1\u30a4\u30eb\u66f4\u65b0\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u8a18\u9332 file_last_modified = get_file_timestamp ( latest_file ) # 3. Excel\u3092\u8aad\u307f\u8fbc\u307f\uff08pandas\uff09 df = pd . read_excel ( latest_file ) # 4. \u5546\u54c1\u540d\u2192product_id\u7167\u5408 for row in df . itertuples (): product = match_product_by_name ( row . \u5546\u54c1\u540d ) if not product : log_error ( f \"\u5546\u54c1\u540d ' { row . \u5546\u54c1\u540d } ' \u304c\u30de\u30c3\u30c1\u3057\u307e\u305b\u3093\" ) continue # 5. inventory\u3078UPSERT upsert_inventory ( product_id = product . id , qty_cases = row . \u30b1\u30fc\u30b9\u6570 , lot_no = row . \u30ed\u30c3\u30c8\u756a\u53f7 , expiry_date = row . \u8cde\u5473\u671f\u9650 , status = 'provisional' , source = 'excel_sync' ) # 6. \u540c\u671f\u30ed\u30b0\u8a18\u9332 create_sync_log ( file_path = latest_file , file_last_modified = file_last_modified , records_imported = len ( df ), status = 'success' ) \u5546\u54c1\u540d\u2192product_id\u7167\u5408 \u00b6 Phase1: \u5b8c\u5168\u4e00\u81f4 \u00b6 SELECT id FROM products WHERE name = '\u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8' AND is_active = true LIMIT 1 ; \u7167\u5408\u5931\u6557\u6642 \u00b6 inventory_sync_log.error_message \u306b\u8a18\u9332 \u7ba1\u7406\u8005LINE\u30b0\u30eb\u30fc\u30d7\u306b\u901a\u77e5 Phase2: \u90e8\u5206\u4e00\u81f4\u30fb\u3042\u3044\u307e\u3044\u691c\u7d22 \u00b6 Levenshtein\u8ddd\u96e2 \u985e\u4f3c\u5ea6\u30b9\u30b3\u30a2\u30ea\u30f3\u30b0 \u5c02\u7528\u306e\u7167\u5408\u30a8\u30e9\u30fc\u30c6\u30fc\u30d6\u30eb \u30a8\u30e9\u30fc\u901a\u77e5 \u00b6 \u901a\u77e5\u5148 \u00b6 \u7ba1\u7406\u8005LINE\u30b0\u30eb\u30fc\u30d7 \u901a\u77e5\u30bf\u30a4\u30df\u30f3\u30b0 \u00b6 \u540c\u671f\u5931\u6557\u6642\uff08\u5373\u6642\uff09 \u5546\u54c1\u540d\u7167\u5408\u5931\u6557\u6642\uff08\u5373\u6642\uff09 \u901a\u77e5\u5185\u5bb9 \u00b6 \u3010Excel\u540c\u671f\u30a8\u30e9\u30fc\u3011 \u30d5\u30a1\u30a4\u30eb: inventory_20260215_143000.xlsx \u30a8\u30e9\u30fc: \u5546\u54c1\u540d '\u751f\u30c1\u30e7\u30b3' \u304c\u30de\u30c3\u30c1\u3057\u307e\u305b\u3093 \u8a73\u7d30\u306f\u7ba1\u7406\u753b\u9762\u306e\u540c\u671f\u30ed\u30b0\u3092\u3054\u78ba\u8a8d\u304f\u3060\u3055\u3044\u3002 \u5c65\u6b74\u7ba1\u7406 \u00b6 \u30d5\u30a1\u30a4\u30eb\u5c65\u6b74 \u00b6 Supabase Storage\u306b\u5168\u30d5\u30a1\u30a4\u30eb\u4fdd\u5b58\uff08\u81ea\u52d5\u3067\u5c65\u6b74\u7ba1\u7406\uff09 \u30d5\u30a1\u30a4\u30eb\u540d\u898f\u5247 \u00b6 inventory/ \u251c\u2500 inventory_20260215_100000.xlsx \u251c\u2500 inventory_20260215_143000.xlsx \u2514\u2500 inventory_20260215_180000.xlsx \u540c\u671f\u30ed\u30b0 \u00b6 inventory_sync_log \u30c6\u30fc\u30d6\u30eb\u3067\u7ba1\u7406 \u78ba\u8a8d\u3067\u304d\u308b\u60c5\u5831 \u00b6 \u540c\u671f\u5b9f\u884c\u6642\u523b \u30d5\u30a1\u30a4\u30eb\u66f4\u65b0\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7 \u53d6\u308a\u8fbc\u3093\u3060\u884c\u6570 \u6210\u529f/\u5931\u6557\u30b9\u30c6\u30fc\u30bf\u30b9 \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8 \u5728\u5eab\u60c5\u5831\u306e\u9bae\u5ea6\u8868\u793a \u00b6 \u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u8868\u793a \u00b6 \u5728\u5eab\u7167\u4f1a\u6642\u306e\u8fd4\u7b54\uff1a \u3010\u5728\u5eab\u7167\u4f1a\u7d50\u679c\u3011 \u5546\u54c1: \u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8 \u5728\u5eab: 10\u30b1\u30fc\u30b9 \u203b\u3053\u306e\u60c5\u5831\u306f2\u6642\u9593\u524d\u306e\u3082\u306e\u3067\u3059 \u7d0d\u54c1\u65e5\u306f\u5225\u9014\u3054\u9023\u7d61\u3057\u307e\u3059\u3002 \u8a08\u7b97\u30ed\u30b8\u30c3\u30af \u00b6 def get_inventory_staleness (): latest_sync = get_latest_sync_log () file_modified = latest_sync . file_last_modified now = datetime . now () hours_ago = ( now - file_modified ) . total_seconds () / 3600 return round ( hours_ago ) \u8b66\u544a\u95be\u5024 \u00b6 system_settings \u3067\u7ba1\u7406\uff1a key value \u8aac\u660e excel_staleness_warning_hours 2 \u8b66\u544a\u3092\u8868\u793a\u3059\u308b\u6642\u9593 Phase2 \u6539\u5584\u8a08\u753b \u00b6 \u81ea\u52d5\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9 \u00b6 Google\u30c9\u30e9\u30a4\u30d6\u9023\u643a Drive API \u3067\u5b9a\u671f\u7684\u306b\u30d5\u30a1\u30a4\u30eb\u53d6\u5f97 \u52a0\u5de5\u4f1a\u793e\u306e\u904b\u7528\u3092\u5909\u3048\u305a\u306b\u81ea\u52d5\u5316 \u30a8\u30e9\u30fc\u7ba1\u7406\u5f37\u5316 \u00b6 \u5c02\u7528\u30a8\u30e9\u30fc\u30c6\u30fc\u30d6\u30eb\uff08 inventory_import_errors \uff09 \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3067\u30a8\u30e9\u30fc\u4e00\u89a7\u8868\u793a \u81ea\u52d5\u30ea\u30c8\u30e9\u30a4\u6a5f\u80fd \u5728\u5eab status \u7ba1\u7406 \u00b6 confirmed \u306e\u672c\u683c\u904b\u7528 \u52a0\u5de5\u4f1a\u793e\u304c\u78ba\u5b9a\u64cd\u4f5c provisional \u2192 confirmed \u306e\u627f\u8a8d\u30d5\u30ed\u30fc","title":"8. Excel\u5728\u5eab\u540c\u671f"},{"location":"requirements/excel-sync/#excel","text":"","title":"Excel\u5728\u5eab\u540c\u671f"},{"location":"requirements/excel-sync/#_1","text":"\u7ba1\u7406\u753b\u9762\u304b\u3089Excel\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u30015\u5206\u6bce\u306b\u81ea\u52d5\u3067Supabase Storage\u304b\u3089\u540c\u671f\u3059\u308b\u4ed5\u7d44\u307f\u3002","title":"\u6982\u8981"},{"location":"requirements/excel-sync/#excel_1","text":"\u60f3\u5b9a\u3055\u308c\u308b\u5217\uff1a \u5546\u54c1\u540d \uff08\u5fc5\u9808\uff09 \u30b1\u30fc\u30b9\u6570 \uff08\u5fc5\u9808\uff09 \u8cde\u5473\u671f\u9650 \uff08\u4efb\u610f\uff09 \u30ed\u30c3\u30c8\u756a\u53f7 \uff08\u4efb\u610f\uff09 \u5099\u8003 \uff08\u4efb\u610f\uff09 \u78ba\u8a8d\u5fc5\u8981 Phase1\u5b9f\u88c5\u524d\u306b\u3001\u5b9f\u969b\u306eExcel\u5217\u69cb\u6210\u306e\u78ba\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002","title":"Excel\u5217\u69cb\u6210\uff08\u5f8c\u65e5\u78ba\u5b9a\uff09"},{"location":"requirements/excel-sync/#_2","text":"","title":"\u4fdd\u5b58\u5834\u6240\u30fb\u540c\u671f\u65b9\u5f0f"},{"location":"requirements/excel-sync/#phase1","text":"flowchart LR A[\u52a0\u5de5\u4f1a\u793e] -->|Excel\u66f4\u65b0| B[\u7ba1\u7406\u753b\u9762] B -->|\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9| C[Supabase Storage] C -->|5\u5206\u6bce| D[Cron\u540c\u671f] D -->|UPSERT| E[inventory \u30c6\u30fc\u30d6\u30eb]","title":"Phase1: \u624b\u52d5\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9"},{"location":"requirements/excel-sync/#phase2","text":"Google\u30c9\u30e9\u30a4\u30d6\u9023\u643a FTP\u81ea\u52d5\u53d6\u5f97 API\u9023\u643a","title":"Phase2: \u81ea\u52d5\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\uff08\u5c06\u6765\uff09"},{"location":"requirements/excel-sync/#_5","text":"def sync_inventory_from_excel (): # 1. \u6700\u65b0\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97 latest_file = get_latest_file_from_storage ( 'inventory' ) # 2. \u30d5\u30a1\u30a4\u30eb\u66f4\u65b0\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u8a18\u9332 file_last_modified = get_file_timestamp ( latest_file ) # 3. Excel\u3092\u8aad\u307f\u8fbc\u307f\uff08pandas\uff09 df = pd . read_excel ( latest_file ) # 4. \u5546\u54c1\u540d\u2192product_id\u7167\u5408 for row in df . itertuples (): product = match_product_by_name ( row . \u5546\u54c1\u540d ) if not product : log_error ( f \"\u5546\u54c1\u540d ' { row . \u5546\u54c1\u540d } ' \u304c\u30de\u30c3\u30c1\u3057\u307e\u305b\u3093\" ) continue # 5. inventory\u3078UPSERT upsert_inventory ( product_id = product . id , qty_cases = row . \u30b1\u30fc\u30b9\u6570 , lot_no = row . \u30ed\u30c3\u30c8\u756a\u53f7 , expiry_date = row . \u8cde\u5473\u671f\u9650 , status = 'provisional' , source = 'excel_sync' ) # 6. \u540c\u671f\u30ed\u30b0\u8a18\u9332 create_sync_log ( file_path = latest_file , file_last_modified = file_last_modified , records_imported = len ( df ), status = 'success' )","title":"\u540c\u671f\u51e6\u7406\u30d5\u30ed\u30fc"},{"location":"requirements/excel-sync/#product_id","text":"","title":"\u5546\u54c1\u540d\u2192product_id\u7167\u5408"},{"location":"requirements/excel-sync/#phase1_1","text":"SELECT id FROM products WHERE name = '\u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8' AND is_active = true LIMIT 1 ;","title":"Phase1: \u5b8c\u5168\u4e00\u81f4"},{"location":"requirements/excel-sync/#_6","text":"inventory_sync_log.error_message \u306b\u8a18\u9332 \u7ba1\u7406\u8005LINE\u30b0\u30eb\u30fc\u30d7\u306b\u901a\u77e5","title":"\u7167\u5408\u5931\u6557\u6642"},{"location":"requirements/excel-sync/#phase2_1","text":"Levenshtein\u8ddd\u96e2 \u985e\u4f3c\u5ea6\u30b9\u30b3\u30a2\u30ea\u30f3\u30b0 \u5c02\u7528\u306e\u7167\u5408\u30a8\u30e9\u30fc\u30c6\u30fc\u30d6\u30eb","title":"Phase2: \u90e8\u5206\u4e00\u81f4\u30fb\u3042\u3044\u307e\u3044\u691c\u7d22"},{"location":"requirements/excel-sync/#_7","text":"","title":"\u30a8\u30e9\u30fc\u901a\u77e5"},{"location":"requirements/excel-sync/#_8","text":"\u7ba1\u7406\u8005LINE\u30b0\u30eb\u30fc\u30d7","title":"\u901a\u77e5\u5148"},{"location":"requirements/excel-sync/#_9","text":"\u540c\u671f\u5931\u6557\u6642\uff08\u5373\u6642\uff09 \u5546\u54c1\u540d\u7167\u5408\u5931\u6557\u6642\uff08\u5373\u6642\uff09","title":"\u901a\u77e5\u30bf\u30a4\u30df\u30f3\u30b0"},{"location":"requirements/excel-sync/#_10","text":"\u3010Excel\u540c\u671f\u30a8\u30e9\u30fc\u3011 \u30d5\u30a1\u30a4\u30eb: inventory_20260215_143000.xlsx \u30a8\u30e9\u30fc: \u5546\u54c1\u540d '\u751f\u30c1\u30e7\u30b3' \u304c\u30de\u30c3\u30c1\u3057\u307e\u305b\u3093 \u8a73\u7d30\u306f\u7ba1\u7406\u753b\u9762\u306e\u540c\u671f\u30ed\u30b0\u3092\u3054\u78ba\u8a8d\u304f\u3060\u3055\u3044\u3002","title":"\u901a\u77e5\u5185\u5bb9"},{"location":"requirements/excel-sync/#_11","text":"","title":"\u5c65\u6b74\u7ba1\u7406"},{"location":"requirements/excel-sync/#_12","text":"Supabase Storage\u306b\u5168\u30d5\u30a1\u30a4\u30eb\u4fdd\u5b58\uff08\u81ea\u52d5\u3067\u5c65\u6b74\u7ba1\u7406\uff09","title":"\u30d5\u30a1\u30a4\u30eb\u5c65\u6b74"},{"location":"requirements/excel-sync/#_14","text":"inventory_sync_log \u30c6\u30fc\u30d6\u30eb\u3067\u7ba1\u7406","title":"\u540c\u671f\u30ed\u30b0"},{"location":"requirements/excel-sync/#_16","text":"","title":"\u5728\u5eab\u60c5\u5831\u306e\u9bae\u5ea6\u8868\u793a"},{"location":"requirements/excel-sync/#_17","text":"\u5728\u5eab\u7167\u4f1a\u6642\u306e\u8fd4\u7b54\uff1a \u3010\u5728\u5eab\u7167\u4f1a\u7d50\u679c\u3011 \u5546\u54c1: \u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8 \u5728\u5eab: 10\u30b1\u30fc\u30b9 \u203b\u3053\u306e\u60c5\u5831\u306f2\u6642\u9593\u524d\u306e\u3082\u306e\u3067\u3059 \u7d0d\u54c1\u65e5\u306f\u5225\u9014\u3054\u9023\u7d61\u3057\u307e\u3059\u3002","title":"\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u8868\u793a"},{"location":"requirements/excel-sync/#_18","text":"def get_inventory_staleness (): latest_sync = get_latest_sync_log () file_modified = latest_sync . file_last_modified now = datetime . now () hours_ago = ( now - file_modified ) . total_seconds () / 3600 return round ( hours_ago )","title":"\u8a08\u7b97\u30ed\u30b8\u30c3\u30af"},{"location":"requirements/excel-sync/#_19","text":"system_settings \u3067\u7ba1\u7406\uff1a key value \u8aac\u660e excel_staleness_warning_hours 2 \u8b66\u544a\u3092\u8868\u793a\u3059\u308b\u6642\u9593","title":"\u8b66\u544a\u95be\u5024"},{"location":"requirements/excel-sync/#phase2_2","text":"","title":"Phase2 \u6539\u5584\u8a08\u753b"},{"location":"requirements/excel-sync/#_20","text":"Google\u30c9\u30e9\u30a4\u30d6\u9023\u643a Drive API \u3067\u5b9a\u671f\u7684\u306b\u30d5\u30a1\u30a4\u30eb\u53d6\u5f97 \u52a0\u5de5\u4f1a\u793e\u306e\u904b\u7528\u3092\u5909\u3048\u305a\u306b\u81ea\u52d5\u5316","title":"\u81ea\u52d5\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9"},{"location":"requirements/excel-sync/#_21","text":"\u5c02\u7528\u30a8\u30e9\u30fc\u30c6\u30fc\u30d6\u30eb\uff08 inventory_import_errors \uff09 \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3067\u30a8\u30e9\u30fc\u4e00\u89a7\u8868\u793a \u81ea\u52d5\u30ea\u30c8\u30e9\u30a4\u6a5f\u80fd","title":"\u30a8\u30e9\u30fc\u7ba1\u7406\u5f37\u5316"},{"location":"requirements/excel-sync/#status","text":"confirmed \u306e\u672c\u683c\u904b\u7528 \u52a0\u5de5\u4f1a\u793e\u304c\u78ba\u5b9a\u64cd\u4f5c provisional \u2192 confirmed \u306e\u627f\u8a8d\u30d5\u30ed\u30fc","title":"\u5728\u5eab status \u7ba1\u7406"},{"location":"requirements/features/","text":"\u6a5f\u80fd\u8981\u4ef6 \u00b6 \u5728\u5eab\u7167\u4f1a \u00b6 \u6982\u8981 \u00b6 \u5e97\u8217\u304cLINE\u3067\u5546\u54c1\u306e\u5728\u5eab\u6570\u91cf\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u78ba\u8a8d\u3067\u304d\u308b\u6a5f\u80fd\u3002 \u6a5f\u80fd\u8a73\u7d30 \u00b6 \u5546\u54c1\u9078\u629e\uff08\u30af\u30a4\u30c3\u30af\u30ea\u30d7\u30e9\u30a4\uff09 \u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u5728\u5eab\u6570\u91cf\u8868\u793a Excel\u540c\u671f\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u8868\u793a\uff08\u300c\u203b\u25cb\u6642\u9593\u524d\u306e\u60c5\u5831\u300d\uff09 \u7d0d\u54c1\u65e5\u306f\u8868\u793a\u3057\u306a\u3044 \uff08\u5225\u9014\u9023\u7d61\uff09 \u8fd4\u7b54\u4f8b \u00b6 \u3010\u5728\u5eab\u7167\u4f1a\u7d50\u679c\u3011 \u5546\u54c1: \u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8 \u5728\u5eab: 10\u30b1\u30fc\u30b9 \u203b\u3053\u306e\u60c5\u5831\u306f2\u6642\u9593\u524d\u306e\u3082\u306e\u3067\u3059 \u7d0d\u54c1\u65e5\u306f\u5225\u9014\u3054\u9023\u7d61\u3057\u307e\u3059\u3002 \u8ffd\u52a0\u767a\u6ce8 \u00b6 \u6982\u8981 \u00b6 \u5e97\u8217\u304cLINE\u304b\u3089\u8ffd\u52a0\u767a\u6ce8\u3092\u4f9d\u983c\u3067\u304d\u308b\u6a5f\u80fd\u3002 \u6a5f\u80fd\u8a73\u7d30 \u00b6 \u5546\u54c1\u9078\u629e\uff08\u30af\u30a4\u30c3\u30af\u30ea\u30d7\u30e9\u30a4\uff09 \u6570\u91cf\u5165\u529b\uff08\u30b1\u30fc\u30b9\u5358\u4f4d\u3001\u6574\u6570\u306e\u307f\uff09 \u5e0c\u671b\u7d0d\u54c1\u65e5\u5165\u529b\uff08\u4efb\u610f\u3001\u53c2\u8003\u60c5\u5831\u3068\u3057\u3066\u8a18\u9332\uff09 \u78ba\u8a8d\u753b\u9762\u8868\u793a \u4f9d\u983c\u5b8c\u4e86\u901a\u77e5 \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3 \u00b6 \u6570\u91cf: \u6574\u6570\u306e\u307f\uff08\u5c0f\u6570\u70b9\u4e0d\u53ef\uff09 \u5358\u4f4d: \u30b1\u30fc\u30b9\u5358\u4f4d\u306e\u307f \u672c\u90e8\u627f\u8a8d \u00b6 \u6982\u8981 \u00b6 \u672c\u90e8\u30d0\u30a4\u30e4\u30fc\u304c\u767a\u6ce8\u4f9d\u983c\u3092\u627f\u8a8d\u30fb\u5dee\u623b\u3057\u30fb\u4e00\u90e8\u627f\u8a8d\u3067\u304d\u308b\u6a5f\u80fd\u3002 \u627f\u8a8d\u5f85\u3061\u4e00\u89a7 \u00b6 \u5e0c\u671b\u7d0d\u54c1\u65e5\u306e\u65e9\u3044\u9806\u3067\u8868\u793a\uff08\u7dca\u6025\u5ea6\u512a\u5148\uff09 \u5728\u5eab\u72b6\u6cc1\u3082\u540c\u6642\u306b\u8868\u793a LINE/\u7ba1\u7406\u753b\u9762\u306e\u4e21\u65b9\u304b\u3089\u64cd\u4f5c\u53ef\u80fd \u627f\u8a8d\u30d1\u30bf\u30fc\u30f3 \u00b6 \u5168\u91cf\u627f\u8a8d \u00b6 \u5168\u91cf\u3092\u627f\u8a8d \u81ea\u52d5\u3067\u5728\u5eab\u5f15\u5f53\uff08allocations \u4f5c\u6210\uff09 status: approved \u2192 allocated_hold \u4e00\u90e8\u627f\u8a8d \u00b6 \u627f\u8a8d\u6570\u91cf\u3092\u5165\u529b\uff08\u4f8b: \u4f9d\u983c10\u30b1\u30fc\u30b9 \u2192 \u627f\u8a8d7\u30b1\u30fc\u30b9\uff09 \u5143\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u627f\u8a8d\u6570\u91cf\u3067\u66f4\u65b0\uff08 qty_requested: 10 \u2192 7 \uff09 \u6b8b\u308a\u6570\u91cf\u3067\u65b0\u898f\u30ea\u30af\u30a8\u30b9\u30c8\u4f5c\u6210 parent_request_id \u3067\u7d10\u4ed8\u3051 status: pending_inventory \u5e97\u8217\u306b\u901a\u77e5 \u300c7\u30b1\u30fc\u30b9\u627f\u8a8d\u3001\u6b8b\u308a3\u30b1\u30fc\u30b9\u306f\u5728\u5eab\u78ba\u4fdd\u3067\u304d\u6b21\u7b2c\u9023\u7d61\u300d \u5dee\u623b\u3057 \u00b6 \u7406\u7531\u5165\u529b \u5e97\u8217\u306b\u901a\u77e5\uff08status: rejected \uff09 \u5e97\u8217\u304c\u4fee\u6b63\u3057\u3066\u518d\u63d0\u51fa\u53ef\u80fd \u5728\u5eab\u5f15\u5f53\u7ba1\u7406 \u00b6 \u6982\u8981 \u00b6 \u627f\u8a8d\u3055\u308c\u305f\u767a\u6ce8\u306b\u5bfe\u3057\u3066\u5728\u5eab\u3092\u4eee\u5f15\u5f53\u30fb\u78ba\u5b9a\u3059\u308b\u6a5f\u80fd\u3002 \u4eee\u5f15\u5f53\uff08hold\uff09 \u00b6 \u627f\u8a8d\u6642\u306b\u81ea\u52d5\u3067\u4f5c\u6210 type='hold' , status='active' expires_at = \u4f5c\u6210\u6642\u523b + 24\u6642\u9593 \u8907\u6570\u5728\u5eab\u304b\u3089\u306e\u5f15\u5f53\u53ef\u80fd\uff081 request \u2192 \u8907\u6570 allocations\uff09 \u78ba\u5b9a\u5f15\u5f53\uff08confirmed\uff09 \u00b6 \u4eee\u5f15\u5f53\u304b\u3089\u78ba\u5b9a\u306b\u5909\u66f4 type='confirmed' , confirmed_at=now() \u90e8\u5206\u78ba\u5b9a\u53ef\u80fd\uff08\u4e00\u90e8\u3060\u3051 confirmed \u306b\u5909\u66f4\uff09 \u671f\u9650\u7ba1\u7406 \u00b6 \u671f\u9650\u5207\u308c\u8b66\u544a\uff08\u81ea\u52d5\u89e3\u653e\u306f\u3057\u306a\u3044\uff09 \u7ba1\u7406\u753b\u9762\u306e\u300c\u671f\u9650\u5207\u308c\u4e00\u89a7\u300d\u306b\u8868\u793a \u5e97\u8217\u306bLINE\u901a\u77e5 \u624b\u52d5\u64cd\u4f5c\uff08\u7ba1\u7406\u753b\u9762\uff09 \u00b6 \u671f\u9650\u5ef6\u9577 \u624b\u52d5\u89e3\u653e\uff08 status='released' \uff09 \u78ba\u5b9a\uff08 type='confirmed' \uff09 \u51fa\u8377\u4f9d\u983c \u00b6 \u6982\u8981 \u00b6 \u627f\u8a8d\u5f8c\u3001\u81ea\u52d5\u3067\u51fa\u8377\u4f9d\u983c\u3092\u751f\u6210\u3057\u3001\u52a0\u5de5\u4f1a\u793e\u306b\u901a\u77e5\u3059\u308b\u6a5f\u80fd\u3002 \u51e6\u7406\u30d5\u30ed\u30fc \u00b6 \u627f\u8a8d\u5b8c\u4e86 \u81ea\u52d5\u3067 shipment_requested \u306b\u9077\u79fb \u7d0d\u54c1\u66f8PDF\u81ea\u52d5\u751f\u6210\uff08\u65e2\u5b58\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u8e0f\u8972\uff09 Supabase Storage\u306b\u4fdd\u5b58 \u52a0\u5de5\u4f1a\u793e\u3078\u306e\u901a\u77e5\uff08\u65b9\u6cd5\u306f\u5f8c\u65e5\u78ba\u5b9a\uff09 \u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406 \u00b6 \u4fee\u6b63\u6642\u306f\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u4f5c\u6210 documents.version \u3092\u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30c8 is_latest \u30d5\u30e9\u30b0\u3067\u6700\u65b0\u7248\u3092\u7ba1\u7406 Excel\u5728\u5eab\u540c\u671f \u00b6 \u6982\u8981 \u00b6 \u7ba1\u7406\u753b\u9762\u304b\u3089Excel\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u30015\u5206\u6bce\u306b\u81ea\u52d5\u540c\u671f\u3059\u308b\u6a5f\u80fd\u3002 \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30d5\u30ed\u30fc \u00b6 \u7ba1\u7406\u753b\u9762\u3067\u300cExcel\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u300d\u30dc\u30bf\u30f3 Supabase Storage ( inventory bucket) \u306b\u4fdd\u5b58 \u30d5\u30a1\u30a4\u30eb\u540d: inventory_YYYYMMDD_HHMMSS.xlsx \u300c\u540c\u671f\u5b9f\u884c\u300d\u30dc\u30bf\u30f3\u307e\u305f\u306f\u81ea\u52d5\u30c8\u30ea\u30ac\u30fc \u81ea\u52d5\u540c\u671f\uff08Cron: 5\u5206\u6bce\uff09 \u00b6 \u6700\u65b0\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f \u30d5\u30a1\u30a4\u30eb\u66f4\u65b0\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u8a18\u9332 Python (pandas) \u3067\u89e3\u6790 products\u7167\u5408\uff08\u5546\u54c1\u540d\u3067\u30de\u30c3\u30c1\uff09 inventory \u3078 UPSERT status='provisional' source='excel_sync' \u540c\u671f\u7d50\u679c\u3092 inventory_sync_log \u306b\u8a18\u9332 \u30a8\u30e9\u30fc\u51e6\u7406 \u00b6 \u540c\u671f\u5931\u6557\u6642: \u7ba1\u7406\u8005LINE\u30b0\u30eb\u30fc\u30d7\u306b\u901a\u77e5 \u901a\u77e5\u5185\u5bb9: \u30a8\u30e9\u30fc\u5185\u5bb9\u3001\u30d5\u30a1\u30a4\u30eb\u540d\u3001\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7 \u4f9d\u983c\u72b6\u6cc1\u78ba\u8a8d \u00b6 \u6982\u8981 \u00b6 \u5e97\u8217/\u672c\u90e8\u304c\u767a\u6ce8\u4f9d\u983c\u306e\u72b6\u6cc1\u3092\u78ba\u8a8d\u3067\u304d\u308b\u6a5f\u80fd\u3002 \u5e97\u8217\u30de\u30cd\u30fc\u30b8\u30e3\u30fc \u00b6 \u81ea\u5e97\u8217\u306e\u4f9d\u983c\u4e00\u89a7 \u30b9\u30c6\u30fc\u30bf\u30b9\u30fb\u4f9d\u983c\u65e5\u30fb\u51fa\u8377\u65e5\u8868\u793a \u672c\u90e8\u30d0\u30a4\u30e4\u30fc \u00b6 \u5168\u5e97\u8217\u306e\u4f9d\u983c\u4e00\u89a7 \u30d5\u30a3\u30eb\u30bf\u30fb\u30bd\u30fc\u30c8\u6a5f\u80fd \u8a73\u7d30\u8868\u793a \u00b6 \u30ea\u30af\u30a8\u30b9\u30c8\u8a73\u7d30 \u5728\u5eab\u5f15\u5f53\u72b6\u6cc1 \u51fa\u8377\u60c5\u5831 \u7d0d\u54c1\u66f8\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30ea\u30f3\u30af\uff08\u51fa\u8377\u5f8c\uff09","title":"5. \u6a5f\u80fd\u8981\u4ef6"},{"location":"requirements/features/#_1","text":"","title":"\u6a5f\u80fd\u8981\u4ef6"},{"location":"requirements/features/#_2","text":"","title":"\u5728\u5eab\u7167\u4f1a"},{"location":"requirements/features/#_3","text":"\u5e97\u8217\u304cLINE\u3067\u5546\u54c1\u306e\u5728\u5eab\u6570\u91cf\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u78ba\u8a8d\u3067\u304d\u308b\u6a5f\u80fd\u3002","title":"\u6982\u8981"},{"location":"requirements/features/#_4","text":"\u5546\u54c1\u9078\u629e\uff08\u30af\u30a4\u30c3\u30af\u30ea\u30d7\u30e9\u30a4\uff09 \u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u5728\u5eab\u6570\u91cf\u8868\u793a Excel\u540c\u671f\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u8868\u793a\uff08\u300c\u203b\u25cb\u6642\u9593\u524d\u306e\u60c5\u5831\u300d\uff09 \u7d0d\u54c1\u65e5\u306f\u8868\u793a\u3057\u306a\u3044 \uff08\u5225\u9014\u9023\u7d61\uff09","title":"\u6a5f\u80fd\u8a73\u7d30"},{"location":"requirements/features/#_5","text":"\u3010\u5728\u5eab\u7167\u4f1a\u7d50\u679c\u3011 \u5546\u54c1: \u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8 \u5728\u5eab: 10\u30b1\u30fc\u30b9 \u203b\u3053\u306e\u60c5\u5831\u306f2\u6642\u9593\u524d\u306e\u3082\u306e\u3067\u3059 \u7d0d\u54c1\u65e5\u306f\u5225\u9014\u3054\u9023\u7d61\u3057\u307e\u3059\u3002","title":"\u8fd4\u7b54\u4f8b"},{"location":"requirements/features/#_6","text":"","title":"\u8ffd\u52a0\u767a\u6ce8"},{"location":"requirements/features/#_7","text":"\u5e97\u8217\u304cLINE\u304b\u3089\u8ffd\u52a0\u767a\u6ce8\u3092\u4f9d\u983c\u3067\u304d\u308b\u6a5f\u80fd\u3002","title":"\u6982\u8981"},{"location":"requirements/features/#_8","text":"\u5546\u54c1\u9078\u629e\uff08\u30af\u30a4\u30c3\u30af\u30ea\u30d7\u30e9\u30a4\uff09 \u6570\u91cf\u5165\u529b\uff08\u30b1\u30fc\u30b9\u5358\u4f4d\u3001\u6574\u6570\u306e\u307f\uff09 \u5e0c\u671b\u7d0d\u54c1\u65e5\u5165\u529b\uff08\u4efb\u610f\u3001\u53c2\u8003\u60c5\u5831\u3068\u3057\u3066\u8a18\u9332\uff09 \u78ba\u8a8d\u753b\u9762\u8868\u793a \u4f9d\u983c\u5b8c\u4e86\u901a\u77e5","title":"\u6a5f\u80fd\u8a73\u7d30"},{"location":"requirements/features/#_9","text":"\u6570\u91cf: \u6574\u6570\u306e\u307f\uff08\u5c0f\u6570\u70b9\u4e0d\u53ef\uff09 \u5358\u4f4d: \u30b1\u30fc\u30b9\u5358\u4f4d\u306e\u307f","title":"\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3"},{"location":"requirements/features/#_10","text":"","title":"\u672c\u90e8\u627f\u8a8d"},{"location":"requirements/features/#_11","text":"\u672c\u90e8\u30d0\u30a4\u30e4\u30fc\u304c\u767a\u6ce8\u4f9d\u983c\u3092\u627f\u8a8d\u30fb\u5dee\u623b\u3057\u30fb\u4e00\u90e8\u627f\u8a8d\u3067\u304d\u308b\u6a5f\u80fd\u3002","title":"\u6982\u8981"},{"location":"requirements/features/#_12","text":"\u5e0c\u671b\u7d0d\u54c1\u65e5\u306e\u65e9\u3044\u9806\u3067\u8868\u793a\uff08\u7dca\u6025\u5ea6\u512a\u5148\uff09 \u5728\u5eab\u72b6\u6cc1\u3082\u540c\u6642\u306b\u8868\u793a LINE/\u7ba1\u7406\u753b\u9762\u306e\u4e21\u65b9\u304b\u3089\u64cd\u4f5c\u53ef\u80fd","title":"\u627f\u8a8d\u5f85\u3061\u4e00\u89a7"},{"location":"requirements/features/#_13","text":"","title":"\u627f\u8a8d\u30d1\u30bf\u30fc\u30f3"},{"location":"requirements/features/#_17","text":"","title":"\u5728\u5eab\u5f15\u5f53\u7ba1\u7406"},{"location":"requirements/features/#_18","text":"\u627f\u8a8d\u3055\u308c\u305f\u767a\u6ce8\u306b\u5bfe\u3057\u3066\u5728\u5eab\u3092\u4eee\u5f15\u5f53\u30fb\u78ba\u5b9a\u3059\u308b\u6a5f\u80fd\u3002","title":"\u6982\u8981"},{"location":"requirements/features/#hold","text":"\u627f\u8a8d\u6642\u306b\u81ea\u52d5\u3067\u4f5c\u6210 type='hold' , status='active' expires_at = \u4f5c\u6210\u6642\u523b + 24\u6642\u9593 \u8907\u6570\u5728\u5eab\u304b\u3089\u306e\u5f15\u5f53\u53ef\u80fd\uff081 request \u2192 \u8907\u6570 allocations\uff09","title":"\u4eee\u5f15\u5f53\uff08hold\uff09"},{"location":"requirements/features/#confirmed","text":"\u4eee\u5f15\u5f53\u304b\u3089\u78ba\u5b9a\u306b\u5909\u66f4 type='confirmed' , confirmed_at=now() \u90e8\u5206\u78ba\u5b9a\u53ef\u80fd\uff08\u4e00\u90e8\u3060\u3051 confirmed \u306b\u5909\u66f4\uff09","title":"\u78ba\u5b9a\u5f15\u5f53\uff08confirmed\uff09"},{"location":"requirements/features/#_19","text":"\u671f\u9650\u5207\u308c\u8b66\u544a\uff08\u81ea\u52d5\u89e3\u653e\u306f\u3057\u306a\u3044\uff09 \u7ba1\u7406\u753b\u9762\u306e\u300c\u671f\u9650\u5207\u308c\u4e00\u89a7\u300d\u306b\u8868\u793a \u5e97\u8217\u306bLINE\u901a\u77e5","title":"\u671f\u9650\u7ba1\u7406"},{"location":"requirements/features/#_20","text":"\u671f\u9650\u5ef6\u9577 \u624b\u52d5\u89e3\u653e\uff08 status='released' \uff09 \u78ba\u5b9a\uff08 type='confirmed' \uff09","title":"\u624b\u52d5\u64cd\u4f5c\uff08\u7ba1\u7406\u753b\u9762\uff09"},{"location":"requirements/features/#_21","text":"","title":"\u51fa\u8377\u4f9d\u983c"},{"location":"requirements/features/#_22","text":"\u627f\u8a8d\u5f8c\u3001\u81ea\u52d5\u3067\u51fa\u8377\u4f9d\u983c\u3092\u751f\u6210\u3057\u3001\u52a0\u5de5\u4f1a\u793e\u306b\u901a\u77e5\u3059\u308b\u6a5f\u80fd\u3002","title":"\u6982\u8981"},{"location":"requirements/features/#_23","text":"\u627f\u8a8d\u5b8c\u4e86 \u81ea\u52d5\u3067 shipment_requested \u306b\u9077\u79fb \u7d0d\u54c1\u66f8PDF\u81ea\u52d5\u751f\u6210\uff08\u65e2\u5b58\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u8e0f\u8972\uff09 Supabase Storage\u306b\u4fdd\u5b58 \u52a0\u5de5\u4f1a\u793e\u3078\u306e\u901a\u77e5\uff08\u65b9\u6cd5\u306f\u5f8c\u65e5\u78ba\u5b9a\uff09","title":"\u51e6\u7406\u30d5\u30ed\u30fc"},{"location":"requirements/features/#_24","text":"\u4fee\u6b63\u6642\u306f\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u4f5c\u6210 documents.version \u3092\u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30c8 is_latest \u30d5\u30e9\u30b0\u3067\u6700\u65b0\u7248\u3092\u7ba1\u7406","title":"\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406"},{"location":"requirements/features/#excel","text":"","title":"Excel\u5728\u5eab\u540c\u671f"},{"location":"requirements/features/#_25","text":"\u7ba1\u7406\u753b\u9762\u304b\u3089Excel\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u30015\u5206\u6bce\u306b\u81ea\u52d5\u540c\u671f\u3059\u308b\u6a5f\u80fd\u3002","title":"\u6982\u8981"},{"location":"requirements/features/#_26","text":"\u7ba1\u7406\u753b\u9762\u3067\u300cExcel\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u300d\u30dc\u30bf\u30f3 Supabase Storage ( inventory bucket) \u306b\u4fdd\u5b58 \u30d5\u30a1\u30a4\u30eb\u540d: inventory_YYYYMMDD_HHMMSS.xlsx \u300c\u540c\u671f\u5b9f\u884c\u300d\u30dc\u30bf\u30f3\u307e\u305f\u306f\u81ea\u52d5\u30c8\u30ea\u30ac\u30fc","title":"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30d5\u30ed\u30fc"},{"location":"requirements/features/#cron-5","text":"\u6700\u65b0\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f \u30d5\u30a1\u30a4\u30eb\u66f4\u65b0\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u8a18\u9332 Python (pandas) \u3067\u89e3\u6790 products\u7167\u5408\uff08\u5546\u54c1\u540d\u3067\u30de\u30c3\u30c1\uff09 inventory \u3078 UPSERT status='provisional' source='excel_sync' \u540c\u671f\u7d50\u679c\u3092 inventory_sync_log \u306b\u8a18\u9332","title":"\u81ea\u52d5\u540c\u671f\uff08Cron: 5\u5206\u6bce\uff09"},{"location":"requirements/features/#_27","text":"\u540c\u671f\u5931\u6557\u6642: \u7ba1\u7406\u8005LINE\u30b0\u30eb\u30fc\u30d7\u306b\u901a\u77e5 \u901a\u77e5\u5185\u5bb9: \u30a8\u30e9\u30fc\u5185\u5bb9\u3001\u30d5\u30a1\u30a4\u30eb\u540d\u3001\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7","title":"\u30a8\u30e9\u30fc\u51e6\u7406"},{"location":"requirements/features/#_28","text":"","title":"\u4f9d\u983c\u72b6\u6cc1\u78ba\u8a8d"},{"location":"requirements/features/#_29","text":"\u5e97\u8217/\u672c\u90e8\u304c\u767a\u6ce8\u4f9d\u983c\u306e\u72b6\u6cc1\u3092\u78ba\u8a8d\u3067\u304d\u308b\u6a5f\u80fd\u3002","title":"\u6982\u8981"},{"location":"requirements/features/#_30","text":"\u81ea\u5e97\u8217\u306e\u4f9d\u983c\u4e00\u89a7 \u30b9\u30c6\u30fc\u30bf\u30b9\u30fb\u4f9d\u983c\u65e5\u30fb\u51fa\u8377\u65e5\u8868\u793a","title":"\u5e97\u8217\u30de\u30cd\u30fc\u30b8\u30e3\u30fc"},{"location":"requirements/features/#_31","text":"\u5168\u5e97\u8217\u306e\u4f9d\u983c\u4e00\u89a7 \u30d5\u30a3\u30eb\u30bf\u30fb\u30bd\u30fc\u30c8\u6a5f\u80fd","title":"\u672c\u90e8\u30d0\u30a4\u30e4\u30fc"},{"location":"requirements/features/#_32","text":"\u30ea\u30af\u30a8\u30b9\u30c8\u8a73\u7d30 \u5728\u5eab\u5f15\u5f53\u72b6\u6cc1 \u51fa\u8377\u60c5\u5831 \u7d0d\u54c1\u66f8\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30ea\u30f3\u30af\uff08\u51fa\u8377\u5f8c\uff09","title":"\u8a73\u7d30\u8868\u793a"},{"location":"requirements/line-ui/","text":"LINE UI \u8a2d\u8a08 \u00b6 \u30ea\u30c3\u30c1\u30e1\u30cb\u30e5\u30fc \u00b6 \u5e97\u8217\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u5411\u3051 \u00b6 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u5728\u5eab\u7167\u4f1a \u2502 \u8ffd\u52a0\u767a\u6ce8 \u2502 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502 \u4f9d\u983c\u72b6\u6cc1\u78ba\u8a8d \u2502 \u30d8\u30eb\u30d7 \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u672c\u90e8\u30d0\u30a4\u30e4\u30fc\u5411\u3051 \u00b6 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u627f\u8a8d\u5f85\u3061\u4e00\u89a7 \u2502 \u5168\u4f9d\u983c\u78ba\u8a8d \u2502 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502 \u7ba1\u7406\u753b\u9762\u3078 \u2502 \u30d8\u30eb\u30d7 \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u4e3b\u8981\u30d5\u30ed\u30fc \u00b6 \u5728\u5eab\u7167\u4f1a\u30d5\u30ed\u30fc \u00b6 \u5e97\u8217: [\u5728\u5eab\u7167\u4f1a] \u30bf\u30c3\u30d7 BOT: \u5546\u54c1\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044 [\u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8] [\u30c8\u30ea\u30e5\u30d5] [\u30de\u30ab\u30ed\u30f3] ... \u5e97\u8217: [\u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8] \u9078\u629e BOT: \u3010\u5728\u5eab\u7167\u4f1a\u7d50\u679c\u3011 \u5546\u54c1: \u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8 \u5728\u5eab: 10\u30b1\u30fc\u30b9 \u203b\u3053\u306e\u60c5\u5831\u306f2\u6642\u9593\u524d\u306e\u3082\u306e\u3067\u3059 \u7d0d\u54c1\u65e5\u306f\u5225\u9014\u3054\u9023\u7d61\u3057\u307e\u3059\u3002 \u8ffd\u52a0\u767a\u6ce8\u30d5\u30ed\u30fc \u00b6 \u5e97\u8217: [\u8ffd\u52a0\u767a\u6ce8] \u30bf\u30c3\u30d7 BOT: \u5546\u54c1\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044 [\u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8] [\u30c8\u30ea\u30e5\u30d5] [\u30de\u30ab\u30ed\u30f3] ... \u5e97\u8217: [\u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8] \u9078\u629e BOT: \u6570\u91cf\uff08\u30b1\u30fc\u30b9\u6570\uff09\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044 \u5e97\u8217: \u300c10\u300d\u3068\u5165\u529b BOT: \u5e0c\u671b\u7d0d\u54c1\u65e5\u306f\u3042\u308a\u307e\u3059\u304b\uff1f [\u3067\u304d\u308b\u3060\u3051\u65e9\u304f] [\u65e5\u4ed8\u3092\u6307\u5b9a] [\u7279\u306b\u306a\u3057] \u5e97\u8217: [\u3067\u304d\u308b\u3060\u3051\u65e9\u304f] \u9078\u629e BOT: \u3010\u78ba\u8a8d\u3011 \u5546\u54c1: \u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8 \u6570\u91cf: 10\u30b1\u30fc\u30b9 \u5e0c\u671b: \u3067\u304d\u308b\u3060\u3051\u65e9\u304f \u3053\u306e\u5185\u5bb9\u3067\u767a\u6ce8\u4f9d\u983c\u3057\u307e\u3059\u304b\uff1f [\u306f\u3044] [\u3044\u3044\u3048] \u5e97\u8217: [\u306f\u3044] BOT: \u767a\u6ce8\u4f9d\u983c\u3092\u53d7\u3051\u4ed8\u3051\u307e\u3057\u305f\u3002 \u672c\u90e8\u627f\u8a8d\u5f8c\u3001\u8a73\u7d30\u3092\u3054\u9023\u7d61\u3057\u307e\u3059\u3002 \u672c\u90e8\u627f\u8a8d\u30d5\u30ed\u30fc\uff08LINE\uff09 \u00b6 \u627f\u8a8d\u4f9d\u983c\u901a\u77e5 \u00b6 BOT \u2192 \u672c\u90e8: \u3010\u627f\u8a8d\u4f9d\u983c\u3011 \u5e97\u8217: \u9ad8\u5cf6\u5c4b\u65b0\u5bbf\u5e97 \u5546\u54c1: \u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8 \u6570\u91cf: 10\u30b1\u30fc\u30b9 \u5e0c\u671b\u65e5: \u3067\u304d\u308b\u3060\u3051\u65e9\u304f \u5728\u5eab: 10\u30b1\u30fc\u30b9\uff08\u203b2\u6642\u9593\u524d\uff09 [\u5168\u91cf\u627f\u8a8d] [\u4e00\u90e8\u627f\u8a8d] [\u5dee\u623b\u3057] \u4e00\u90e8\u627f\u8a8d\u306e\u5834\u5408 \u00b6 \u672c\u90e8: [\u4e00\u90e8\u627f\u8a8d] \u30bf\u30c3\u30d7 BOT: \u627f\u8a8d\u3059\u308b\u6570\u91cf\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044 \u672c\u90e8: \u300c7\u300d\u3068\u5165\u529b BOT: \u3010\u78ba\u8a8d\u3011 \u4f9d\u983c\u6570\u91cf: 10\u30b1\u30fc\u30b9 \u627f\u8a8d\u6570\u91cf: 7\u30b1\u30fc\u30b9 \u4fdd\u7559\u6570\u91cf: 3\u30b1\u30fc\u30b9 7\u30b1\u30fc\u30b9\u3092\u627f\u8a8d\u3057\u3001\u6b8b\u308a3\u30b1\u30fc\u30b9\u306f\u5728\u5eab\u5f85\u3061\u3068\u3057\u3066\u767b\u9332\u3057\u307e\u3059\u3002 \u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f [\u306f\u3044] [\u3044\u3044\u3048] \u672c\u90e8: [\u306f\u3044] BOT: \u627f\u8a8d\u3057\u307e\u3057\u305f\u3002 \u5e97\u8217\u306b\u901a\u77e5\u3057\u3001\u51fa\u8377\u4f9d\u983c\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f\u3002 \u5e97\u8217\u3078\u306e\u4e00\u90e8\u627f\u8a8d\u901a\u77e5 \u00b6 BOT \u2192 \u5e97\u8217: \u3010\u4e00\u90e8\u627f\u8a8d\u3011 \u4f9d\u983c\u6570\u91cf: 10\u30b1\u30fc\u30b9 \u627f\u8a8d\u6570\u91cf: 7\u30b1\u30fc\u30b9 \u4fdd\u7559\u6570\u91cf: 3\u30b1\u30fc\u30b9 7\u30b1\u30fc\u30b9\u306f\u51fa\u8377\u624b\u7d9a\u304d\u3092\u9032\u3081\u307e\u3059\u3002 \u6b8b\u308a3\u30b1\u30fc\u30b9\u306f\u5728\u5eab\u304c\u78ba\u4fdd\u3067\u304d\u6b21\u7b2c\u3001\u5225\u9014\u3054\u9023\u7d61\u3057\u307e\u3059\u3002 [\u4e86\u89e3] [\u6b8b\u308a3\u30b1\u30fc\u30b9\u3092\u30ad\u30e3\u30f3\u30bb\u30eb] \u5dee\u623b\u3057\u306e\u5834\u5408 \u00b6 \u672c\u90e8: [\u5dee\u623b\u3057] \u30bf\u30c3\u30d7 BOT: \u5dee\u623b\u3057\u7406\u7531\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044 \u672c\u90e8: \u300c\u5546\u54c1\u306e\u9078\u629e\u3092\u9593\u9055\u3048\u3066\u3044\u307e\u3059\u300d\u3068\u5165\u529b BOT: \u5dee\u623b\u3057\u307e\u3057\u305f\u3002\u5e97\u8217\u306b\u901a\u77e5\u3057\u307e\u3059\u3002 BOT \u2192 \u5e97\u8217: \u3010\u5dee\u623b\u3057\u3011 \u5546\u54c1: \u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8 \u6570\u91cf: 10\u30b1\u30fc\u30b9 \u7406\u7531: \u5546\u54c1\u306e\u9078\u629e\u3092\u9593\u9055\u3048\u3066\u3044\u307e\u3059 [\u4fee\u6b63\u3057\u3066\u518d\u4f9d\u983c] [\u30ad\u30e3\u30f3\u30bb\u30eb] \u4f9d\u983c\u72b6\u6cc1\u78ba\u8a8d\u30d5\u30ed\u30fc \u00b6 \u5e97\u8217: [\u4f9d\u983c\u72b6\u6cc1\u78ba\u8a8d] \u30bf\u30c3\u30d7 BOT: \u3010\u73fe\u5728\u306e\u4f9d\u983c\u72b6\u6cc1\u3011 1. \u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8 10\u30b1\u30fc\u30b9 \u72b6\u614b: \u672c\u90e8\u627f\u8a8d\u5f85\u3061 \u4f9d\u983c\u65e5: 2026/02/15 2. \u30c8\u30ea\u30e5\u30d5 5\u30b1\u30fc\u30b9 \u72b6\u614b: \u51fa\u8377\u6e08\u307f \u4f9d\u983c\u65e5: 2026/02/10 \u51fa\u8377\u65e5: 2026/02/13 3. \u30de\u30ab\u30ed\u30f3 8\u30b1\u30fc\u30b9 \u72b6\u614b: \u4e00\u90e8\u627f\u8a8d\uff086\u30b1\u30fc\u30b9\u627f\u8a8d\u30012\u30b1\u30fc\u30b9\u4fdd\u7559\uff09 \u4f9d\u983c\u65e5: 2026/02/14 [\u8a73\u7d30\u3092\u898b\u308b] [\u9589\u3058\u308b] UI \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8 \u00b6 \u30af\u30a4\u30c3\u30af\u30ea\u30d7\u30e9\u30a4 \u00b6 \u5546\u54c1\u9078\u629e\u3001\u5e0c\u671b\u7d0d\u54c1\u65e5\u9078\u629e\u3067\u4f7f\u7528 \u7279\u5fb4 : - \u6700\u592713\u500b\u307e\u3067\u8868\u793a\u53ef\u80fd - \u30bf\u30c3\u30d7\u3067\u5373\u5ea7\u306b\u9078\u629e\u5b8c\u4e86 Flex Message \u00b6 \u627f\u8a8d\u4f9d\u983c\u901a\u77e5\u3067\u4f7f\u7528 \u7279\u5fb4 : - \u30ab\u30fc\u30c9\u578b\u306e\u30ea\u30c3\u30c1\u306a\u30e1\u30c3\u30bb\u30fc\u30b8 - \u30dc\u30bf\u30f3\u3092\u8907\u6570\u914d\u7f6e\u53ef\u80fd \u30c6\u30ad\u30b9\u30c8\u5165\u529b \u00b6 \u6570\u91cf\u5165\u529b\u3001\u7406\u7531\u5165\u529b\u3067\u4f7f\u7528 \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3 : - \u6570\u91cf: \u6574\u6570\u30c1\u30a7\u30c3\u30af - \u7406\u7531: \u6700\u5927200\u6587\u5b57 \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8 \u00b6 \u5165\u529b\u30a8\u30e9\u30fc \u00b6 BOT: \u6570\u91cf\u306f\u6574\u6570\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u4f8b: 10 \u30b7\u30b9\u30c6\u30e0\u30a8\u30e9\u30fc \u00b6 BOT: \u30b7\u30b9\u30c6\u30e0\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002 \u3057\u3070\u3089\u304f\u7d4c\u3063\u3066\u304b\u3089\u518d\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002 \u30a8\u30e9\u30fc\u30b3\u30fc\u30c9: ERR-001 \u6a29\u9650\u30a8\u30e9\u30fc \u00b6 BOT: \u3053\u306e\u64cd\u4f5c\u3092\u884c\u3046\u6a29\u9650\u304c\u3042\u308a\u307e\u305b\u3093\u3002 \u7ba1\u7406\u8005\u306b\u304a\u554f\u3044\u5408\u308f\u305b\u304f\u3060\u3055\u3044\u3002 \u521d\u56de\u767b\u9332\u30d5\u30ed\u30fc \u00b6 \u5e97\u8217\u30de\u30cd\u30fc\u30b8\u30e3\u30fc \u00b6 \u5e97\u8217: LINE\u53cb\u3060\u3061\u8ffd\u52a0 BOT: \u521d\u3081\u3066\u306e\u3054\u5229\u7528\u3067\u3059\u306d\u3002 \u62c5\u5f53\u5e97\u8217\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [\u9ad8\u5cf6\u5c4b\u65b0\u5bbf\u5e97] [\u9ad8\u5cf6\u5c4b\u6a2a\u6d5c\u5e97] [\u9ad8\u5cf6\u5c4b\u5927\u962a\u5e97] ... \u5e97\u8217: [\u9ad8\u5cf6\u5c4b\u65b0\u5bbf\u5e97] \u9078\u629e BOT: \u767b\u9332\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002 \u4e0b\u306e\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u64cd\u4f5c\u3067\u304d\u307e\u3059\u3002 [\u5728\u5eab\u7167\u4f1a] [\u8ffd\u52a0\u767a\u6ce8] [\u4f9d\u983c\u72b6\u6cc1\u78ba\u8a8d] [\u30d8\u30eb\u30d7] \u672c\u90e8\u30d0\u30a4\u30e4\u30fc\uff08\u62db\u5f85\u30b3\u30fc\u30c9\uff09 \u00b6 \u672c\u90e8: LINE\u53cb\u3060\u3061\u8ffd\u52a0 BOT: \u521d\u3081\u3066\u306e\u3054\u5229\u7528\u3067\u3059\u306d\u3002 \u62db\u5f85\u30b3\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u672c\u90e8: \u300cBUYER-ABC123\u300d\u3068\u5165\u529b BOT: \u62db\u5f85\u30b3\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002 \u672c\u90e8\u30d0\u30a4\u30e4\u30fc\u3068\u3057\u3066\u767b\u9332\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002 [\u627f\u8a8d\u5f85\u3061\u4e00\u89a7] [\u5168\u4f9d\u983c\u78ba\u8a8d] [\u7ba1\u7406\u753b\u9762\u3078] [\u30d8\u30eb\u30d7] \u901a\u77e5\u30bf\u30a4\u30df\u30f3\u30b0 \u00b6 \u5e97\u8217\u3078\u306e\u901a\u77e5 \u00b6 \u767a\u6ce8\u4f9d\u983c\u53d7\u4ed8\u5b8c\u4e86 \u672c\u90e8\u627f\u8a8d\u5b8c\u4e86 \u4e00\u90e8\u627f\u8a8d\u5b8c\u4e86\uff08\u4fdd\u7559\u5206\u306e\u8aac\u660e\u542b\u3080\uff09 \u5dee\u623b\u3057 \u51fa\u8377\u5b8c\u4e86 \u4eee\u5f15\u5f53\u671f\u9650\u5207\u308c\u8b66\u544a \u672c\u90e8\u3078\u306e\u901a\u77e5 \u00b6 \u65b0\u898f\u767a\u6ce8\u4f9d\u983c \u5e97\u8217\u304c\u4fee\u6b63\u518d\u63d0\u51fa \u7ba1\u7406\u8005\u3078\u306e\u901a\u77e5 \u00b6 Excel\u540c\u671f\u30a8\u30e9\u30fc \u5728\u5eab\u5f15\u5f53\u5931\u6557 \u30b7\u30b9\u30c6\u30e0\u30a8\u30e9\u30fc","title":"6. LINE UI\u8a2d\u8a08"},{"location":"requirements/line-ui/#line-ui","text":"","title":"LINE UI \u8a2d\u8a08"},{"location":"requirements/line-ui/#_1","text":"","title":"\u30ea\u30c3\u30c1\u30e1\u30cb\u30e5\u30fc"},{"location":"requirements/line-ui/#_2","text":"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u5728\u5eab\u7167\u4f1a \u2502 \u8ffd\u52a0\u767a\u6ce8 \u2502 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502 \u4f9d\u983c\u72b6\u6cc1\u78ba\u8a8d \u2502 \u30d8\u30eb\u30d7 \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518","title":"\u5e97\u8217\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u5411\u3051"},{"location":"requirements/line-ui/#_3","text":"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u627f\u8a8d\u5f85\u3061\u4e00\u89a7 \u2502 \u5168\u4f9d\u983c\u78ba\u8a8d \u2502 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502 \u7ba1\u7406\u753b\u9762\u3078 \u2502 \u30d8\u30eb\u30d7 \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518","title":"\u672c\u90e8\u30d0\u30a4\u30e4\u30fc\u5411\u3051"},{"location":"requirements/line-ui/#_4","text":"","title":"\u4e3b\u8981\u30d5\u30ed\u30fc"},{"location":"requirements/line-ui/#_5","text":"\u5e97\u8217: [\u5728\u5eab\u7167\u4f1a] \u30bf\u30c3\u30d7 BOT: \u5546\u54c1\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044 [\u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8] [\u30c8\u30ea\u30e5\u30d5] [\u30de\u30ab\u30ed\u30f3] ... \u5e97\u8217: [\u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8] \u9078\u629e BOT: \u3010\u5728\u5eab\u7167\u4f1a\u7d50\u679c\u3011 \u5546\u54c1: \u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8 \u5728\u5eab: 10\u30b1\u30fc\u30b9 \u203b\u3053\u306e\u60c5\u5831\u306f2\u6642\u9593\u524d\u306e\u3082\u306e\u3067\u3059 \u7d0d\u54c1\u65e5\u306f\u5225\u9014\u3054\u9023\u7d61\u3057\u307e\u3059\u3002","title":"\u5728\u5eab\u7167\u4f1a\u30d5\u30ed\u30fc"},{"location":"requirements/line-ui/#_6","text":"\u5e97\u8217: [\u8ffd\u52a0\u767a\u6ce8] \u30bf\u30c3\u30d7 BOT: \u5546\u54c1\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044 [\u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8] [\u30c8\u30ea\u30e5\u30d5] [\u30de\u30ab\u30ed\u30f3] ... \u5e97\u8217: [\u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8] \u9078\u629e BOT: \u6570\u91cf\uff08\u30b1\u30fc\u30b9\u6570\uff09\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044 \u5e97\u8217: \u300c10\u300d\u3068\u5165\u529b BOT: \u5e0c\u671b\u7d0d\u54c1\u65e5\u306f\u3042\u308a\u307e\u3059\u304b\uff1f [\u3067\u304d\u308b\u3060\u3051\u65e9\u304f] [\u65e5\u4ed8\u3092\u6307\u5b9a] [\u7279\u306b\u306a\u3057] \u5e97\u8217: [\u3067\u304d\u308b\u3060\u3051\u65e9\u304f] \u9078\u629e BOT: \u3010\u78ba\u8a8d\u3011 \u5546\u54c1: \u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8 \u6570\u91cf: 10\u30b1\u30fc\u30b9 \u5e0c\u671b: \u3067\u304d\u308b\u3060\u3051\u65e9\u304f \u3053\u306e\u5185\u5bb9\u3067\u767a\u6ce8\u4f9d\u983c\u3057\u307e\u3059\u304b\uff1f [\u306f\u3044] [\u3044\u3044\u3048] \u5e97\u8217: [\u306f\u3044] BOT: \u767a\u6ce8\u4f9d\u983c\u3092\u53d7\u3051\u4ed8\u3051\u307e\u3057\u305f\u3002 \u672c\u90e8\u627f\u8a8d\u5f8c\u3001\u8a73\u7d30\u3092\u3054\u9023\u7d61\u3057\u307e\u3059\u3002","title":"\u8ffd\u52a0\u767a\u6ce8\u30d5\u30ed\u30fc"},{"location":"requirements/line-ui/#line","text":"","title":"\u672c\u90e8\u627f\u8a8d\u30d5\u30ed\u30fc\uff08LINE\uff09"},{"location":"requirements/line-ui/#_11","text":"\u5e97\u8217: [\u4f9d\u983c\u72b6\u6cc1\u78ba\u8a8d] \u30bf\u30c3\u30d7 BOT: \u3010\u73fe\u5728\u306e\u4f9d\u983c\u72b6\u6cc1\u3011 1. \u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8 10\u30b1\u30fc\u30b9 \u72b6\u614b: \u672c\u90e8\u627f\u8a8d\u5f85\u3061 \u4f9d\u983c\u65e5: 2026/02/15 2. \u30c8\u30ea\u30e5\u30d5 5\u30b1\u30fc\u30b9 \u72b6\u614b: \u51fa\u8377\u6e08\u307f \u4f9d\u983c\u65e5: 2026/02/10 \u51fa\u8377\u65e5: 2026/02/13 3. \u30de\u30ab\u30ed\u30f3 8\u30b1\u30fc\u30b9 \u72b6\u614b: \u4e00\u90e8\u627f\u8a8d\uff086\u30b1\u30fc\u30b9\u627f\u8a8d\u30012\u30b1\u30fc\u30b9\u4fdd\u7559\uff09 \u4f9d\u983c\u65e5: 2026/02/14 [\u8a73\u7d30\u3092\u898b\u308b] [\u9589\u3058\u308b]","title":"\u4f9d\u983c\u72b6\u6cc1\u78ba\u8a8d\u30d5\u30ed\u30fc"},{"location":"requirements/line-ui/#ui","text":"","title":"UI \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8"},{"location":"requirements/line-ui/#_12","text":"\u5546\u54c1\u9078\u629e\u3001\u5e0c\u671b\u7d0d\u54c1\u65e5\u9078\u629e\u3067\u4f7f\u7528 \u7279\u5fb4 : - \u6700\u592713\u500b\u307e\u3067\u8868\u793a\u53ef\u80fd - \u30bf\u30c3\u30d7\u3067\u5373\u5ea7\u306b\u9078\u629e\u5b8c\u4e86","title":"\u30af\u30a4\u30c3\u30af\u30ea\u30d7\u30e9\u30a4"},{"location":"requirements/line-ui/#flex-message","text":"\u627f\u8a8d\u4f9d\u983c\u901a\u77e5\u3067\u4f7f\u7528 \u7279\u5fb4 : - \u30ab\u30fc\u30c9\u578b\u306e\u30ea\u30c3\u30c1\u306a\u30e1\u30c3\u30bb\u30fc\u30b8 - \u30dc\u30bf\u30f3\u3092\u8907\u6570\u914d\u7f6e\u53ef\u80fd","title":"Flex Message"},{"location":"requirements/line-ui/#_13","text":"\u6570\u91cf\u5165\u529b\u3001\u7406\u7531\u5165\u529b\u3067\u4f7f\u7528 \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3 : - \u6570\u91cf: \u6574\u6570\u30c1\u30a7\u30c3\u30af - \u7406\u7531: \u6700\u5927200\u6587\u5b57","title":"\u30c6\u30ad\u30b9\u30c8\u5165\u529b"},{"location":"requirements/line-ui/#_14","text":"","title":"\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8"},{"location":"requirements/line-ui/#_15","text":"BOT: \u6570\u91cf\u306f\u6574\u6570\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u4f8b: 10","title":"\u5165\u529b\u30a8\u30e9\u30fc"},{"location":"requirements/line-ui/#_16","text":"BOT: \u30b7\u30b9\u30c6\u30e0\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002 \u3057\u3070\u3089\u304f\u7d4c\u3063\u3066\u304b\u3089\u518d\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002 \u30a8\u30e9\u30fc\u30b3\u30fc\u30c9: ERR-001","title":"\u30b7\u30b9\u30c6\u30e0\u30a8\u30e9\u30fc"},{"location":"requirements/line-ui/#_17","text":"BOT: \u3053\u306e\u64cd\u4f5c\u3092\u884c\u3046\u6a29\u9650\u304c\u3042\u308a\u307e\u305b\u3093\u3002 \u7ba1\u7406\u8005\u306b\u304a\u554f\u3044\u5408\u308f\u305b\u304f\u3060\u3055\u3044\u3002","title":"\u6a29\u9650\u30a8\u30e9\u30fc"},{"location":"requirements/line-ui/#_18","text":"","title":"\u521d\u56de\u767b\u9332\u30d5\u30ed\u30fc"},{"location":"requirements/line-ui/#_19","text":"\u5e97\u8217: LINE\u53cb\u3060\u3061\u8ffd\u52a0 BOT: \u521d\u3081\u3066\u306e\u3054\u5229\u7528\u3067\u3059\u306d\u3002 \u62c5\u5f53\u5e97\u8217\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [\u9ad8\u5cf6\u5c4b\u65b0\u5bbf\u5e97] [\u9ad8\u5cf6\u5c4b\u6a2a\u6d5c\u5e97] [\u9ad8\u5cf6\u5c4b\u5927\u962a\u5e97] ... \u5e97\u8217: [\u9ad8\u5cf6\u5c4b\u65b0\u5bbf\u5e97] \u9078\u629e BOT: \u767b\u9332\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002 \u4e0b\u306e\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u64cd\u4f5c\u3067\u304d\u307e\u3059\u3002 [\u5728\u5eab\u7167\u4f1a] [\u8ffd\u52a0\u767a\u6ce8] [\u4f9d\u983c\u72b6\u6cc1\u78ba\u8a8d] [\u30d8\u30eb\u30d7]","title":"\u5e97\u8217\u30de\u30cd\u30fc\u30b8\u30e3\u30fc"},{"location":"requirements/line-ui/#_20","text":"\u672c\u90e8: LINE\u53cb\u3060\u3061\u8ffd\u52a0 BOT: \u521d\u3081\u3066\u306e\u3054\u5229\u7528\u3067\u3059\u306d\u3002 \u62db\u5f85\u30b3\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u672c\u90e8: \u300cBUYER-ABC123\u300d\u3068\u5165\u529b BOT: \u62db\u5f85\u30b3\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002 \u672c\u90e8\u30d0\u30a4\u30e4\u30fc\u3068\u3057\u3066\u767b\u9332\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002 [\u627f\u8a8d\u5f85\u3061\u4e00\u89a7] [\u5168\u4f9d\u983c\u78ba\u8a8d] [\u7ba1\u7406\u753b\u9762\u3078] [\u30d8\u30eb\u30d7]","title":"\u672c\u90e8\u30d0\u30a4\u30e4\u30fc\uff08\u62db\u5f85\u30b3\u30fc\u30c9\uff09"},{"location":"requirements/line-ui/#_21","text":"","title":"\u901a\u77e5\u30bf\u30a4\u30df\u30f3\u30b0"},{"location":"requirements/line-ui/#_22","text":"\u767a\u6ce8\u4f9d\u983c\u53d7\u4ed8\u5b8c\u4e86 \u672c\u90e8\u627f\u8a8d\u5b8c\u4e86 \u4e00\u90e8\u627f\u8a8d\u5b8c\u4e86\uff08\u4fdd\u7559\u5206\u306e\u8aac\u660e\u542b\u3080\uff09 \u5dee\u623b\u3057 \u51fa\u8377\u5b8c\u4e86 \u4eee\u5f15\u5f53\u671f\u9650\u5207\u308c\u8b66\u544a","title":"\u5e97\u8217\u3078\u306e\u901a\u77e5"},{"location":"requirements/line-ui/#_23","text":"\u65b0\u898f\u767a\u6ce8\u4f9d\u983c \u5e97\u8217\u304c\u4fee\u6b63\u518d\u63d0\u51fa","title":"\u672c\u90e8\u3078\u306e\u901a\u77e5"},{"location":"requirements/line-ui/#_24","text":"Excel\u540c\u671f\u30a8\u30e9\u30fc \u5728\u5eab\u5f15\u5f53\u5931\u6557 \u30b7\u30b9\u30c6\u30e0\u30a8\u30e9\u30fc","title":"\u7ba1\u7406\u8005\u3078\u306e\u901a\u77e5"},{"location":"requirements/non-functional/","text":"\u975e\u6a5f\u80fd\u8981\u4ef6 \u00b6 \u76e3\u67fb\u30ed\u30b0 \u00b6 \u627f\u8a8d\u30fb\u5dee\u623b\u30fb\u53d6\u6d88\u306e\u8a18\u9332 \u00b6 requests \u30c6\u30fc\u30d6\u30eb\u3067\u7ba1\u7406\uff1a -- \u8ab0\u304c\u627f\u8a8d\u3057\u305f\u304b approved_by_line_user_id -- LINE\u7d4c\u7531 approved_by_admin_id -- \u7ba1\u7406\u753b\u9762\u7d4c\u7531 approved_at -- \u627f\u8a8d\u65e5\u6642 -- \u5dee\u623b\u3057\u7406\u7531 rejected_reason -- \u5dee\u623b\u3057\u7406\u7531 \u5728\u5eab\u540c\u671f\u5c65\u6b74 \u00b6 inventory_sync_log \u30c6\u30fc\u30d6\u30eb\u3067\u7ba1\u7406\uff1a \u540c\u671f\u5b9f\u884c\u6642\u523b \u30d5\u30a1\u30a4\u30eb\u66f4\u65b0\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7 \u53d6\u308a\u8fbc\u3093\u3060\u884c\u6570 \u6210\u529f/\u5931\u6557\u30b9\u30c6\u30fc\u30bf\u30b9 \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8 \u7d0d\u54c1\u66f8\u751f\u6210\u5c65\u6b74 \u00b6 documents \u30c6\u30fc\u30d6\u30eb\u3067\u7ba1\u7406\uff1a \u751f\u6210\u65e5\u6642 \u30d0\u30fc\u30b8\u30e7\u30f3 \u751f\u6210\u8005 \u30b9\u30c8\u30ec\u30fc\u30b8\u30d1\u30b9 \u30a8\u30e9\u30fc\u901a\u77e5 \u00b6 \u901a\u77e5\u5148 \u00b6 \u7ba1\u7406\u8005LINE\u30b0\u30eb\u30fc\u30d7 \u901a\u77e5\u5bfe\u8c61 \u00b6 Excel\u540c\u671f\u5931\u6557 \u30d5\u30a1\u30a4\u30eb\u8aad\u307f\u8fbc\u307f\u30a8\u30e9\u30fc \u5546\u54c1\u540d\u7167\u5408\u30a8\u30e9\u30fc \u30c7\u30fc\u30bf\u5f62\u5f0f\u30a8\u30e9\u30fc PDF\u751f\u6210\u5931\u6557 \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u8aad\u307f\u8fbc\u307f\u30a8\u30e9\u30fc \u30c7\u30fc\u30bf\u4e0d\u8db3\u30a8\u30e9\u30fc \u30b9\u30c8\u30ec\u30fc\u30b8\u4fdd\u5b58\u30a8\u30e9\u30fc \u5728\u5eab\u5f15\u5f53\u5931\u6557 \u5728\u5eab\u4e0d\u8db3\u30a8\u30e9\u30fc \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc \u8a18\u9332\u65b9\u6cd5 \u00b6 requests.error_message \u3068 error_at \u3067\u8a18\u9332\uff1a UPDATE requests SET error_message = '\u5728\u5eab\u5f15\u5f53\u5931\u6557: \u5728\u5eab\u4e0d\u8db3' , error_at = now () WHERE id = 'abc123...' ; \u30d0\u30c3\u30af\u30a2\u30c3\u30d7 \u00b6 Supabase\u6a19\u6e96\u30d0\u30c3\u30af\u30a2\u30c3\u30d7 \u00b6 \u81ea\u52d5\u30d0\u30c3\u30af\u30a2\u30c3\u30d7: \u65e5\u6b21 \u4fdd\u6301\u671f\u9593: 7\u65e5\u9593\uff08Pro\u30d7\u30e9\u30f3\uff09 \u30dd\u30a4\u30f3\u30c8\u30a4\u30f3\u30bf\u30a4\u30e0\u30ea\u30ab\u30d0\u30ea: \u5bfe\u5fdc \u5b9a\u671fexport\uff08\u8981\u691c\u8a0e\uff09 \u00b6 CSV/JSON\u30a8\u30af\u30b9\u30dd\u30fc\u30c8 S3\u306a\u3069\u306e\u5916\u90e8\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58 \u983b\u5ea6: \u9031\u6b21 \u540c\u6642\u30a2\u30af\u30bb\u30b9 \u00b6 \u8981\u4ef6 \u00b6 \u7e41\u5fd9\u671f\u3067\u3082LINE\u554f\u3044\u5408\u308f\u305b\u304c\u8a70\u307e\u3089\u306a\u3044 API\u306f\u8efd\u91cf\u306b\u8a2d\u8a08 \u5bfe\u7b56 \u00b6 \u5728\u5eab\u7167\u4f1a\u306e\u9ad8\u901f\u5316 \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u6700\u9069\u5316 \u30ad\u30e3\u30c3\u30b7\u30e5\u6d3b\u7528\uff08Redis\u691c\u8a0e\uff09 \u540c\u4e00\u5728\u5eab\u3078\u306e\u540c\u6642\u5f15\u5f53 \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u5236\u5fa1 \u6392\u4ed6\u30ed\u30c3\u30af # \u5728\u5eab\u5f15\u5f53\u6642\u306e\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u4f8b @transaction . atomic def allocate_inventory ( request_id , inventory_id , qty ): # \u6392\u4ed6\u30ed\u30c3\u30af inventory = Inventory . objects . select_for_update () . get ( id = inventory_id ) if inventory . qty_cases < qty : raise InsufficientInventoryError () # \u5728\u5eab\u6e1b\u7b97 inventory . qty_cases -= qty inventory . save () # allocation \u4f5c\u6210 Allocation . objects . create ( request_id = request_id , inventory_id = inventory_id , qty_allocated = qty , type = 'hold' , status = 'active' , expires_at = now () + timedelta ( hours = 24 ) ) \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9 \u00b6 \u76ee\u6a19 \u00b6 \u64cd\u4f5c \u76ee\u6a19\u30ec\u30b9\u30dd\u30f3\u30b9\u6642\u9593 \u5728\u5eab\u7167\u4f1a 3\u79d2\u4ee5\u5185 \u8ffd\u52a0\u767a\u6ce8\uff08\u53d7\u4ed8\uff09 5\u79d2\u4ee5\u5185 \u627f\u8a8d\u51e6\u7406 5\u79d2\u4ee5\u5185 \u7d0d\u54c1\u66f8PDF\u751f\u6210 10\u79d2\u4ee5\u5185 \u6700\u9069\u5316\u65bd\u7b56 \u00b6 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9 \u9069\u5207\u306a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u4f5c\u6210 N+1\u30af\u30a8\u30ea\u306e\u56de\u907f \u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u30d7\u30fc\u30ea\u30f3\u30b0 API \u975e\u540c\u671f\u51e6\u7406\uff08FastAPI \u306e async/await\uff09 \u30b8\u30e7\u30d6\u30ad\u30e5\u30fc\uff08\u7d0d\u54c1\u66f8PDF\u751f\u6210\u306a\u3069\uff09 \u30b9\u30c8\u30ec\u30fc\u30b8 CDN\u5c0e\u5165\uff08Phase2\uff09 \u7f72\u540d\u4ed8\u304dURL \u306e\u30ad\u30e3\u30c3\u30b7\u30e5 \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3 \u00b6 \u8a8d\u8a3c \u00b6 LINE : LINE User ID \u30d9\u30fc\u30b9 \u7ba1\u7406\u753b\u9762 : Supabase Auth\uff08Email + Password\uff09 \u8a8d\u53ef \u00b6 RLS : Supabase \u306e Row Level Security \u3067\u5236\u5fa1 \u5e97\u8217 : \u81ea\u5e97\u8217\u306e\u30c7\u30fc\u30bf\u306e\u307f\u30a2\u30af\u30bb\u30b9\u53ef \u672c\u90e8/\u7ba1\u7406\u8005 : \u5168\u30c7\u30fc\u30bf\u30a2\u30af\u30bb\u30b9\u53ef \u30c7\u30fc\u30bf\u6697\u53f7\u5316 \u00b6 \u901a\u4fe1 : HTTPS\uff08TLS 1.2\u4ee5\u4e0a\uff09 \u4fdd\u5b58 : Supabase \u306e\u6a19\u6e96\u6697\u53f7\u5316\uff08AES-256\uff09 \u8106\u5f31\u6027\u5bfe\u7b56 \u00b6 SQL\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3 : ORM/\u30d1\u30e9\u30e1\u30fc\u30bf\u5316\u30af\u30a8\u30ea\u4f7f\u7528 XSS : \u7ba1\u7406\u753b\u9762\u3067\u306f\u5165\u529b\u30b5\u30cb\u30bf\u30a4\u30ba CSRF : \u30c8\u30fc\u30af\u30f3\u691c\u8a3c \u53ef\u7528\u6027 \u00b6 \u76ee\u6a19 \u00b6 \u7a3c\u50cd\u7387 : 99.9%\uff08\u6708\u9593\u30c0\u30a6\u30f3\u30bf\u30a4\u30e0: \u7d0443\u5206\uff09 \u30b5\u30fc\u30d3\u30b9\u6642\u9593 : 24\u6642\u9593365\u65e5 Supabase \u306eSLA \u00b6 \u7a3c\u50cd\u7387\u4fdd\u8a3c: 99.9%\uff08Pro\u30d7\u30e9\u30f3\uff09 \u969c\u5bb3\u6642\u306e\u81ea\u52d5\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc \u76e3\u8996 \u00b6 \u6b7b\u6d3b\u76e3\u8996 : UptimeRobot \u306a\u3069 \u30a8\u30e9\u30fc\u76e3\u8996 : Sentry \u306a\u3069\uff08Phase2\uff09 \u30a2\u30e9\u30fc\u30c8 : \u7ba1\u7406\u8005LINE\u30b0\u30eb\u30fc\u30d7\u306b\u901a\u77e5 \u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3 \u00b6 Phase1\uff08MVP\uff09 \u00b6 \u540c\u6642\u63a5\u7d9a: 100\u30e6\u30fc\u30b6\u30fc\u7a0b\u5ea6 \u30ea\u30af\u30a8\u30b9\u30c8: 1000req/day \u7a0b\u5ea6 Phase2\uff08\u62e1\u5f35\uff09 \u00b6 \u540c\u6642\u63a5\u7d9a: 500\u30e6\u30fc\u30b6\u30fc \u30ea\u30af\u30a8\u30b9\u30c8: 10000req/day \u30b9\u30b1\u30fc\u30eb\u30a2\u30c3\u30d7\u65bd\u7b56 \u00b6 DB : Supabase \u306e\u30d7\u30e9\u30f3\u5909\u66f4\uff08Pro\u30d7\u30e9\u30f3\u4ee5\u4e0a\uff09 Backend : \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u6570\u5897\u52a0\uff08\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\uff09 \u30b9\u30c8\u30ec\u30fc\u30b8 : CDN\u5c0e\u5165 \u4fdd\u5b88\u6027 \u00b6 \u30ed\u30b0 \u00b6 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30ed\u30b0 : \u6a19\u6e96\u51fa\u529b\uff08Cloud Run\u7b49\u3067\u81ea\u52d5\u53ce\u96c6\uff09 \u76e3\u67fb\u30ed\u30b0 : \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u8a18\u9332 \u30a8\u30e9\u30fc\u30ed\u30b0 : requests.error_message \u7b49 \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u00b6 \u8981\u4ef6\u5b9a\u7fa9\u66f8 : \u672c\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 API\u4ed5\u69d8\u66f8 : OpenAPI/Swagger\uff08Phase2\uff09 \u904b\u7528\u624b\u9806\u66f8 : Phase2\u3067\u4f5c\u6210 \u30b3\u30fc\u30c9\u54c1\u8cea \u00b6 \u578b\u30c1\u30a7\u30c3\u30af : mypy\uff08Python\uff09 \u30ea\u30f3\u30bf\u30fc : ruff\uff08Python\uff09 \u30d5\u30a9\u30fc\u30de\u30c3\u30bf\u30fc : black\uff08Python\uff09 \u30c6\u30b9\u30c8 : pytest\uff08Phase2\u3067\u672c\u683c\u5c0e\u5165\uff09","title":"10. \u975e\u6a5f\u80fd\u8981\u4ef6"},{"location":"requirements/non-functional/#_1","text":"","title":"\u975e\u6a5f\u80fd\u8981\u4ef6"},{"location":"requirements/non-functional/#_2","text":"","title":"\u76e3\u67fb\u30ed\u30b0"},{"location":"requirements/non-functional/#_3","text":"requests \u30c6\u30fc\u30d6\u30eb\u3067\u7ba1\u7406\uff1a -- \u8ab0\u304c\u627f\u8a8d\u3057\u305f\u304b approved_by_line_user_id -- LINE\u7d4c\u7531 approved_by_admin_id -- \u7ba1\u7406\u753b\u9762\u7d4c\u7531 approved_at -- \u627f\u8a8d\u65e5\u6642 -- \u5dee\u623b\u3057\u7406\u7531 rejected_reason -- \u5dee\u623b\u3057\u7406\u7531","title":"\u627f\u8a8d\u30fb\u5dee\u623b\u30fb\u53d6\u6d88\u306e\u8a18\u9332"},{"location":"requirements/non-functional/#_4","text":"inventory_sync_log \u30c6\u30fc\u30d6\u30eb\u3067\u7ba1\u7406\uff1a \u540c\u671f\u5b9f\u884c\u6642\u523b \u30d5\u30a1\u30a4\u30eb\u66f4\u65b0\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7 \u53d6\u308a\u8fbc\u3093\u3060\u884c\u6570 \u6210\u529f/\u5931\u6557\u30b9\u30c6\u30fc\u30bf\u30b9 \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8","title":"\u5728\u5eab\u540c\u671f\u5c65\u6b74"},{"location":"requirements/non-functional/#_5","text":"documents \u30c6\u30fc\u30d6\u30eb\u3067\u7ba1\u7406\uff1a \u751f\u6210\u65e5\u6642 \u30d0\u30fc\u30b8\u30e7\u30f3 \u751f\u6210\u8005 \u30b9\u30c8\u30ec\u30fc\u30b8\u30d1\u30b9","title":"\u7d0d\u54c1\u66f8\u751f\u6210\u5c65\u6b74"},{"location":"requirements/non-functional/#_6","text":"","title":"\u30a8\u30e9\u30fc\u901a\u77e5"},{"location":"requirements/non-functional/#_7","text":"\u7ba1\u7406\u8005LINE\u30b0\u30eb\u30fc\u30d7","title":"\u901a\u77e5\u5148"},{"location":"requirements/non-functional/#_8","text":"Excel\u540c\u671f\u5931\u6557 \u30d5\u30a1\u30a4\u30eb\u8aad\u307f\u8fbc\u307f\u30a8\u30e9\u30fc \u5546\u54c1\u540d\u7167\u5408\u30a8\u30e9\u30fc \u30c7\u30fc\u30bf\u5f62\u5f0f\u30a8\u30e9\u30fc PDF\u751f\u6210\u5931\u6557 \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u8aad\u307f\u8fbc\u307f\u30a8\u30e9\u30fc \u30c7\u30fc\u30bf\u4e0d\u8db3\u30a8\u30e9\u30fc \u30b9\u30c8\u30ec\u30fc\u30b8\u4fdd\u5b58\u30a8\u30e9\u30fc \u5728\u5eab\u5f15\u5f53\u5931\u6557 \u5728\u5eab\u4e0d\u8db3\u30a8\u30e9\u30fc \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc","title":"\u901a\u77e5\u5bfe\u8c61"},{"location":"requirements/non-functional/#_9","text":"requests.error_message \u3068 error_at \u3067\u8a18\u9332\uff1a UPDATE requests SET error_message = '\u5728\u5eab\u5f15\u5f53\u5931\u6557: \u5728\u5eab\u4e0d\u8db3' , error_at = now () WHERE id = 'abc123...' ;","title":"\u8a18\u9332\u65b9\u6cd5"},{"location":"requirements/non-functional/#_10","text":"","title":"\u30d0\u30c3\u30af\u30a2\u30c3\u30d7"},{"location":"requirements/non-functional/#supabase","text":"\u81ea\u52d5\u30d0\u30c3\u30af\u30a2\u30c3\u30d7: \u65e5\u6b21 \u4fdd\u6301\u671f\u9593: 7\u65e5\u9593\uff08Pro\u30d7\u30e9\u30f3\uff09 \u30dd\u30a4\u30f3\u30c8\u30a4\u30f3\u30bf\u30a4\u30e0\u30ea\u30ab\u30d0\u30ea: \u5bfe\u5fdc","title":"Supabase\u6a19\u6e96\u30d0\u30c3\u30af\u30a2\u30c3\u30d7"},{"location":"requirements/non-functional/#export","text":"CSV/JSON\u30a8\u30af\u30b9\u30dd\u30fc\u30c8 S3\u306a\u3069\u306e\u5916\u90e8\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58 \u983b\u5ea6: \u9031\u6b21","title":"\u5b9a\u671fexport\uff08\u8981\u691c\u8a0e\uff09"},{"location":"requirements/non-functional/#_11","text":"","title":"\u540c\u6642\u30a2\u30af\u30bb\u30b9"},{"location":"requirements/non-functional/#_12","text":"\u7e41\u5fd9\u671f\u3067\u3082LINE\u554f\u3044\u5408\u308f\u305b\u304c\u8a70\u307e\u3089\u306a\u3044 API\u306f\u8efd\u91cf\u306b\u8a2d\u8a08","title":"\u8981\u4ef6"},{"location":"requirements/non-functional/#_13","text":"\u5728\u5eab\u7167\u4f1a\u306e\u9ad8\u901f\u5316 \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u6700\u9069\u5316 \u30ad\u30e3\u30c3\u30b7\u30e5\u6d3b\u7528\uff08Redis\u691c\u8a0e\uff09 \u540c\u4e00\u5728\u5eab\u3078\u306e\u540c\u6642\u5f15\u5f53 \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u5236\u5fa1 \u6392\u4ed6\u30ed\u30c3\u30af # \u5728\u5eab\u5f15\u5f53\u6642\u306e\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u4f8b @transaction . atomic def allocate_inventory ( request_id , inventory_id , qty ): # \u6392\u4ed6\u30ed\u30c3\u30af inventory = Inventory . objects . select_for_update () . get ( id = inventory_id ) if inventory . qty_cases < qty : raise InsufficientInventoryError () # \u5728\u5eab\u6e1b\u7b97 inventory . qty_cases -= qty inventory . save () # allocation \u4f5c\u6210 Allocation . objects . create ( request_id = request_id , inventory_id = inventory_id , qty_allocated = qty , type = 'hold' , status = 'active' , expires_at = now () + timedelta ( hours = 24 ) )","title":"\u5bfe\u7b56"},{"location":"requirements/non-functional/#_14","text":"","title":"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9"},{"location":"requirements/non-functional/#_15","text":"\u64cd\u4f5c \u76ee\u6a19\u30ec\u30b9\u30dd\u30f3\u30b9\u6642\u9593 \u5728\u5eab\u7167\u4f1a 3\u79d2\u4ee5\u5185 \u8ffd\u52a0\u767a\u6ce8\uff08\u53d7\u4ed8\uff09 5\u79d2\u4ee5\u5185 \u627f\u8a8d\u51e6\u7406 5\u79d2\u4ee5\u5185 \u7d0d\u54c1\u66f8PDF\u751f\u6210 10\u79d2\u4ee5\u5185","title":"\u76ee\u6a19"},{"location":"requirements/non-functional/#_16","text":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9 \u9069\u5207\u306a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u4f5c\u6210 N+1\u30af\u30a8\u30ea\u306e\u56de\u907f \u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u30d7\u30fc\u30ea\u30f3\u30b0 API \u975e\u540c\u671f\u51e6\u7406\uff08FastAPI \u306e async/await\uff09 \u30b8\u30e7\u30d6\u30ad\u30e5\u30fc\uff08\u7d0d\u54c1\u66f8PDF\u751f\u6210\u306a\u3069\uff09 \u30b9\u30c8\u30ec\u30fc\u30b8 CDN\u5c0e\u5165\uff08Phase2\uff09 \u7f72\u540d\u4ed8\u304dURL \u306e\u30ad\u30e3\u30c3\u30b7\u30e5","title":"\u6700\u9069\u5316\u65bd\u7b56"},{"location":"requirements/non-functional/#_17","text":"","title":"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3"},{"location":"requirements/non-functional/#_18","text":"LINE : LINE User ID \u30d9\u30fc\u30b9 \u7ba1\u7406\u753b\u9762 : Supabase Auth\uff08Email + Password\uff09","title":"\u8a8d\u8a3c"},{"location":"requirements/non-functional/#_19","text":"RLS : Supabase \u306e Row Level Security \u3067\u5236\u5fa1 \u5e97\u8217 : \u81ea\u5e97\u8217\u306e\u30c7\u30fc\u30bf\u306e\u307f\u30a2\u30af\u30bb\u30b9\u53ef \u672c\u90e8/\u7ba1\u7406\u8005 : \u5168\u30c7\u30fc\u30bf\u30a2\u30af\u30bb\u30b9\u53ef","title":"\u8a8d\u53ef"},{"location":"requirements/non-functional/#_20","text":"\u901a\u4fe1 : HTTPS\uff08TLS 1.2\u4ee5\u4e0a\uff09 \u4fdd\u5b58 : Supabase \u306e\u6a19\u6e96\u6697\u53f7\u5316\uff08AES-256\uff09","title":"\u30c7\u30fc\u30bf\u6697\u53f7\u5316"},{"location":"requirements/non-functional/#_21","text":"SQL\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3 : ORM/\u30d1\u30e9\u30e1\u30fc\u30bf\u5316\u30af\u30a8\u30ea\u4f7f\u7528 XSS : \u7ba1\u7406\u753b\u9762\u3067\u306f\u5165\u529b\u30b5\u30cb\u30bf\u30a4\u30ba CSRF : \u30c8\u30fc\u30af\u30f3\u691c\u8a3c","title":"\u8106\u5f31\u6027\u5bfe\u7b56"},{"location":"requirements/non-functional/#_22","text":"","title":"\u53ef\u7528\u6027"},{"location":"requirements/non-functional/#_23","text":"\u7a3c\u50cd\u7387 : 99.9%\uff08\u6708\u9593\u30c0\u30a6\u30f3\u30bf\u30a4\u30e0: \u7d0443\u5206\uff09 \u30b5\u30fc\u30d3\u30b9\u6642\u9593 : 24\u6642\u9593365\u65e5","title":"\u76ee\u6a19"},{"location":"requirements/non-functional/#supabase-sla","text":"\u7a3c\u50cd\u7387\u4fdd\u8a3c: 99.9%\uff08Pro\u30d7\u30e9\u30f3\uff09 \u969c\u5bb3\u6642\u306e\u81ea\u52d5\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u30fc","title":"Supabase \u306eSLA"},{"location":"requirements/non-functional/#_24","text":"\u6b7b\u6d3b\u76e3\u8996 : UptimeRobot \u306a\u3069 \u30a8\u30e9\u30fc\u76e3\u8996 : Sentry \u306a\u3069\uff08Phase2\uff09 \u30a2\u30e9\u30fc\u30c8 : \u7ba1\u7406\u8005LINE\u30b0\u30eb\u30fc\u30d7\u306b\u901a\u77e5","title":"\u76e3\u8996"},{"location":"requirements/non-functional/#_25","text":"","title":"\u30b9\u30b1\u30fc\u30e9\u30d3\u30ea\u30c6\u30a3"},{"location":"requirements/non-functional/#phase1mvp","text":"\u540c\u6642\u63a5\u7d9a: 100\u30e6\u30fc\u30b6\u30fc\u7a0b\u5ea6 \u30ea\u30af\u30a8\u30b9\u30c8: 1000req/day \u7a0b\u5ea6","title":"Phase1\uff08MVP\uff09"},{"location":"requirements/non-functional/#phase2","text":"\u540c\u6642\u63a5\u7d9a: 500\u30e6\u30fc\u30b6\u30fc \u30ea\u30af\u30a8\u30b9\u30c8: 10000req/day","title":"Phase2\uff08\u62e1\u5f35\uff09"},{"location":"requirements/non-functional/#_26","text":"DB : Supabase \u306e\u30d7\u30e9\u30f3\u5909\u66f4\uff08Pro\u30d7\u30e9\u30f3\u4ee5\u4e0a\uff09 Backend : \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u6570\u5897\u52a0\uff08\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\uff09 \u30b9\u30c8\u30ec\u30fc\u30b8 : CDN\u5c0e\u5165","title":"\u30b9\u30b1\u30fc\u30eb\u30a2\u30c3\u30d7\u65bd\u7b56"},{"location":"requirements/non-functional/#_27","text":"","title":"\u4fdd\u5b88\u6027"},{"location":"requirements/non-functional/#_28","text":"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30ed\u30b0 : \u6a19\u6e96\u51fa\u529b\uff08Cloud Run\u7b49\u3067\u81ea\u52d5\u53ce\u96c6\uff09 \u76e3\u67fb\u30ed\u30b0 : \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u8a18\u9332 \u30a8\u30e9\u30fc\u30ed\u30b0 : requests.error_message \u7b49","title":"\u30ed\u30b0"},{"location":"requirements/non-functional/#_29","text":"\u8981\u4ef6\u5b9a\u7fa9\u66f8 : \u672c\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 API\u4ed5\u69d8\u66f8 : OpenAPI/Swagger\uff08Phase2\uff09 \u904b\u7528\u624b\u9806\u66f8 : Phase2\u3067\u4f5c\u6210","title":"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"},{"location":"requirements/non-functional/#_30","text":"\u578b\u30c1\u30a7\u30c3\u30af : mypy\uff08Python\uff09 \u30ea\u30f3\u30bf\u30fc : ruff\uff08Python\uff09 \u30d5\u30a9\u30fc\u30de\u30c3\u30bf\u30fc : black\uff08Python\uff09 \u30c6\u30b9\u30c8 : pytest\uff08Phase2\u3067\u672c\u683c\u5c0e\u5165\uff09","title":"\u30b3\u30fc\u30c9\u54c1\u8cea"},{"location":"requirements/overview/","text":"\u6982\u8981 \u00b6 \u76ee\u7684 \u00b6 \u7e41\u5fd9\u671f\u306b\u304a\u3051\u308b\u9ad8\u5cf6\u5c4b15\u5e97\u8217\u304b\u3089\u306e\u7a81\u767a\u7684\u306a\u8ffd\u52a0\u767a\u6ce8\u5bfe\u5fdc\u3092\u52b9\u7387\u5316\u3057\u3001\u4ee5\u4e0b\u3092\u5b9f\u73fe\u3059\u308b\u3002 \u5e97\u8217\u304cLINE\u3067\u5373\u6642\u306b\u5728\u5eab\u53ef\u5426\u3092\u78ba\u8a8d\u3067\u304d\u308b\uff08\u7d0d\u54c1\u65e5\u306f\u5225\u9014\u9023\u7d61\uff09 \u672c\u90e8\u30fb\u8cb4\u793e\u30fb\u52a0\u5de5\u4f1a\u793e\u9593\u306e\u4f1d\u8a00\u30b2\u30fc\u30e0\u3092\u524a\u6e1b\u3059\u308b \u5728\u5eab\u306e\u78ba\u5ea6\uff08confirmed/provisional\uff09\u3092\u7ba1\u7406\u3057\u4e8b\u6545\u3092\u9632\u3050 \u51fa\u8377\u4f9d\u983c\u30fb\u7d0d\u54c1\u66f8\u751f\u6210\u3092\u81ea\u52d5\u5316\u3059\u308b \u4e00\u90e8\u627f\u8a8d\u6642\u306f\u81ea\u52d5\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u5206\u5272\u3057\u3001\u5728\u5eab\u5f85\u3061\u3092\u7ba1\u7406\u3059\u308b Phase1\u65b9\u91dd \u00b6 \u7cbe\u5ea6\u3088\u308a\u904b\u7528\u306e\u56de\u308a\u3084\u3059\u3055\u3092\u512a\u5148\uff08\u66ab\u5b9a\u904b\u7528OK\uff09 \u307e\u305a\u52d5\u304b\u3059\u3053\u3068\u3092\u6700\u512a\u5148 \u904b\u7528\u3057\u306a\u304c\u3089\u6539\u5584\u3057\u3066\u3044\u304f \u7d30\u304b\u3044\u7cbe\u5ea6\u306fPhase2\u4ee5\u964d\u3067\u5411\u4e0a \u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831 \u00b6 \u73fe\u5728\u306e\u30d0\u30fc\u30b8\u30e7\u30f3 : v1.0 \u66f4\u65b0\u65e5 : 2026-02-15 \u30b9\u30c6\u30fc\u30bf\u30b9 : Phase1\u5b9f\u88c5\u524d\uff08\u8981\u4ef6\u78ba\u5b9a\u7248\uff09 \u5909\u66f4\u5c65\u6b74 \u00b6 v1.0\uff082026-02-15\uff09 \u00b6 LINE\u8a8d\u8a3c\u3068\u30e6\u30fc\u30b6\u30fc\u7ba1\u7406\u306e\u8a73\u7d30\u5316 allocations/requests\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u7ba1\u7406\u5f37\u5316 \u4e00\u90e8\u627f\u8a8d\uff08\u81ea\u52d5\u5206\u5272\uff09\u6a5f\u80fd\u8ffd\u52a0 \u6e29\u5ea6\u5e2f\u7ba1\u7406\u524a\u9664 \u7d0d\u54c1\u65e5\u81ea\u52d5\u8a08\u7b97\u524a\u9664\uff08\u5728\u5eab\u7167\u4f1a\u306e\u307f\u306b\u7279\u5316\uff09 Excel\u540c\u671f\u65b9\u5f0f\u660e\u78ba\u5316\uff08Supabase Storage\u7d4c\u7531\uff09 v0.2 \u00b6 \u521d\u7248\uff08\u66ab\u5b9a\uff09","title":"1. \u6982\u8981"},{"location":"requirements/overview/#_1","text":"","title":"\u6982\u8981"},{"location":"requirements/overview/#_2","text":"\u7e41\u5fd9\u671f\u306b\u304a\u3051\u308b\u9ad8\u5cf6\u5c4b15\u5e97\u8217\u304b\u3089\u306e\u7a81\u767a\u7684\u306a\u8ffd\u52a0\u767a\u6ce8\u5bfe\u5fdc\u3092\u52b9\u7387\u5316\u3057\u3001\u4ee5\u4e0b\u3092\u5b9f\u73fe\u3059\u308b\u3002 \u5e97\u8217\u304cLINE\u3067\u5373\u6642\u306b\u5728\u5eab\u53ef\u5426\u3092\u78ba\u8a8d\u3067\u304d\u308b\uff08\u7d0d\u54c1\u65e5\u306f\u5225\u9014\u9023\u7d61\uff09 \u672c\u90e8\u30fb\u8cb4\u793e\u30fb\u52a0\u5de5\u4f1a\u793e\u9593\u306e\u4f1d\u8a00\u30b2\u30fc\u30e0\u3092\u524a\u6e1b\u3059\u308b \u5728\u5eab\u306e\u78ba\u5ea6\uff08confirmed/provisional\uff09\u3092\u7ba1\u7406\u3057\u4e8b\u6545\u3092\u9632\u3050 \u51fa\u8377\u4f9d\u983c\u30fb\u7d0d\u54c1\u66f8\u751f\u6210\u3092\u81ea\u52d5\u5316\u3059\u308b \u4e00\u90e8\u627f\u8a8d\u6642\u306f\u81ea\u52d5\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u5206\u5272\u3057\u3001\u5728\u5eab\u5f85\u3061\u3092\u7ba1\u7406\u3059\u308b","title":"\u76ee\u7684"},{"location":"requirements/overview/#phase1","text":"\u7cbe\u5ea6\u3088\u308a\u904b\u7528\u306e\u56de\u308a\u3084\u3059\u3055\u3092\u512a\u5148\uff08\u66ab\u5b9a\u904b\u7528OK\uff09 \u307e\u305a\u52d5\u304b\u3059\u3053\u3068\u3092\u6700\u512a\u5148 \u904b\u7528\u3057\u306a\u304c\u3089\u6539\u5584\u3057\u3066\u3044\u304f \u7d30\u304b\u3044\u7cbe\u5ea6\u306fPhase2\u4ee5\u964d\u3067\u5411\u4e0a","title":"Phase1\u65b9\u91dd"},{"location":"requirements/overview/#_3","text":"\u73fe\u5728\u306e\u30d0\u30fc\u30b8\u30e7\u30f3 : v1.0 \u66f4\u65b0\u65e5 : 2026-02-15 \u30b9\u30c6\u30fc\u30bf\u30b9 : Phase1\u5b9f\u88c5\u524d\uff08\u8981\u4ef6\u78ba\u5b9a\u7248\uff09","title":"\u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831"},{"location":"requirements/overview/#_4","text":"","title":"\u5909\u66f4\u5c65\u6b74"},{"location":"requirements/overview/#v102026-02-15","text":"LINE\u8a8d\u8a3c\u3068\u30e6\u30fc\u30b6\u30fc\u7ba1\u7406\u306e\u8a73\u7d30\u5316 allocations/requests\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u7ba1\u7406\u5f37\u5316 \u4e00\u90e8\u627f\u8a8d\uff08\u81ea\u52d5\u5206\u5272\uff09\u6a5f\u80fd\u8ffd\u52a0 \u6e29\u5ea6\u5e2f\u7ba1\u7406\u524a\u9664 \u7d0d\u54c1\u65e5\u81ea\u52d5\u8a08\u7b97\u524a\u9664\uff08\u5728\u5eab\u7167\u4f1a\u306e\u307f\u306b\u7279\u5316\uff09 Excel\u540c\u671f\u65b9\u5f0f\u660e\u78ba\u5316\uff08Supabase Storage\u7d4c\u7531\uff09","title":"v1.0\uff082026-02-15\uff09"},{"location":"requirements/overview/#v02","text":"\u521d\u7248\uff08\u66ab\u5b9a\uff09","title":"v0.2"},{"location":"requirements/phases/","text":"\u30d5\u30a7\u30fc\u30ba \u00b6 Phase1\uff08MVP\uff09 \u00b6 \u76ee\u6a19 \u00b6 \u904b\u7528\u306e\u56de\u308a\u3084\u3059\u3055\u3092\u6700\u512a\u5148 \u307e\u305a\u52d5\u304b\u3059 \u66ab\u5b9a\u904b\u7528OK \u7cbe\u5ea6\u306fPhase2\u4ee5\u964d\u3067\u5411\u4e0a \u5b9f\u88c5\u6a5f\u80fd \u00b6 \u2705 \u8ffd\u52a0\u767a\u6ce8\uff08LINE\uff09 \u2705 \u5728\u5eab\u7167\u4f1a\uff08\u6570\u91cf\u306e\u307f\u3001\u7d0d\u54c1\u65e5\u306f\u5225\u9014\u9023\u7d61\uff09 \u2705 \u672c\u90e8\u627f\u8a8d\uff08\u5168\u91cf/\u4e00\u90e8/\u5dee\u623b\u3057\uff09 \u2705 \u4e00\u90e8\u627f\u8a8d\u6642\u306e\u81ea\u52d5\u5206\u5272 \u2705 \u4eee\u5f15\u5f53\u7ba1\u7406\uff0824\u6642\u9593\u671f\u9650\u3001\u8b66\u544a\u306e\u307f\uff09 \u2705 \u51fa\u8377\u4f9d\u983c\u901a\u77e5 \u2705 \u7d0d\u54c1\u66f8PDF\u751f\u6210 \u2192 Supabase Storage\u4fdd\u5b58 \u2705 Excel\u624b\u52d5\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9 + \u81ea\u52d5\u540c\u671f \u2705 requests/shipments/allocations \u30b9\u30c6\u30fc\u30bf\u30b9\u7ba1\u7406 \u2705 LINE UI\uff08\u30ea\u30c3\u30c1\u30e1\u30cb\u30e5\u30fc\u3001\u30af\u30a4\u30c3\u30af\u30ea\u30d7\u30e9\u30a4\uff09 \u958b\u767a\u671f\u9593\uff08\u60f3\u5b9a\uff09 \u00b6 \u8981\u4ef6\u78ba\u5b9a : 2\u9031\u9593 \u57fa\u672c\u8a2d\u8a08 : 1\u9031\u9593 \u5b9f\u88c5 : 4\u9031\u9593 \u30c6\u30b9\u30c8 : 2\u9031\u9593 \u5408\u8a08 : \u7d042\u30f6\u6708 \u958b\u767a\u512a\u5148\u9806\u4f4d \u00b6 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08\u30fb\u69cb\u7bc9 \uff08Week 1-2\uff09 \u30c6\u30fc\u30d6\u30eb\u4f5c\u6210 \u521d\u671f\u30c7\u30fc\u30bf\u6295\u5165 RLS\u8a2d\u5b9a LINE \u30dc\u30c3\u30c8\u57fa\u672c\u6a5f\u80fd \uff08Week 3-4\uff09 \u5728\u5eab\u7167\u4f1a \u8ffd\u52a0\u767a\u6ce8 \u30e6\u30fc\u30b6\u30fc\u767b\u9332 \u672c\u90e8\u627f\u8a8d\u6a5f\u80fd \uff08Week 5\uff09 \u627f\u8a8d\u30fb\u5dee\u623b\u3057\u30fb\u4e00\u90e8\u627f\u8a8d \u5728\u5eab\u5f15\u5f53 Excel\u540c\u671f \uff08Week 6\uff09 \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u6a5f\u80fd \u81ea\u52d5\u540c\u671f\u51e6\u7406 \u7d0d\u54c1\u66f8PDF\u751f\u6210 \uff08Week 7\uff09 \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4f5c\u6210 PDF\u751f\u6210\u30ed\u30b8\u30c3\u30af \u7d71\u5408\u30c6\u30b9\u30c8\u30fb\u8abf\u6574 \uff08Week 8-9\uff09 Phase2\uff08\u7cbe\u5ea6\u5411\u4e0a\uff09 \u00b6 \u76ee\u6a19 \u00b6 Phase1\u306e\u904b\u7528\u5b9f\u7e3e\u3092\u8e0f\u307e\u3048\u3066\u7cbe\u5ea6\u3092\u5411\u4e0a \u5b9f\u88c5\u6a5f\u80fd \u00b6 \u4eee\u5f15\u5f53\u671f\u9650\u5207\u308c\u81ea\u52d5\u89e3\u9664 \u00b6 Cron \u3067\u81ea\u52d5\u7684\u306b status='expired' \u306b\u5909\u66f4 \u5728\u5eab\u3092\u81ea\u52d5\u89e3\u653e \u5546\u54c1\u540d\u7167\u5408\u30df\u30b9\u306e\u30a8\u30e9\u30fc\u7ba1\u7406\u5f37\u5316 \u00b6 \u5c02\u7528\u30a8\u30e9\u30fc\u30c6\u30fc\u30d6\u30eb\uff08 inventory_import_errors \uff09 \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3067\u30a8\u30e9\u30fc\u4e00\u89a7\u8868\u793a \u624b\u52d5\u3067\u30de\u30c3\u30d4\u30f3\u30b0\u4fee\u6b63 \u7d0d\u54c1\u4e00\u89a7 \u00b6 view + CSV export or Sheets\u9023\u643a \u65e5\u6b21/\u9031\u6b21\u3067\u81ea\u52d5\u51fa\u529b \u5e97\u8217\u5225\u30fb\u5546\u54c1\u5225\u306e\u96c6\u8a08 Excel\u81ea\u52d5\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9 \u00b6 Google\u30c9\u30e9\u30a4\u30d6\u9023\u643a Drive API \u3067\u5b9a\u671f\u7684\u306b\u30d5\u30a1\u30a4\u30eb\u53d6\u5f97 \u52a0\u5de5\u4f1a\u793e\u306e\u904b\u7528\u3092\u5909\u3048\u305a\u306b\u81ea\u52d5\u5316 \u5728\u5eab status='confirmed' \u7ba1\u7406\u306e\u672c\u683c\u904b\u7528 \u00b6 \u52a0\u5de5\u4f1a\u793e\u304c\u78ba\u5b9a\u64cd\u4f5c provisional \u2192 confirmed \u306e\u627f\u8a8d\u30d5\u30ed\u30fc \u78ba\u5b9a\u5728\u5eab\u306e\u307f\u3067\u5f15\u5f53\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09 \u958b\u767a\u671f\u9593\uff08\u60f3\u5b9a\uff09 \u00b6 \u7d041\u30f6\u6708 Phase3\uff08\u6700\u9069\u5316\uff09 \u00b6 \u76ee\u6a19 \u00b6 \u696d\u52d9\u52b9\u7387\u306e\u6700\u5927\u5316 \u5b9f\u88c5\u6a5f\u80fd \u00b6 \u30ed\u30c3\u30c8/\u8cde\u5473\u671f\u9650\u6700\u9069\u5316\uff08FIFO\uff09 \u00b6 \u8cde\u5473\u671f\u9650\u306e\u8fd1\u3044\u5728\u5eab\u304b\u3089\u81ea\u52d5\u5f15\u5f53 \u30ed\u30c3\u30c8\u756a\u53f7\u306e\u8ffd\u8de1\u5f37\u5316 \u7d0d\u54c1\u65e5\u7cbe\u5ea6\u6539\u5584 \u00b6 \u795d\u65e5\u30ab\u30ec\u30f3\u30c0\u30fc\u5bfe\u5fdc \u5e97\u8217\u53d7\u5165\u6761\u4ef6\uff08\u706b\u66dc\u65e5\u306f\u4e0d\u53ef\u306a\u3069\uff09 \u914d\u9001\u696d\u8005\u306e\u7a3c\u50cd\u65e5\u8003\u616e \u672c\u90e8\u627f\u8a8d\u306e\u6761\u4ef6\u4ed8\u304d\u81ea\u52d5\u5316 \u00b6 \u91d1\u984d/\u6570\u91cf\u95be\u5024\u3067\u81ea\u52d5\u627f\u8a8d \u8a2d\u5b9a\u53ef\u80fd\u306a\u627f\u8a8d\u30eb\u30fc\u30eb \u4f8b\u5916\u306f\u624b\u52d5\u627f\u8a8d \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u5f37\u5316 \u00b6 \u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9 \u5728\u5eab\u63a8\u79fb\u30b0\u30e9\u30d5 \u767a\u6ce8\u50be\u5411\u5206\u6790 API\u516c\u958b \u00b6 \u5916\u90e8\u30b7\u30b9\u30c6\u30e0\u3068\u306e\u9023\u643a REST API OpenAPI\u4ed5\u69d8\u66f8 \u958b\u767a\u671f\u9593\uff08\u60f3\u5b9a\uff09 \u00b6 \u7d042\u30f6\u6708 \u30ed\u30fc\u30c9\u30de\u30c3\u30d7 \u00b6 gantt title \u958b\u767a\u30ed\u30fc\u30c9\u30de\u30c3\u30d7 dateFormat YYYY-MM-DD section Phase1 \u8981\u4ef6\u78ba\u5b9a :done, p1-req, 2026-02-01, 2w \u57fa\u672c\u8a2d\u8a08 :active, p1-design, after p1-req, 1w \u5b9f\u88c5 :p1-dev, after p1-design, 4w \u30c6\u30b9\u30c8 :p1-test, after p1-dev, 2w section Phase2 \u7cbe\u5ea6\u5411\u4e0a\u958b\u767a :p2-dev, after p1-test, 4w section Phase3 \u6700\u9069\u5316\u958b\u767a :p3-dev, after p2-dev, 8w \u30d5\u30a7\u30fc\u30ba\u5224\u65ad\u57fa\u6e96 \u00b6 Phase1 \u2192 Phase2 \u3078\u306e\u79fb\u884c \u00b6 \u4ee5\u4e0b\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3057\u305f\u3089\u79fb\u884c\uff1a 2\u9031\u9593\u4ee5\u4e0a\u306e\u5b89\u5b9a\u904b\u7528\u5b9f\u7e3e \u91cd\u5927\u306a\u30d0\u30b0\u304c\u30bc\u30ed \u30e6\u30fc\u30b6\u30fc\u304b\u3089\u306e\u6539\u5584\u8981\u671b\u3092\u6574\u7406 Excel\u540c\u671f\u30a8\u30e9\u30fc\u304c\u90311\u56de\u4ee5\u4e0b Phase2 \u2192 Phase3 \u3078\u306e\u79fb\u884c \u00b6 \u4ee5\u4e0b\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3057\u305f\u3089\u79fb\u884c\uff1a Phase2\u6a5f\u80fd\u306e\u5b89\u5b9a\u904b\u7528\uff081\u30f6\u6708\u4ee5\u4e0a\uff09 \u904b\u7528\u30d5\u30ed\u30fc\u306e\u5b9a\u7740 \u672c\u90e8\u627f\u8a8d\u306e\u81ea\u52d5\u5316\u30cb\u30fc\u30ba\u304c\u660e\u78ba \u7d0d\u54c1\u65e5\u7cbe\u5ea6\u306e\u6539\u5584\u8981\u6c42\u304c\u3042\u308b Phase1 \u5b8c\u4e86\u5224\u5b9a\u57fa\u6e96 \u00b6 \u4ee5\u4e0b\u3092\u5168\u3066\u6e80\u305f\u3057\u305f\u3089Phase1\u5b8c\u4e86\uff1a \u6a5f\u80fd\u8981\u4ef6 \u00b6 \u5e97\u8217\u304cLINE\u3067\u5728\u5eab\u7167\u4f1a\u3067\u304d\u308b \u5e97\u8217\u304cLINE\u3067\u8ffd\u52a0\u767a\u6ce8\u3067\u304d\u308b \u672c\u90e8\u304cLINE\u307e\u305f\u306f\u7ba1\u7406\u753b\u9762\u3067\u627f\u8a8d\u3067\u304d\u308b \u4e00\u90e8\u627f\u8a8d\u304c\u52d5\u4f5c\u3059\u308b Excel\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u2192\u81ea\u52d5\u540c\u671f\u304c\u52d5\u4f5c\u3059\u308b \u7d0d\u54c1\u66f8PDF\u304c\u81ea\u52d5\u751f\u6210\u3055\u308c\u308b \u975e\u6a5f\u80fd\u8981\u4ef6 \u00b6 \u5728\u5eab\u7167\u4f1a\u304c3\u79d2\u4ee5\u5185\u306b\u30ec\u30b9\u30dd\u30f3\u30b9 \u91cd\u5927\u306a\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8106\u5f31\u6027\u304c\u30bc\u30ed \u30a8\u30e9\u30fc\u6642\u306b\u7ba1\u7406\u8005\u306b\u901a\u77e5\u3055\u308c\u308b \u904b\u7528\u8981\u4ef6 \u00b6 \u5e97\u8217\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u7528\u30de\u30cb\u30e5\u30a2\u30eb\u4f5c\u6210 \u672c\u90e8\u30d0\u30a4\u30e4\u30fc\u7528\u30de\u30cb\u30e5\u30a2\u30eb\u4f5c\u6210 \u7ba1\u7406\u8005\u7528\u904b\u7528\u624b\u9806\u66f8\u4f5c\u6210\uff08\u7c21\u6613\u7248\uff09 \u30ea\u30b9\u30af\u3068\u5bfe\u7b56 \u00b6 Phase1 \u306e\u30ea\u30b9\u30af \u00b6 \u30ea\u30b9\u30af \u5f71\u97ff\u5ea6 \u5bfe\u7b56 Excel\u5217\u69cb\u6210\u304c\u78ba\u5b9a\u3057\u306a\u3044 \u9ad8 \u65e9\u671f\u306b\u30d2\u30a2\u30ea\u30f3\u30b0\u5b9f\u65bd \u7d0d\u54c1\u66f8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u672a\u78ba\u5b9a \u9ad8 \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u65e9\u671f\u5165\u624b LINE API\u5236\u9650 \u4e2d \u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u78ba\u8a8d\u3001\u5236\u9650\u5185\u3067\u8a2d\u8a08 Supabase\u5bb9\u91cf\u4e0d\u8db3 \u4f4e Pro\u30d7\u30e9\u30f3\u691c\u8a0e Phase2 \u306e\u30ea\u30b9\u30af \u00b6 \u30ea\u30b9\u30af \u5f71\u97ff\u5ea6 \u5bfe\u7b56 Google\u30c9\u30e9\u30a4\u30d6\u9023\u643a\u306e\u6a29\u9650\u554f\u984c \u4e2d \u4e8b\u524d\u306b\u6a29\u9650\u8a2d\u5b9a\u78ba\u8a8d \u81ea\u52d5\u89e3\u9664\u30ed\u30b8\u30c3\u30af\u306e\u30d0\u30b0 \u9ad8 \u5341\u5206\u306a\u30c6\u30b9\u30c8\u5b9f\u65bd Phase3 \u306e\u30ea\u30b9\u30af \u00b6 \u30ea\u30b9\u30af \u5f71\u97ff\u5ea6 \u5bfe\u7b56 \u795d\u65e5\u30ab\u30ec\u30f3\u30c0\u30fc\u306e\u4fdd\u5b88 \u4f4e \u5916\u90e8API\u307e\u305f\u306f\u30e9\u30a4\u30d6\u30e9\u30ea\u6d3b\u7528 \u81ea\u52d5\u627f\u8a8d\u306e\u8aa4\u52d5\u4f5c \u9ad8 \u6bb5\u968e\u7684\u5c0e\u5165\u3001\u95be\u5024\u8abf\u6574","title":"11. \u30d5\u30a7\u30fc\u30ba"},{"location":"requirements/phases/#_1","text":"","title":"\u30d5\u30a7\u30fc\u30ba"},{"location":"requirements/phases/#phase1mvp","text":"","title":"Phase1\uff08MVP\uff09"},{"location":"requirements/phases/#_2","text":"\u904b\u7528\u306e\u56de\u308a\u3084\u3059\u3055\u3092\u6700\u512a\u5148 \u307e\u305a\u52d5\u304b\u3059 \u66ab\u5b9a\u904b\u7528OK \u7cbe\u5ea6\u306fPhase2\u4ee5\u964d\u3067\u5411\u4e0a","title":"\u76ee\u6a19"},{"location":"requirements/phases/#_3","text":"\u2705 \u8ffd\u52a0\u767a\u6ce8\uff08LINE\uff09 \u2705 \u5728\u5eab\u7167\u4f1a\uff08\u6570\u91cf\u306e\u307f\u3001\u7d0d\u54c1\u65e5\u306f\u5225\u9014\u9023\u7d61\uff09 \u2705 \u672c\u90e8\u627f\u8a8d\uff08\u5168\u91cf/\u4e00\u90e8/\u5dee\u623b\u3057\uff09 \u2705 \u4e00\u90e8\u627f\u8a8d\u6642\u306e\u81ea\u52d5\u5206\u5272 \u2705 \u4eee\u5f15\u5f53\u7ba1\u7406\uff0824\u6642\u9593\u671f\u9650\u3001\u8b66\u544a\u306e\u307f\uff09 \u2705 \u51fa\u8377\u4f9d\u983c\u901a\u77e5 \u2705 \u7d0d\u54c1\u66f8PDF\u751f\u6210 \u2192 Supabase Storage\u4fdd\u5b58 \u2705 Excel\u624b\u52d5\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9 + \u81ea\u52d5\u540c\u671f \u2705 requests/shipments/allocations \u30b9\u30c6\u30fc\u30bf\u30b9\u7ba1\u7406 \u2705 LINE UI\uff08\u30ea\u30c3\u30c1\u30e1\u30cb\u30e5\u30fc\u3001\u30af\u30a4\u30c3\u30af\u30ea\u30d7\u30e9\u30a4\uff09","title":"\u5b9f\u88c5\u6a5f\u80fd"},{"location":"requirements/phases/#_4","text":"\u8981\u4ef6\u78ba\u5b9a : 2\u9031\u9593 \u57fa\u672c\u8a2d\u8a08 : 1\u9031\u9593 \u5b9f\u88c5 : 4\u9031\u9593 \u30c6\u30b9\u30c8 : 2\u9031\u9593 \u5408\u8a08 : \u7d042\u30f6\u6708","title":"\u958b\u767a\u671f\u9593\uff08\u60f3\u5b9a\uff09"},{"location":"requirements/phases/#_5","text":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u8a08\u30fb\u69cb\u7bc9 \uff08Week 1-2\uff09 \u30c6\u30fc\u30d6\u30eb\u4f5c\u6210 \u521d\u671f\u30c7\u30fc\u30bf\u6295\u5165 RLS\u8a2d\u5b9a LINE \u30dc\u30c3\u30c8\u57fa\u672c\u6a5f\u80fd \uff08Week 3-4\uff09 \u5728\u5eab\u7167\u4f1a \u8ffd\u52a0\u767a\u6ce8 \u30e6\u30fc\u30b6\u30fc\u767b\u9332 \u672c\u90e8\u627f\u8a8d\u6a5f\u80fd \uff08Week 5\uff09 \u627f\u8a8d\u30fb\u5dee\u623b\u3057\u30fb\u4e00\u90e8\u627f\u8a8d \u5728\u5eab\u5f15\u5f53 Excel\u540c\u671f \uff08Week 6\uff09 \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u6a5f\u80fd \u81ea\u52d5\u540c\u671f\u51e6\u7406 \u7d0d\u54c1\u66f8PDF\u751f\u6210 \uff08Week 7\uff09 \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4f5c\u6210 PDF\u751f\u6210\u30ed\u30b8\u30c3\u30af \u7d71\u5408\u30c6\u30b9\u30c8\u30fb\u8abf\u6574 \uff08Week 8-9\uff09","title":"\u958b\u767a\u512a\u5148\u9806\u4f4d"},{"location":"requirements/phases/#phase2","text":"","title":"Phase2\uff08\u7cbe\u5ea6\u5411\u4e0a\uff09"},{"location":"requirements/phases/#_6","text":"Phase1\u306e\u904b\u7528\u5b9f\u7e3e\u3092\u8e0f\u307e\u3048\u3066\u7cbe\u5ea6\u3092\u5411\u4e0a","title":"\u76ee\u6a19"},{"location":"requirements/phases/#_7","text":"","title":"\u5b9f\u88c5\u6a5f\u80fd"},{"location":"requirements/phases/#_11","text":"\u7d041\u30f6\u6708","title":"\u958b\u767a\u671f\u9593\uff08\u60f3\u5b9a\uff09"},{"location":"requirements/phases/#phase3","text":"","title":"Phase3\uff08\u6700\u9069\u5316\uff09"},{"location":"requirements/phases/#_12","text":"\u696d\u52d9\u52b9\u7387\u306e\u6700\u5927\u5316","title":"\u76ee\u6a19"},{"location":"requirements/phases/#_13","text":"","title":"\u5b9f\u88c5\u6a5f\u80fd"},{"location":"requirements/phases/#_17","text":"\u7d042\u30f6\u6708","title":"\u958b\u767a\u671f\u9593\uff08\u60f3\u5b9a\uff09"},{"location":"requirements/phases/#_18","text":"gantt title \u958b\u767a\u30ed\u30fc\u30c9\u30de\u30c3\u30d7 dateFormat YYYY-MM-DD section Phase1 \u8981\u4ef6\u78ba\u5b9a :done, p1-req, 2026-02-01, 2w \u57fa\u672c\u8a2d\u8a08 :active, p1-design, after p1-req, 1w \u5b9f\u88c5 :p1-dev, after p1-design, 4w \u30c6\u30b9\u30c8 :p1-test, after p1-dev, 2w section Phase2 \u7cbe\u5ea6\u5411\u4e0a\u958b\u767a :p2-dev, after p1-test, 4w section Phase3 \u6700\u9069\u5316\u958b\u767a :p3-dev, after p2-dev, 8w","title":"\u30ed\u30fc\u30c9\u30de\u30c3\u30d7"},{"location":"requirements/phases/#_19","text":"","title":"\u30d5\u30a7\u30fc\u30ba\u5224\u65ad\u57fa\u6e96"},{"location":"requirements/phases/#phase1-phase2","text":"\u4ee5\u4e0b\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3057\u305f\u3089\u79fb\u884c\uff1a 2\u9031\u9593\u4ee5\u4e0a\u306e\u5b89\u5b9a\u904b\u7528\u5b9f\u7e3e \u91cd\u5927\u306a\u30d0\u30b0\u304c\u30bc\u30ed \u30e6\u30fc\u30b6\u30fc\u304b\u3089\u306e\u6539\u5584\u8981\u671b\u3092\u6574\u7406 Excel\u540c\u671f\u30a8\u30e9\u30fc\u304c\u90311\u56de\u4ee5\u4e0b","title":"Phase1 \u2192 Phase2 \u3078\u306e\u79fb\u884c"},{"location":"requirements/phases/#phase2-phase3","text":"\u4ee5\u4e0b\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3057\u305f\u3089\u79fb\u884c\uff1a Phase2\u6a5f\u80fd\u306e\u5b89\u5b9a\u904b\u7528\uff081\u30f6\u6708\u4ee5\u4e0a\uff09 \u904b\u7528\u30d5\u30ed\u30fc\u306e\u5b9a\u7740 \u672c\u90e8\u627f\u8a8d\u306e\u81ea\u52d5\u5316\u30cb\u30fc\u30ba\u304c\u660e\u78ba \u7d0d\u54c1\u65e5\u7cbe\u5ea6\u306e\u6539\u5584\u8981\u6c42\u304c\u3042\u308b","title":"Phase2 \u2192 Phase3 \u3078\u306e\u79fb\u884c"},{"location":"requirements/phases/#phase1","text":"\u4ee5\u4e0b\u3092\u5168\u3066\u6e80\u305f\u3057\u305f\u3089Phase1\u5b8c\u4e86\uff1a","title":"Phase1 \u5b8c\u4e86\u5224\u5b9a\u57fa\u6e96"},{"location":"requirements/phases/#_20","text":"\u5e97\u8217\u304cLINE\u3067\u5728\u5eab\u7167\u4f1a\u3067\u304d\u308b \u5e97\u8217\u304cLINE\u3067\u8ffd\u52a0\u767a\u6ce8\u3067\u304d\u308b \u672c\u90e8\u304cLINE\u307e\u305f\u306f\u7ba1\u7406\u753b\u9762\u3067\u627f\u8a8d\u3067\u304d\u308b \u4e00\u90e8\u627f\u8a8d\u304c\u52d5\u4f5c\u3059\u308b Excel\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u2192\u81ea\u52d5\u540c\u671f\u304c\u52d5\u4f5c\u3059\u308b \u7d0d\u54c1\u66f8PDF\u304c\u81ea\u52d5\u751f\u6210\u3055\u308c\u308b","title":"\u6a5f\u80fd\u8981\u4ef6"},{"location":"requirements/phases/#_21","text":"\u5728\u5eab\u7167\u4f1a\u304c3\u79d2\u4ee5\u5185\u306b\u30ec\u30b9\u30dd\u30f3\u30b9 \u91cd\u5927\u306a\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8106\u5f31\u6027\u304c\u30bc\u30ed \u30a8\u30e9\u30fc\u6642\u306b\u7ba1\u7406\u8005\u306b\u901a\u77e5\u3055\u308c\u308b","title":"\u975e\u6a5f\u80fd\u8981\u4ef6"},{"location":"requirements/phases/#_22","text":"\u5e97\u8217\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u7528\u30de\u30cb\u30e5\u30a2\u30eb\u4f5c\u6210 \u672c\u90e8\u30d0\u30a4\u30e4\u30fc\u7528\u30de\u30cb\u30e5\u30a2\u30eb\u4f5c\u6210 \u7ba1\u7406\u8005\u7528\u904b\u7528\u624b\u9806\u66f8\u4f5c\u6210\uff08\u7c21\u6613\u7248\uff09","title":"\u904b\u7528\u8981\u4ef6"},{"location":"requirements/phases/#_23","text":"","title":"\u30ea\u30b9\u30af\u3068\u5bfe\u7b56"},{"location":"requirements/phases/#phase1_1","text":"\u30ea\u30b9\u30af \u5f71\u97ff\u5ea6 \u5bfe\u7b56 Excel\u5217\u69cb\u6210\u304c\u78ba\u5b9a\u3057\u306a\u3044 \u9ad8 \u65e9\u671f\u306b\u30d2\u30a2\u30ea\u30f3\u30b0\u5b9f\u65bd \u7d0d\u54c1\u66f8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u672a\u78ba\u5b9a \u9ad8 \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u65e9\u671f\u5165\u624b LINE API\u5236\u9650 \u4e2d \u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u78ba\u8a8d\u3001\u5236\u9650\u5185\u3067\u8a2d\u8a08 Supabase\u5bb9\u91cf\u4e0d\u8db3 \u4f4e Pro\u30d7\u30e9\u30f3\u691c\u8a0e","title":"Phase1 \u306e\u30ea\u30b9\u30af"},{"location":"requirements/phases/#phase2_1","text":"\u30ea\u30b9\u30af \u5f71\u97ff\u5ea6 \u5bfe\u7b56 Google\u30c9\u30e9\u30a4\u30d6\u9023\u643a\u306e\u6a29\u9650\u554f\u984c \u4e2d \u4e8b\u524d\u306b\u6a29\u9650\u8a2d\u5b9a\u78ba\u8a8d \u81ea\u52d5\u89e3\u9664\u30ed\u30b8\u30c3\u30af\u306e\u30d0\u30b0 \u9ad8 \u5341\u5206\u306a\u30c6\u30b9\u30c8\u5b9f\u65bd","title":"Phase2 \u306e\u30ea\u30b9\u30af"},{"location":"requirements/phases/#phase3_1","text":"\u30ea\u30b9\u30af \u5f71\u97ff\u5ea6 \u5bfe\u7b56 \u795d\u65e5\u30ab\u30ec\u30f3\u30c0\u30fc\u306e\u4fdd\u5b88 \u4f4e \u5916\u90e8API\u307e\u305f\u306f\u30e9\u30a4\u30d6\u30e9\u30ea\u6d3b\u7528 \u81ea\u52d5\u627f\u8a8d\u306e\u8aa4\u52d5\u4f5c \u9ad8 \u6bb5\u968e\u7684\u5c0e\u5165\u3001\u95be\u5024\u8abf\u6574","title":"Phase3 \u306e\u30ea\u30b9\u30af"},{"location":"requirements/system/","text":"\u30b7\u30b9\u30c6\u30e0\u69cb\u6210 \u00b6 \u6280\u8853\u30b9\u30bf\u30c3\u30af \u00b6 \u30d5\u30ed\u30f3\u30c8 \u00b6 LINE Official Account \uff08Messaging API\uff09 \u30d0\u30c3\u30af\u30a8\u30f3\u30c9 \u00b6 Python \uff08FastAPI\u60f3\u5b9a\uff09 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9 \u00b6 Supabase \uff08PostgreSQL + RLS\uff09 \u8a8d\u8a3c \u00b6 LINE : LINE User ID \u30d9\u30fc\u30b9\uff08 line_users \u30c6\u30fc\u30d6\u30eb\uff09 \u7ba1\u7406\u753b\u9762 : Supabase Auth\uff08Email + Password\uff09 \u30d5\u30a1\u30a4\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8 \u00b6 Supabase Storage \u3092\u4f7f\u7528\uff1a \u7d0d\u54c1\u66f8PDF : documents bucket \u5728\u5eabExcel : inventory bucket \u30b8\u30e7\u30d6\u5b9f\u884c \u00b6 Supabase Cron\uff08\u307e\u305f\u306f\u5916\u90e8cron\uff09\u3067\u4ee5\u4e0b\u3092\u5b9f\u884c\uff1a Excel\u540c\u671f : 5\u5206\u6bce \u4eee\u5f15\u5f53\u671f\u9650\u30c1\u30a7\u30c3\u30af : 1\u6642\u9593\u6bce \u5728\u5eab\u5165\u529b\u5143 \u00b6 Phase1 : Excel\uff08\u624b\u52d5\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\uff09 Phase2 : \u81ea\u52d5\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\uff08Google\u30c9\u30e9\u30a4\u30d6\u9023\u643a\u306a\u3069\uff09 \u5e33\u7968\u751f\u6210 \u00b6 PDF\u81ea\u52d5\u751f\u6210 : reportlab or openpyxl\u60f3\u5b9a \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u56f3 \u00b6 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u5e97\u8217/\u672c\u90e8 \u2502 \u2502 (LINE) \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502 \u2193 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 FastAPI Backend \u2502 \u2502 (Python) \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502 \u2193 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 Supabase \u2502 \u2502 \u30fbPostgreSQL \u2502 \u2502 \u30fbStorage \u2502 \u2502 \u30fbAuth \u2502 \u2502 \u30fbCron \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8 \u00b6 Phase1\uff08\u60f3\u5b9a\uff09 \u00b6 Backend : Cloud Run / Railway / Render DB : Supabase\uff08\u30af\u30e9\u30a6\u30c9\uff09 \u30b9\u30c8\u30ec\u30fc\u30b8 : Supabase Storage Cron : Supabase Cron \u5c06\u6765\u306e\u62e1\u5f35 \u00b6 \u30b9\u30b1\u30fc\u30eb\u30a2\u30a6\u30c8\u5bfe\u5fdc CDN\u5c0e\u5165\uff08PDF\u914d\u4fe1\u9ad8\u901f\u5316\uff09 \u30de\u30eb\u30c1\u30ea\u30fc\u30b8\u30e7\u30f3\u5bfe\u5fdc","title":"2. \u30b7\u30b9\u30c6\u30e0\u69cb\u6210"},{"location":"requirements/system/#_1","text":"","title":"\u30b7\u30b9\u30c6\u30e0\u69cb\u6210"},{"location":"requirements/system/#_2","text":"","title":"\u6280\u8853\u30b9\u30bf\u30c3\u30af"},{"location":"requirements/system/#_3","text":"LINE Official Account \uff08Messaging API\uff09","title":"\u30d5\u30ed\u30f3\u30c8"},{"location":"requirements/system/#_4","text":"Python \uff08FastAPI\u60f3\u5b9a\uff09","title":"\u30d0\u30c3\u30af\u30a8\u30f3\u30c9"},{"location":"requirements/system/#_5","text":"Supabase \uff08PostgreSQL + RLS\uff09","title":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9"},{"location":"requirements/system/#_6","text":"LINE : LINE User ID \u30d9\u30fc\u30b9\uff08 line_users \u30c6\u30fc\u30d6\u30eb\uff09 \u7ba1\u7406\u753b\u9762 : Supabase Auth\uff08Email + Password\uff09","title":"\u8a8d\u8a3c"},{"location":"requirements/system/#_7","text":"Supabase Storage \u3092\u4f7f\u7528\uff1a \u7d0d\u54c1\u66f8PDF : documents bucket \u5728\u5eabExcel : inventory bucket","title":"\u30d5\u30a1\u30a4\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8"},{"location":"requirements/system/#_8","text":"Supabase Cron\uff08\u307e\u305f\u306f\u5916\u90e8cron\uff09\u3067\u4ee5\u4e0b\u3092\u5b9f\u884c\uff1a Excel\u540c\u671f : 5\u5206\u6bce \u4eee\u5f15\u5f53\u671f\u9650\u30c1\u30a7\u30c3\u30af : 1\u6642\u9593\u6bce","title":"\u30b8\u30e7\u30d6\u5b9f\u884c"},{"location":"requirements/system/#_9","text":"Phase1 : Excel\uff08\u624b\u52d5\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\uff09 Phase2 : \u81ea\u52d5\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\uff08Google\u30c9\u30e9\u30a4\u30d6\u9023\u643a\u306a\u3069\uff09","title":"\u5728\u5eab\u5165\u529b\u5143"},{"location":"requirements/system/#_10","text":"PDF\u81ea\u52d5\u751f\u6210 : reportlab or openpyxl\u60f3\u5b9a","title":"\u5e33\u7968\u751f\u6210"},{"location":"requirements/system/#_11","text":"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u5e97\u8217/\u672c\u90e8 \u2502 \u2502 (LINE) \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502 \u2193 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 FastAPI Backend \u2502 \u2502 (Python) \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502 \u2193 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 Supabase \u2502 \u2502 \u30fbPostgreSQL \u2502 \u2502 \u30fbStorage \u2502 \u2502 \u30fbAuth \u2502 \u2502 \u30fbCron \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518","title":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u56f3"},{"location":"requirements/system/#_12","text":"","title":"\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8"},{"location":"requirements/system/#phase1","text":"Backend : Cloud Run / Railway / Render DB : Supabase\uff08\u30af\u30e9\u30a6\u30c9\uff09 \u30b9\u30c8\u30ec\u30fc\u30b8 : Supabase Storage Cron : Supabase Cron","title":"Phase1\uff08\u60f3\u5b9a\uff09"},{"location":"requirements/system/#_13","text":"\u30b9\u30b1\u30fc\u30eb\u30a2\u30a6\u30c8\u5bfe\u5fdc CDN\u5c0e\u5165\uff08PDF\u914d\u4fe1\u9ad8\u901f\u5316\uff09 \u30de\u30eb\u30c1\u30ea\u30fc\u30b8\u30e7\u30f3\u5bfe\u5fdc","title":"\u5c06\u6765\u306e\u62e1\u5f35"},{"location":"requirements/todo/","text":"\u672a\u78ba\u5b9a\u4e8b\u9805 \u00b6 Phase1\u5b9f\u88c5\u524d\u306b\u78ba\u8a8d\u304c\u5fc5\u8981\u306a\u9805\u76ee\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002 \u512a\u5148\u5ea6: \u9ad8\uff08\u5b9f\u88c5\u306b\u5fc5\u9808\uff09 \u00b6 Excel\u95a2\u9023 \u00b6 Excel\u5217\u69cb\u6210\u306e\u78ba\u5b9a \u00b6 \u5b9f\u969b\u306eExcel\u30d5\u30a1\u30a4\u30eb\u30b5\u30f3\u30d7\u30eb\u306e\u5165\u624b \u5217\u540d\u306e\u78ba\u5b9a\uff08\u5546\u54c1\u540d\u3001\u30b1\u30fc\u30b9\u6570\u3001\u8cde\u5473\u671f\u9650\u3001\u30ed\u30c3\u30c8\u756a\u53f7\u306a\u3069\uff09 \u5fc5\u9808\u5217\u3068\u30aa\u30d7\u30b7\u30e7\u30f3\u5217\u306e\u660e\u78ba\u5316 \u30c7\u30fc\u30bf\u578b\u306e\u78ba\u8a8d\uff08\u6570\u5024\u3001\u65e5\u4ed8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\uff09 \u5f71\u97ff\u7bc4\u56f2 Excel\u540c\u671f\u51e6\u7406\u306e\u5b9f\u88c5\u5168\u4f53\u306b\u5f71\u97ff\u3057\u307e\u3059\u3002\u6700\u512a\u5148\u3067\u78ba\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u73fe\u5728\u306eExcel\u4fdd\u5b58\u5834\u6240\u306e\u78ba\u8a8d \u00b6 \u52a0\u5de5\u4f1a\u793e\u306e\u73fe\u5728\u306e\u904b\u7528\u65b9\u6cd5 Excel\u30d5\u30a1\u30a4\u30eb\u306e\u4fdd\u5b58\u5834\u6240\uff08\u30ed\u30fc\u30ab\u30eb/\u30af\u30e9\u30a6\u30c9\uff09 \u66f4\u65b0\u983b\u5ea6\uff08\u90fd\u5ea6/\u65e5\u6b21/\u9031\u6b21\uff09 \u66f4\u65b0\u62c5\u5f53\u8005 \u5546\u54c1\u540d\u2192product_id \u306e\u7167\u5408\u30eb\u30fc\u30eb\u8a73\u7d30 \u00b6 Excel\u306e\u5546\u54c1\u540d\u3068\u3001\u30de\u30b9\u30bf\u306e\u5546\u54c1\u540d\u304c\u5b8c\u5168\u4e00\u81f4\u3059\u308b\u304b \u8868\u8a18\u3086\u308c\u304c\u3042\u308b\u304b\uff08\u4f8b: \u300c\u751f\u30c1\u30e7\u30b3\u30ec\u30fc\u30c8\u300dvs\u300c\u751f\u30c1\u30e7\u30b3\u300d\uff09 SKU\u30b3\u30fc\u30c9\u3067\u7167\u5408\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u304b \u7d0d\u54c1\u66f8\u95a2\u9023 \u00b6 \u65e2\u5b58\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u5165\u624b \u00b6 \u73fe\u5728\u4f7f\u7528\u3057\u3066\u3044\u308b\u7d0d\u54c1\u66f8\u306eExcel/PDF\u30d5\u30a1\u30a4\u30eb \u30ec\u30a4\u30a2\u30a6\u30c8\u78ba\u8a8d \u5fc5\u9808\u9805\u76ee\u306e\u6d17\u3044\u51fa\u3057 \u4ee3\u66ff\u6848 \u65e2\u5b58\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u306a\u3044\u5834\u5408\u3001\u65b0\u898f\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\u30c7\u30b6\u30a4\u30f3\u6848\u3092\u63d0\u793a\u53ef\u80fd\u3067\u3059\u3002 \u5fc5\u9808\u9805\u76ee\u306e\u78ba\u5b9a \u00b6 \u7d0d\u54c1\u65e5 \u7d0d\u54c1\u66f8\u756a\u53f7 \u767a\u6ce8\u5143\uff08\u5e97\u8217\u540d\uff09 \u767a\u6ce8\u5148\uff08\u8cb4\u793e\u540d\uff09 \u5546\u54c1\u540d \u6570\u91cf\uff08\u30b1\u30fc\u30b9\u6570/\u500b\u6570\uff09 \u30ed\u30c3\u30c8\u756a\u53f7 \u8cde\u5473\u671f\u9650 \u914d\u9001\u696d\u8005\u30fb\u8ffd\u8de1\u756a\u53f7 \u305d\u306e\u4ed6\uff08\u5099\u8003\u6b04\u306a\u3069\uff09 \u5358\u4fa1\u30fb\u91d1\u984d\u306e\u8868\u793a\u8981\u5426 \u00b6 \u5358\u4fa1\u3092\u8a18\u8f09\u3059\u308b\u304b \u5c0f\u8a08\u30fb\u5408\u8a08\u91d1\u984d\u3092\u8a18\u8f09\u3059\u308b\u304b \u8acb\u6c42\u66f8\u3068\u3057\u3066\u3082\u4f7f\u7528\u3059\u308b\u304b\uff08\u5225\u9014\u8acb\u6c42\u66f8\u3092\u767a\u884c\u3059\u308b\u304b\uff09 \u5358\u4fa1\u3092\u8a18\u8f09\u3059\u308b\u5834\u5408 : - products \u30c6\u30fc\u30d6\u30eb\u306b unit_price \u30ab\u30e9\u30e0\u8ffd\u52a0\u304c\u5fc5\u8981 \u30de\u30b9\u30bf\u30c7\u30fc\u30bf \u00b6 \u5546\u54c1\u30de\u30b9\u30bf\u306e\u521d\u671f\u30c7\u30fc\u30bf \u00b6 \u5546\u54c1\u6570\uff08\u5168\u4f53\u3067\u4f55\u5546\u54c1\u3042\u308b\u304b\uff09 \u5546\u54c1\u4e00\u89a7\uff08\u5546\u54c1\u540d\u3001\u30b1\u30fc\u30b9\u30b5\u30a4\u30ba\uff09 SKU\u30b3\u30fc\u30c9\u306e\u6709\u7121 \u5358\u4fa1\u60c5\u5831\u306e\u6709\u7121 \u73fe\u5728\u7ba1\u7406\u3057\u3066\u3044\u308bExcel/CSV\u7b49\u306e\u30d5\u30a1\u30a4\u30eb \u30c7\u30fc\u30bf\u6295\u5165\u65b9\u6cd5 CSV\u5f62\u5f0f\u3067\u63d0\u4f9b\u3044\u305f\u3060\u3051\u308c\u3070\u3001\u4e00\u62ec\u30a4\u30f3\u30dd\u30fc\u30c8\u53ef\u80fd\u3067\u3059\u3002 \u5e97\u8217\u30de\u30b9\u30bf\u306e\u521d\u671f\u30c7\u30fc\u30bf \u00b6 15\u5e97\u8217\u306e\u4e00\u89a7\uff08\u5e97\u8217\u540d\uff09 \u5e97\u8217\u30b3\u30fc\u30c9 \u914d\u9001\u5148\u4f4f\u6240\uff08\u7d0d\u54c1\u66f8\u306b\u8a18\u8f09\u3059\u308b\u5834\u5408\uff09 \u512a\u5148\u5ea6: \u4e2d\uff08\u4eee\u6c7a\u3081\u3067\u9032\u884c\u53ef\u80fd\uff09 \u00b6 \u901a\u77e5\u95a2\u9023 \u00b6 \u7ba1\u7406\u8005LINE\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210 \u00b6 \u7ba1\u7406\u8005\u7528\u306eLINE\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210 \u30b0\u30eb\u30fc\u30d7ID\u306e\u53d6\u5f97 system_settings \u306b\u767b\u9332 \u30b0\u30eb\u30fc\u30d7ID\u53d6\u5f97\u65b9\u6cd5 LINE Official Account \u306e Messaging API \u3067\u30b0\u30eb\u30fc\u30d7ID\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u6642\u306b\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002 \u52a0\u5de5\u4f1a\u793e\u3078\u306e\u51fa\u8377\u4f9d\u983c\u901a\u77e5\u65b9\u6cd5 \u00b6 LINE\u901a\u77e5 \u30e1\u30fc\u30eb\u901a\u77e5 \u7ba1\u7406\u753b\u9762\u306e\u307f\uff08\u52a0\u5de5\u4f1a\u793e\u304c\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u78ba\u8a8d\uff09 \u63a8\u5968 : Phase1\u3067\u306f\u7ba1\u7406\u753b\u9762\u306e\u307f\u3001Phase2\u3067LINE/\u30e1\u30fc\u30eb\u8ffd\u52a0 \u6a29\u9650\u30fb\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3 \u00b6 \u5e97\u8217\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u767b\u9332\u6642\u306e\u8a8d\u8a3c\u65b9\u6cd5 \u00b6 \u8ab0\u3067\u3082\u53cb\u3060\u3061\u8ffd\u52a0\u2192\u5e97\u8217\u9078\u629e\u3067\u767b\u9332\u53ef\u80fd\uff08\u7c21\u6613\uff09 \u4e8b\u524d\u306b\u7ba1\u7406\u8005\u304c LINE ID \u3092\u767b\u9332\u3057\u3066\u304a\u304f\uff08\u53b3\u683c\uff09 \u62db\u5f85\u30b3\u30fc\u30c9\u65b9\u5f0f\uff08\u4e2d\u9593\uff09 \u73fe\u5728\u306e\u60f3\u5b9a : \u8ab0\u3067\u3082\u53cb\u3060\u3061\u8ffd\u52a0\u2192\u5e97\u8217\u9078\u629e\u3067\u767b\u9332\u53ef\u80fd \u30ea\u30b9\u30af : \u9593\u9055\u3063\u305f\u5e97\u8217\u3092\u9078\u629e\u3055\u308c\u308b\u53ef\u80fd\u6027 \u5bfe\u7b56\u6848 : - \u521d\u56de\u767b\u9332\u6642\u306b\u7ba1\u7406\u8005\u306b\u901a\u77e5 - \u7ba1\u7406\u8005\u304c\u627f\u8a8d\u3059\u308b\u307e\u3067\u6a5f\u80fd\u5236\u9650 \u672c\u90e8\u30d0\u30a4\u30e4\u30fc\u306e\u62db\u5f85\u30b3\u30fc\u30c9\u7ba1\u7406\u30d5\u30ed\u30fc \u00b6 \u62db\u5f85\u30b3\u30fc\u30c9\u306e\u767a\u884c\u65b9\u6cd5\uff08\u7ba1\u7406\u753b\u9762\u3067\u767a\u884c\uff09 \u6709\u52b9\u671f\u9650\uff08\u30c7\u30d5\u30a9\u30eb\u30c8: 7\u65e5\u9593\u3067OK\u304b\uff09 1\u56de\u9650\u308a\u4f7f\u7528\u3067OK\u304b \u52a0\u5de5\u4f1a\u793e\u306e\u904b\u7528 \u00b6 \u51fa\u8377\u5b8c\u4e86\u5831\u544a\u306e\u5165\u529b\u65b9\u6cd5 \u00b6 \u7ba1\u7406\u753b\u9762\u3067\u300c\u51fa\u8377\u5b8c\u4e86\u300d\u30dc\u30bf\u30f3 + \u8ffd\u8de1\u756a\u53f7\u5165\u529b LINE\u3067\u51fa\u8377\u5b8c\u4e86\u5831\u544a CSV\u4e00\u62ec\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9 \u63a8\u5968 : \u7ba1\u7406\u753b\u9762\u3067\u30dc\u30bf\u30f3 + \u8ffd\u8de1\u756a\u53f7\u5165\u529b \u512a\u5148\u5ea6: \u4f4e\uff08Phase2\u4ee5\u964d\uff09 \u00b6 \u7d0d\u54c1\u4e00\u89a7\u306e\u51fa\u529b \u00b6 \u51fa\u529b\u5f62\u5f0f \u00b6 CSV Excel Google Sheets \u51fa\u529b\u30bf\u30a4\u30df\u30f3\u30b0 \u00b6 \u624b\u52d5\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\uff08\u7ba1\u7406\u753b\u9762\u3067\u30dc\u30bf\u30f3\u30af\u30ea\u30c3\u30af\uff09 \u81ea\u52d5\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\uff08\u65e5\u6b21/\u9031\u6b21\uff09 \u51fa\u529b\u5185\u5bb9 \u00b6 \u65e5\u6b21\u7d0d\u54c1\u4e00\u89a7\uff08\u305d\u306e\u65e5\u306e\u51fa\u8377\u5206\uff09 \u5e97\u8217\u5225\u7d0d\u54c1\u4e00\u89a7 \u5546\u54c1\u5225\u7d0d\u54c1\u4e00\u89a7 \u30ed\u30c3\u30c8/\u8cde\u5473\u671f\u9650\u306eFIFO\u30eb\u30fc\u30eb \u00b6 \u8cde\u5473\u671f\u9650\u306e\u8fd1\u3044\u5728\u5eab\u304b\u3089\u81ea\u52d5\u5f15\u5f53\u3059\u308b\u304b \u30ed\u30c3\u30c8\u756a\u53f7\u3092\u8ffd\u8de1\u3059\u308b\u304b \u5e97\u8217\u306b\u8cde\u5473\u671f\u9650\u3092\u901a\u77e5\u3059\u308b\u304b \u7d0d\u54c1\u65e5\u81ea\u52d5\u8a08\u7b97\u30ed\u30b8\u30c3\u30af \u00b6 Phase1\u3067\u306f\u5b9f\u88c5\u3057\u306a\u3044 Phase1\u3067\u306f\u7d0d\u54c1\u65e5\u306f\u8868\u793a\u305b\u305a\u3001\u5225\u9014\u9023\u7d61\u3057\u307e\u3059\u3002 Phase3\u3067\u5b9f\u88c5\u3059\u308b\u5834\u5408\uff1a \u914d\u9001\u65e5\u6570\uff08\u5e97\u8217\u5225\uff09 \u795d\u65e5\u30ab\u30ec\u30f3\u30c0\u30fc \u5e97\u8217\u306e\u53d7\u5165\u4e0d\u53ef\u65e5\uff08\u4f8b: \u706b\u66dc\u65e5\u306f\u4e0d\u53ef\uff09 \u7de0\u5207\u6642\u9593\uff08\u4f8b: 14\u6642\u307e\u3067\u306e\u6ce8\u6587\u306f\u7fcc\u65e5\u51fa\u8377\uff09 \u78ba\u8a8d\u65b9\u6cd5 \u00b6 \u30d2\u30a2\u30ea\u30f3\u30b0\u306e\u5b9f\u65bd \u00b6 \u4ee5\u4e0b\u306e\u9805\u76ee\u306b\u3064\u3044\u3066\u3001\u95a2\u4fc2\u8005\u3078\u30d2\u30a2\u30ea\u30f3\u30b0\u3092\u5b9f\u65bd\uff1a \u9805\u76ee \u78ba\u8a8d\u5148 \u671f\u9650 Excel\u5217\u69cb\u6210 \u52a0\u5de5\u4f1a\u793e Phase1\u958b\u59cb\u524d \u7d0d\u54c1\u66f8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 \u672c\u90e8/\u52a0\u5de5\u4f1a\u793e Phase1\u958b\u59cb\u524d \u5546\u54c1\u30de\u30b9\u30bf \u672c\u90e8 Phase1\u958b\u59cb\u524d \u5e97\u8217\u30de\u30b9\u30bf \u672c\u90e8 Phase1\u958b\u59cb\u524d \u52a0\u5de5\u4f1a\u793e\u306e\u901a\u77e5\u65b9\u6cd5 \u52a0\u5de5\u4f1a\u793e Phase1\u958b\u59cb\u5f8c\u3067\u3082\u53ef \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5171\u6709 \u00b6 \u30d2\u30a2\u30ea\u30f3\u30b0\u30b7\u30fc\u30c8\u4f5c\u6210 \u5404\u62c5\u5f53\u8005\u306b\u5171\u6709 \u56de\u7b54\u3092\u672c\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u53cd\u6620 \u9032\u6357\u7ba1\u7406 \u00b6 \u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8 \u00b6 \u512a\u5148\u5ea6:\u9ad8\u306e\u9805\u76ee\u3092\u5168\u3066\u30c1\u30a7\u30c3\u30af\u3067\u304d\u305f\u3089\u3001Phase1\u5b9f\u88c5\u958b\u59cb\u53ef\u80fd\u3067\u3059\u3002 Excel\u95a2\u9023 : \u2610 \u672a\u5b8c\u4e86 / \u2611 \u5b8c\u4e86 \u7d0d\u54c1\u66f8\u95a2\u9023 : \u2610 \u672a\u5b8c\u4e86 / \u2611 \u5b8c\u4e86 \u30de\u30b9\u30bf\u30c7\u30fc\u30bf : \u2610 \u672a\u5b8c\u4e86 / \u2611 \u5b8c\u4e86 \u8cea\u554f\u30fb\u76f8\u8ac7\u7a93\u53e3 \u00b6 \u4e0d\u660e\u70b9\u304c\u3042\u308c\u3070\u3001\u4ee5\u4e0b\u306b\u3054\u9023\u7d61\u304f\u3060\u3055\u3044\uff1a GitHub Issues : https://github.com/kikuchi-mizuki/zaiko/issues \u305d\u306e\u4ed6 : \u672c\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30b3\u30e1\u30f3\u30c8\u6b04","title":"12. \u672a\u78ba\u5b9a\u4e8b\u9805"},{"location":"requirements/todo/#_1","text":"Phase1\u5b9f\u88c5\u524d\u306b\u78ba\u8a8d\u304c\u5fc5\u8981\u306a\u9805\u76ee\u3092\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002","title":"\u672a\u78ba\u5b9a\u4e8b\u9805"},{"location":"requirements/todo/#_2","text":"","title":"\u512a\u5148\u5ea6: \u9ad8\uff08\u5b9f\u88c5\u306b\u5fc5\u9808\uff09"},{"location":"requirements/todo/#excel","text":"","title":"Excel\u95a2\u9023"},{"location":"requirements/todo/#_3","text":"","title":"\u7d0d\u54c1\u66f8\u95a2\u9023"},{"location":"requirements/todo/#_7","text":"","title":"\u30de\u30b9\u30bf\u30c7\u30fc\u30bf"},{"location":"requirements/todo/#_10","text":"","title":"\u512a\u5148\u5ea6: \u4e2d\uff08\u4eee\u6c7a\u3081\u3067\u9032\u884c\u53ef\u80fd\uff09"},{"location":"requirements/todo/#_11","text":"","title":"\u901a\u77e5\u95a2\u9023"},{"location":"requirements/todo/#_13","text":"","title":"\u6a29\u9650\u30fb\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3"},{"location":"requirements/todo/#_16","text":"","title":"\u52a0\u5de5\u4f1a\u793e\u306e\u904b\u7528"},{"location":"requirements/todo/#phase2","text":"","title":"\u512a\u5148\u5ea6: \u4f4e\uff08Phase2\u4ee5\u964d\uff09"},{"location":"requirements/todo/#_18","text":"","title":"\u7d0d\u54c1\u4e00\u89a7\u306e\u51fa\u529b"},{"location":"requirements/todo/#fifo","text":"\u8cde\u5473\u671f\u9650\u306e\u8fd1\u3044\u5728\u5eab\u304b\u3089\u81ea\u52d5\u5f15\u5f53\u3059\u308b\u304b \u30ed\u30c3\u30c8\u756a\u53f7\u3092\u8ffd\u8de1\u3059\u308b\u304b \u5e97\u8217\u306b\u8cde\u5473\u671f\u9650\u3092\u901a\u77e5\u3059\u308b\u304b","title":"\u30ed\u30c3\u30c8/\u8cde\u5473\u671f\u9650\u306eFIFO\u30eb\u30fc\u30eb"},{"location":"requirements/todo/#_22","text":"Phase1\u3067\u306f\u5b9f\u88c5\u3057\u306a\u3044 Phase1\u3067\u306f\u7d0d\u54c1\u65e5\u306f\u8868\u793a\u305b\u305a\u3001\u5225\u9014\u9023\u7d61\u3057\u307e\u3059\u3002 Phase3\u3067\u5b9f\u88c5\u3059\u308b\u5834\u5408\uff1a \u914d\u9001\u65e5\u6570\uff08\u5e97\u8217\u5225\uff09 \u795d\u65e5\u30ab\u30ec\u30f3\u30c0\u30fc \u5e97\u8217\u306e\u53d7\u5165\u4e0d\u53ef\u65e5\uff08\u4f8b: \u706b\u66dc\u65e5\u306f\u4e0d\u53ef\uff09 \u7de0\u5207\u6642\u9593\uff08\u4f8b: 14\u6642\u307e\u3067\u306e\u6ce8\u6587\u306f\u7fcc\u65e5\u51fa\u8377\uff09","title":"\u7d0d\u54c1\u65e5\u81ea\u52d5\u8a08\u7b97\u30ed\u30b8\u30c3\u30af"},{"location":"requirements/todo/#_23","text":"","title":"\u78ba\u8a8d\u65b9\u6cd5"},{"location":"requirements/todo/#_24","text":"\u4ee5\u4e0b\u306e\u9805\u76ee\u306b\u3064\u3044\u3066\u3001\u95a2\u4fc2\u8005\u3078\u30d2\u30a2\u30ea\u30f3\u30b0\u3092\u5b9f\u65bd\uff1a \u9805\u76ee \u78ba\u8a8d\u5148 \u671f\u9650 Excel\u5217\u69cb\u6210 \u52a0\u5de5\u4f1a\u793e Phase1\u958b\u59cb\u524d \u7d0d\u54c1\u66f8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 \u672c\u90e8/\u52a0\u5de5\u4f1a\u793e Phase1\u958b\u59cb\u524d \u5546\u54c1\u30de\u30b9\u30bf \u672c\u90e8 Phase1\u958b\u59cb\u524d \u5e97\u8217\u30de\u30b9\u30bf \u672c\u90e8 Phase1\u958b\u59cb\u524d \u52a0\u5de5\u4f1a\u793e\u306e\u901a\u77e5\u65b9\u6cd5 \u52a0\u5de5\u4f1a\u793e Phase1\u958b\u59cb\u5f8c\u3067\u3082\u53ef","title":"\u30d2\u30a2\u30ea\u30f3\u30b0\u306e\u5b9f\u65bd"},{"location":"requirements/todo/#_25","text":"\u30d2\u30a2\u30ea\u30f3\u30b0\u30b7\u30fc\u30c8\u4f5c\u6210 \u5404\u62c5\u5f53\u8005\u306b\u5171\u6709 \u56de\u7b54\u3092\u672c\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u53cd\u6620","title":"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5171\u6709"},{"location":"requirements/todo/#_26","text":"","title":"\u9032\u6357\u7ba1\u7406"},{"location":"requirements/todo/#_27","text":"\u512a\u5148\u5ea6:\u9ad8\u306e\u9805\u76ee\u3092\u5168\u3066\u30c1\u30a7\u30c3\u30af\u3067\u304d\u305f\u3089\u3001Phase1\u5b9f\u88c5\u958b\u59cb\u53ef\u80fd\u3067\u3059\u3002 Excel\u95a2\u9023 : \u2610 \u672a\u5b8c\u4e86 / \u2611 \u5b8c\u4e86 \u7d0d\u54c1\u66f8\u95a2\u9023 : \u2610 \u672a\u5b8c\u4e86 / \u2611 \u5b8c\u4e86 \u30de\u30b9\u30bf\u30c7\u30fc\u30bf : \u2610 \u672a\u5b8c\u4e86 / \u2611 \u5b8c\u4e86","title":"\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8"},{"location":"requirements/todo/#_28","text":"\u4e0d\u660e\u70b9\u304c\u3042\u308c\u3070\u3001\u4ee5\u4e0b\u306b\u3054\u9023\u7d61\u304f\u3060\u3055\u3044\uff1a GitHub Issues : https://github.com/kikuchi-mizuki/zaiko/issues \u305d\u306e\u4ed6 : \u672c\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30b3\u30e1\u30f3\u30c8\u6b04","title":"\u8cea\u554f\u30fb\u76f8\u8ac7\u7a93\u53e3"},{"location":"requirements/users/","text":"\u30e6\u30fc\u30b6\u30fc\u3068\u6a29\u9650 \u00b6 \u30e6\u30fc\u30b6\u30fc\u7a2e\u5225 \u00b6 \u5e97\u8217\u30de\u30cd\u30fc\u30b8\u30e3\u30fc \u00b6 \u6a29\u9650 : \u81ea\u5e97\u8217\u306e\u8ffd\u52a0\u767a\u6ce8\u4f9d\u983c \u81ea\u5e97\u8217\u306e\u4f9d\u983c\u72b6\u6cc1\u78ba\u8a8d \u5728\u5eab\u7167\u4f1a\uff08\u6570\u91cf\u306e\u307f\u3002\u7d0d\u54c1\u65e5\u306f\u5225\u9014\u9023\u7d61\uff09 \u767b\u9332\u65b9\u6cd5 : LINE\u53cb\u3060\u3061\u8ffd\u52a0 \u521d\u56de\u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u5e97\u8217\u9078\u629e \u81ea\u52d5\u767b\u9332\uff08 line_users \u30c6\u30fc\u30d6\u30eb\u306b\u8ffd\u52a0\uff09 \u672c\u90e8\u30d0\u30a4\u30e4\u30fc \u00b6 \u6a29\u9650 : \u5168\u5e97\u8217\u306e\u767a\u6ce8\u627f\u8a8d/\u5dee\u623b\u3057/\u4e00\u90e8\u627f\u8a8d \u5168\u4f9d\u983c\u72b6\u6cc1\u306e\u78ba\u8a8d \u64cd\u4f5c\u74b0\u5883 : \u7ba1\u7406\u753b\u9762\uff08PC\uff09 LINE\uff08\u30e2\u30d0\u30a4\u30eb\uff09 \u4e21\u65b9\u304b\u3089\u540c\u3058\u64cd\u4f5c\u304c\u53ef\u80fd \u767b\u9332\u65b9\u6cd5 : \u7ba1\u7406\u8005\u304b\u3089\u62db\u5f85\u30b3\u30fc\u30c9\u3092\u53d7\u3051\u53d6\u308b LINE\u3067\u62db\u5f85\u30b3\u30fc\u30c9\u5165\u529b \u81ea\u52d5\u767b\u9332\uff08 role='buyer' \uff09 \u8cb4\u793e\u7ba1\u7406\u8005\uff08\u904b\u7528\u7ba1\u7406\uff09 \u00b6 \u6a29\u9650 : \u5168\u30c7\u30fc\u30bf\u95b2\u89a7\u30fb\u4fee\u6b63 \u5728\u5eabExcel \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9 \u66ab\u5b9a\u5728\u5eab\u4f7f\u7528\u6642\u306e\u627f\u8a8d \u4eee\u5f15\u5f53\u306e\u624b\u52d5\u89e3\u653e\u30fb\u671f\u9650\u5ef6\u9577 \u5f37\u5236\u78ba\u5b9a/\u53d6\u6d88 \u64cd\u4f5c\u74b0\u5883 : \u7ba1\u7406\u753b\u9762\uff08\u4e3b\uff09 LINE\uff08\u901a\u77e5\u53d7\u4fe1\uff09 \u52a0\u5de5\u4f1a\u793e \u00b6 \u6a29\u9650 \uff08Phase1\u3067\u306f\u6700\u4f4e\u9650\uff09: \u51fa\u8377\u4f9d\u983c\u306e\u53d7\u9818 \u51fa\u8377\u30b9\u30c6\u30fc\u30bf\u30b9\u66f4\u65b0\uff08shipped + tracking\u756a\u53f7\u5165\u529b\uff09 \u64cd\u4f5c\u74b0\u5883 : \u901a\u77e5\u53d7\u9818\u65b9\u6cd5\u306f\u5f8c\u65e5\u78ba\u5b9a\uff08LINE/\u30e1\u30fc\u30eb/\u7ba1\u7406\u753b\u9762\uff09 \u51fa\u8377\u5831\u544a\u306f\u7ba1\u7406\u753b\u9762\u3092\u60f3\u5b9a \u6a29\u9650\u30de\u30c8\u30ea\u30af\u30b9 \u00b6 \u6a5f\u80fd \u5e97\u8217 \u672c\u90e8 \u7ba1\u7406\u8005 \u52a0\u5de5\u4f1a\u793e \u5728\u5eab\u7167\u4f1a \u2705 \u2705 \u2705 - \u8ffd\u52a0\u767a\u6ce8 \u2705 - \u2705 - \u672c\u90e8\u627f\u8a8d - \u2705 \u2705 - \u5728\u5eab\u4fee\u6b63 - - \u2705 - Excel \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9 - - \u2705 - \u51fa\u8377\u5831\u544a - - \u2705 \u2705 \u62db\u5f85\u30b3\u30fc\u30c9\u7ba1\u7406 \u00b6 \u767a\u884c \u00b6 \u7ba1\u7406\u8005\u304c\u7ba1\u7406\u753b\u9762\u3067\u767a\u884c \u6709\u52b9\u671f\u9650\u8a2d\u5b9a\u53ef\u80fd\uff08\u30c7\u30d5\u30a9\u30eb\u30c8: 7\u65e5\u9593\uff09 1\u56de\u9650\u308a\u4f7f\u7528 \u5229\u7528\u30d5\u30ed\u30fc \u00b6 1. \u7ba1\u7406\u8005: \u30b3\u30fc\u30c9\u767a\u884c\uff08\u4f8b: BUYER-ABC123\uff09 2. \u7ba1\u7406\u8005 \u2192 \u672c\u90e8\u30d0\u30a4\u30e4\u30fc: \u30b3\u30fc\u30c9\u3092\u5171\u6709 3. \u672c\u90e8\u30d0\u30a4\u30e4\u30fc: LINE\u3067\u300c\u62db\u5f85\u30b3\u30fc\u30c9: BUYER-ABC123\u300d\u3068\u9001\u4fe1 4. \u30b7\u30b9\u30c6\u30e0: \u81ea\u52d5\u3067 line_users \u306b\u767b\u9332 5. \u30b3\u30fc\u30c9\u7121\u52b9\u5316\uff08used_at \u8a18\u9332\uff09","title":"3. \u30e6\u30fc\u30b6\u30fc\u3068\u6a29\u9650"},{"location":"requirements/users/#_1","text":"","title":"\u30e6\u30fc\u30b6\u30fc\u3068\u6a29\u9650"},{"location":"requirements/users/#_2","text":"","title":"\u30e6\u30fc\u30b6\u30fc\u7a2e\u5225"},{"location":"requirements/users/#_3","text":"\u6a29\u9650 : \u81ea\u5e97\u8217\u306e\u8ffd\u52a0\u767a\u6ce8\u4f9d\u983c \u81ea\u5e97\u8217\u306e\u4f9d\u983c\u72b6\u6cc1\u78ba\u8a8d \u5728\u5eab\u7167\u4f1a\uff08\u6570\u91cf\u306e\u307f\u3002\u7d0d\u54c1\u65e5\u306f\u5225\u9014\u9023\u7d61\uff09 \u767b\u9332\u65b9\u6cd5 : LINE\u53cb\u3060\u3061\u8ffd\u52a0 \u521d\u56de\u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u5e97\u8217\u9078\u629e \u81ea\u52d5\u767b\u9332\uff08 line_users \u30c6\u30fc\u30d6\u30eb\u306b\u8ffd\u52a0\uff09","title":"\u5e97\u8217\u30de\u30cd\u30fc\u30b8\u30e3\u30fc"},{"location":"requirements/users/#_4","text":"\u6a29\u9650 : \u5168\u5e97\u8217\u306e\u767a\u6ce8\u627f\u8a8d/\u5dee\u623b\u3057/\u4e00\u90e8\u627f\u8a8d \u5168\u4f9d\u983c\u72b6\u6cc1\u306e\u78ba\u8a8d \u64cd\u4f5c\u74b0\u5883 : \u7ba1\u7406\u753b\u9762\uff08PC\uff09 LINE\uff08\u30e2\u30d0\u30a4\u30eb\uff09 \u4e21\u65b9\u304b\u3089\u540c\u3058\u64cd\u4f5c\u304c\u53ef\u80fd \u767b\u9332\u65b9\u6cd5 : \u7ba1\u7406\u8005\u304b\u3089\u62db\u5f85\u30b3\u30fc\u30c9\u3092\u53d7\u3051\u53d6\u308b LINE\u3067\u62db\u5f85\u30b3\u30fc\u30c9\u5165\u529b \u81ea\u52d5\u767b\u9332\uff08 role='buyer' \uff09","title":"\u672c\u90e8\u30d0\u30a4\u30e4\u30fc"},{"location":"requirements/users/#_5","text":"\u6a29\u9650 : \u5168\u30c7\u30fc\u30bf\u95b2\u89a7\u30fb\u4fee\u6b63 \u5728\u5eabExcel \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9 \u66ab\u5b9a\u5728\u5eab\u4f7f\u7528\u6642\u306e\u627f\u8a8d \u4eee\u5f15\u5f53\u306e\u624b\u52d5\u89e3\u653e\u30fb\u671f\u9650\u5ef6\u9577 \u5f37\u5236\u78ba\u5b9a/\u53d6\u6d88 \u64cd\u4f5c\u74b0\u5883 : \u7ba1\u7406\u753b\u9762\uff08\u4e3b\uff09 LINE\uff08\u901a\u77e5\u53d7\u4fe1\uff09","title":"\u8cb4\u793e\u7ba1\u7406\u8005\uff08\u904b\u7528\u7ba1\u7406\uff09"},{"location":"requirements/users/#_6","text":"\u6a29\u9650 \uff08Phase1\u3067\u306f\u6700\u4f4e\u9650\uff09: \u51fa\u8377\u4f9d\u983c\u306e\u53d7\u9818 \u51fa\u8377\u30b9\u30c6\u30fc\u30bf\u30b9\u66f4\u65b0\uff08shipped + tracking\u756a\u53f7\u5165\u529b\uff09 \u64cd\u4f5c\u74b0\u5883 : \u901a\u77e5\u53d7\u9818\u65b9\u6cd5\u306f\u5f8c\u65e5\u78ba\u5b9a\uff08LINE/\u30e1\u30fc\u30eb/\u7ba1\u7406\u753b\u9762\uff09 \u51fa\u8377\u5831\u544a\u306f\u7ba1\u7406\u753b\u9762\u3092\u60f3\u5b9a","title":"\u52a0\u5de5\u4f1a\u793e"},{"location":"requirements/users/#_7","text":"\u6a5f\u80fd \u5e97\u8217 \u672c\u90e8 \u7ba1\u7406\u8005 \u52a0\u5de5\u4f1a\u793e \u5728\u5eab\u7167\u4f1a \u2705 \u2705 \u2705 - \u8ffd\u52a0\u767a\u6ce8 \u2705 - \u2705 - \u672c\u90e8\u627f\u8a8d - \u2705 \u2705 - \u5728\u5eab\u4fee\u6b63 - - \u2705 - Excel \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9 - - \u2705 - \u51fa\u8377\u5831\u544a - - \u2705 \u2705","title":"\u6a29\u9650\u30de\u30c8\u30ea\u30af\u30b9"},{"location":"requirements/users/#_8","text":"","title":"\u62db\u5f85\u30b3\u30fc\u30c9\u7ba1\u7406"},{"location":"requirements/users/#_9","text":"\u7ba1\u7406\u8005\u304c\u7ba1\u7406\u753b\u9762\u3067\u767a\u884c \u6709\u52b9\u671f\u9650\u8a2d\u5b9a\u53ef\u80fd\uff08\u30c7\u30d5\u30a9\u30eb\u30c8: 7\u65e5\u9593\uff09 1\u56de\u9650\u308a\u4f7f\u7528","title":"\u767a\u884c"},{"location":"requirements/users/#_10","text":"1. \u7ba1\u7406\u8005: \u30b3\u30fc\u30c9\u767a\u884c\uff08\u4f8b: BUYER-ABC123\uff09 2. \u7ba1\u7406\u8005 \u2192 \u672c\u90e8\u30d0\u30a4\u30e4\u30fc: \u30b3\u30fc\u30c9\u3092\u5171\u6709 3. \u672c\u90e8\u30d0\u30a4\u30e4\u30fc: LINE\u3067\u300c\u62db\u5f85\u30b3\u30fc\u30c9: BUYER-ABC123\u300d\u3068\u9001\u4fe1 4. \u30b7\u30b9\u30c6\u30e0: \u81ea\u52d5\u3067 line_users \u306b\u767b\u9332 5. \u30b3\u30fc\u30c9\u7121\u52b9\u5316\uff08used_at \u8a18\u9332\uff09","title":"\u5229\u7528\u30d5\u30ed\u30fc"},{"location":"requirements/workflow/","text":"\u696d\u52d9\u30d5\u30ed\u30fc \u00b6 \u8ffd\u52a0\u767a\u6ce8\uff08\u5e97\u8217 \u2192 \u672c\u90e8\uff09 \u00b6 \u5e97\u8217\u5074\uff08LINE\uff09 \u00b6 [\u5728\u5eab\u7167\u4f1a] \u307e\u305f\u306f [\u8ffd\u52a0\u767a\u6ce8] \u3092\u30bf\u30c3\u30d7 \u5546\u54c1\u9078\u629e \uff08\u30af\u30a4\u30c3\u30af\u30ea\u30d7\u30e9\u30a4\u3067\u9078\u629e\uff09 \u6570\u91cf\u5165\u529b \uff08\u30b1\u30fc\u30b9\u5358\u4f4d\u306e\u307f\u3001\u6574\u6570\uff09 \u5e0c\u671b\u7d0d\u54c1\u65e5\u9078\u629e \u3067\u304d\u308b\u3060\u3051\u65e9\u304f \u65e5\u4ed8\u6307\u5b9a \u7279\u306b\u306a\u3057 \u78ba\u8a8d\u753b\u9762\u3067 [\u306f\u3044] \u30b7\u30b9\u30c6\u30e0\u304c\u53d7\u4ed8 \uff08status: pending_approval \uff09 \u672c\u90e8\u5074\uff08LINE or \u7ba1\u7406\u753b\u9762\uff09 \u00b6 \u627f\u8a8d\u4f9d\u983c\u901a\u77e5\u3092\u53d7\u4fe1 \uff08\u5e0c\u671b\u7d0d\u54c1\u65e5\u9806\u3067\u30bd\u30fc\u30c8\uff09 \u5728\u5eab\u3092\u78ba\u8a8d\u3057\u3066\u4ee5\u4e0b\u306e\u3044\u305a\u308c\u304b\u3092\u9078\u629e : \u5168\u91cf\u627f\u8a8d \u00b6 \u2192 approved \u2192 \u81ea\u52d5\u3067\u5728\u5eab\u5f15\u5f53\uff08 allocated_hold \uff09 \u4e00\u90e8\u627f\u8a8d \u00b6 \u627f\u8a8d\u6570\u91cf\u3092\u5165\u529b \u5143\u30ea\u30af\u30a8\u30b9\u30c8\u306f\u627f\u8a8d\u6570\u91cf\u3067\u78ba\u5b9a \u6b8b\u308a\u306f\u65b0\u898f\u30ea\u30af\u30a8\u30b9\u30c8\uff08 pending_inventory \uff09\u3068\u3057\u3066\u81ea\u52d5\u4f5c\u6210 \u5dee\u623b\u3057 \u00b6 \u7406\u7531\u5165\u529b \u2192 \u5e97\u8217\u306b\u901a\u77e5\uff08status: rejected \uff09 \u5728\u5eab\u7167\u4f1a\uff08\u5e97\u8217 \u2192 \u30b7\u30b9\u30c6\u30e0\uff09 \u00b6 \u5e97\u8217\u5074\uff08LINE\uff09 \u00b6 [\u5728\u5eab\u7167\u4f1a] \u3092\u30bf\u30c3\u30d7 \u5546\u54c1\u9078\u629e \u30b7\u30b9\u30c6\u30e0\u304c\u5728\u5eab\u6570\u91cf\u3092\u56de\u7b54 : \u3010\u5728\u5eab\u7167\u4f1a\u7d50\u679c\u3011 \u5546\u54c1: \u25cb\u25cb \u5728\u5eab: 10\u30b1\u30fc\u30b9 \u203b\u3053\u306e\u60c5\u5831\u306f2\u6642\u9593\u524d\u306e\u3082\u306e\u3067\u3059 \u7d0d\u54c1\u65e5\u306f\u5225\u9014\u3054\u9023\u7d61\u3057\u307e\u3059\u3002 \u7d0d\u54c1\u65e5\u306b\u3064\u3044\u3066 \u5728\u5eab\u6570\u91cf\u306e\u307f\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u56de\u7b54\u3057\u3001\u7d0d\u54c1\u65e5\u306f\u5f93\u6765\u901a\u308a\u4eba\u304c\u9023\u7d61\u3057\u307e\u3059\u3002 \u51fa\u8377\u4f9d\u983c\uff08\u672c\u90e8 \u2192 \u52a0\u5de5\u4f1a\u793e\uff09 \u00b6 \u672c\u90e8\u627f\u8a8d \u2192 shipment_requested \u306b\u81ea\u52d5\u9077\u79fb \u7d0d\u54c1\u66f8PDF\u81ea\u52d5\u751f\u6210 \u2192 Supabase Storage\u4fdd\u5b58 \u52a0\u5de5\u4f1a\u793e\u306b\u901a\u77e5 \uff08\u901a\u77e5\u65b9\u6cd5\u306f\u5f8c\u65e5\u78ba\u5b9a\uff09 \u52a0\u5de5\u4f1a\u793e\u304c\u51fa\u8377\u5b8c\u4e86\u5831\u544a \u2192 shipped \u4eee\u5f15\u5f53\u671f\u9650\u5207\u308c \u00b6 \u81ea\u52d5\u30c1\u30a7\u30c3\u30af \u00b6 Cron\uff081\u6642\u9593\u6bce\uff09\u304c allocations.expires_at \u3092\u30c1\u30a7\u30c3\u30af \u671f\u9650\u5207\u308c\u767a\u898b\u6642 \u00b6 \u5e97\u8217\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u306bLINE\u901a\u77e5 \u300c\u307e\u3060\u5fc5\u8981\u3067\u3059\u304b\uff1f\u300d \u7ba1\u7406\u753b\u9762\u306e\u300c\u671f\u9650\u5207\u308c\u4e00\u89a7\u300d\u306b\u8868\u793a \u81ea\u52d5\u89e3\u653e\u306f\u3057\u306a\u3044 \uff08Phase1\u3067\u306f\u624b\u52d5\u5bfe\u5fdc\uff09 \u4e00\u90e8\u627f\u8a8d\u306e\u8a73\u7d30\u30d5\u30ed\u30fc \u00b6 \u30b7\u30ca\u30ea\u30aa\u4f8b \u00b6 \u5e97\u8217\u304c10\u30b1\u30fc\u30b9\u4f9d\u983c\u3001\u5728\u5eab\u306f7\u30b1\u30fc\u30b9\u306e\u307f \u30b7\u30b9\u30c6\u30e0\u306e\u52d5\u4f5c \u00b6 sequenceDiagram participant \u5e97\u8217 participant \u672c\u90e8 participant \u30b7\u30b9\u30c6\u30e0 \u5e97\u8217->>\u30b7\u30b9\u30c6\u30e0: 10\u30b1\u30fc\u30b9\u767a\u6ce8\u4f9d\u983c \u30b7\u30b9\u30c6\u30e0->>\u672c\u90e8: \u627f\u8a8d\u4f9d\u983c\u901a\u77e5 \u672c\u90e8->>\u30b7\u30b9\u30c6\u30e0: 7\u30b1\u30fc\u30b9\u627f\u8a8d\uff08\u4e00\u90e8\u627f\u8a8d\uff09 Note over \u30b7\u30b9\u30c6\u30e0: \u5143\u30ea\u30af\u30a8\u30b9\u30c8(R1)\u30927\u30b1\u30fc\u30b9\u306b\u66f4\u65b0<br/>\u6b8b\u308a3\u30b1\u30fc\u30b9\u3067\u65b0\u30ea\u30af\u30a8\u30b9\u30c8(R2)\u4f5c\u6210 \u30b7\u30b9\u30c6\u30e0->>\u5e97\u8217: \u3010\u4e00\u90e8\u627f\u8a8d\u3011\u901a\u77e5<br/>\u300c7\u30b1\u30fc\u30b9\u627f\u8a8d\u3001\u6b8b\u308a3\u30b1\u30fc\u30b9\u306f\u5728\u5eab\u5f85\u3061\u300d \u30b7\u30b9\u30c6\u30e0->>\u52a0\u5de5\u4f1a\u793e: 7\u30b1\u30fc\u30b9\u306e\u51fa\u8377\u4f9d\u983c Note over \u30b7\u30b9\u30c6\u30e0: R2\u306f pending_inventory \u3067\u5f85\u6a5f \u5e97\u8217->>\u30b7\u30b9\u30c6\u30e0: [\u4e86\u89e3] or [\u6b8b\u308a3\u30b1\u30fc\u30b9\u3092\u30ad\u30e3\u30f3\u30bb\u30eb] alt \u4e86\u89e3 Note over \u30b7\u30b9\u30c6\u30e0: R2\u306f\u5728\u5eab\u78ba\u4fdd\u3067\u304d\u6b21\u7b2c\u51e6\u7406 else \u30ad\u30e3\u30f3\u30bb\u30eb \u30b7\u30b9\u30c6\u30e0->>\u30b7\u30b9\u30c6\u30e0: R2\u3092 cancelled \u306b\u66f4\u65b0 end \u30c7\u30fc\u30bf\u306e\u5909\u5316 \u00b6 \u5143\u306e\u30ea\u30af\u30a8\u30b9\u30c8\uff08R1\uff09 : qty_requested : 10 \u2192 7 approved_qty : 7 status : approved \u2192 allocated_hold \u65b0\u3057\u3044\u30ea\u30af\u30a8\u30b9\u30c8\uff08R2\uff09 : parent_request_id : R1 qty_requested : 3 status : pending_inventory \u30d5\u30ed\u30fc\u56f3\u307e\u3068\u3081 \u00b6 flowchart TD A[\u5e97\u8217\u304c\u767a\u6ce8\u4f9d\u983c] --> B{\u5728\u5eab\u78ba\u8a8d} B -->|\u5168\u91cf\u3042\u308a| C[\u5168\u91cf\u627f\u8a8d] B -->|\u4e00\u90e8\u306e\u307f| D[\u4e00\u90e8\u627f\u8a8d] B -->|\u5728\u5eab\u4e0d\u8db3| E[\u5dee\u623b\u3057] C --> F[\u81ea\u52d5\u3067\u4eee\u5f15\u5f53] D --> G[\u627f\u8a8d\u5206\u3092\u4eee\u5f15\u5f53] D --> H[\u6b8b\u308a\u306f\u65b0\u30ea\u30af\u30a8\u30b9\u30c8<br/>pending_inventory] F --> I[\u51fa\u8377\u4f9d\u983c] G --> I E --> J[\u5e97\u8217\u304c\u4fee\u6b63\u518d\u63d0\u51fa] J --> A H --> K{\u5728\u5eab\u5165\u8377} K -->|\u5165\u8377| C K -->|\u5e97\u8217\u30ad\u30e3\u30f3\u30bb\u30eb| L[cancelled] I --> M[\u7d0d\u54c1\u66f8PDF\u751f\u6210] M --> N[\u52a0\u5de5\u4f1a\u793e\u306b\u901a\u77e5] N --> O[\u51fa\u8377\u5b8c\u4e86\u5831\u544a] O --> P[shipped]","title":"4. \u696d\u52d9\u30d5\u30ed\u30fc"},{"location":"requirements/workflow/#_1","text":"","title":"\u696d\u52d9\u30d5\u30ed\u30fc"},{"location":"requirements/workflow/#_2","text":"","title":"\u8ffd\u52a0\u767a\u6ce8\uff08\u5e97\u8217 \u2192 \u672c\u90e8\uff09"},{"location":"requirements/workflow/#line","text":"[\u5728\u5eab\u7167\u4f1a] \u307e\u305f\u306f [\u8ffd\u52a0\u767a\u6ce8] \u3092\u30bf\u30c3\u30d7 \u5546\u54c1\u9078\u629e \uff08\u30af\u30a4\u30c3\u30af\u30ea\u30d7\u30e9\u30a4\u3067\u9078\u629e\uff09 \u6570\u91cf\u5165\u529b \uff08\u30b1\u30fc\u30b9\u5358\u4f4d\u306e\u307f\u3001\u6574\u6570\uff09 \u5e0c\u671b\u7d0d\u54c1\u65e5\u9078\u629e \u3067\u304d\u308b\u3060\u3051\u65e9\u304f \u65e5\u4ed8\u6307\u5b9a \u7279\u306b\u306a\u3057 \u78ba\u8a8d\u753b\u9762\u3067 [\u306f\u3044] \u30b7\u30b9\u30c6\u30e0\u304c\u53d7\u4ed8 \uff08status: pending_approval \uff09","title":"\u5e97\u8217\u5074\uff08LINE\uff09"},{"location":"requirements/workflow/#line-or","text":"\u627f\u8a8d\u4f9d\u983c\u901a\u77e5\u3092\u53d7\u4fe1 \uff08\u5e0c\u671b\u7d0d\u54c1\u65e5\u9806\u3067\u30bd\u30fc\u30c8\uff09 \u5728\u5eab\u3092\u78ba\u8a8d\u3057\u3066\u4ee5\u4e0b\u306e\u3044\u305a\u308c\u304b\u3092\u9078\u629e :","title":"\u672c\u90e8\u5074\uff08LINE or \u7ba1\u7406\u753b\u9762\uff09"},{"location":"requirements/workflow/#_6","text":"","title":"\u5728\u5eab\u7167\u4f1a\uff08\u5e97\u8217 \u2192 \u30b7\u30b9\u30c6\u30e0\uff09"},{"location":"requirements/workflow/#line_1","text":"[\u5728\u5eab\u7167\u4f1a] \u3092\u30bf\u30c3\u30d7 \u5546\u54c1\u9078\u629e \u30b7\u30b9\u30c6\u30e0\u304c\u5728\u5eab\u6570\u91cf\u3092\u56de\u7b54 : \u3010\u5728\u5eab\u7167\u4f1a\u7d50\u679c\u3011 \u5546\u54c1: \u25cb\u25cb \u5728\u5eab: 10\u30b1\u30fc\u30b9 \u203b\u3053\u306e\u60c5\u5831\u306f2\u6642\u9593\u524d\u306e\u3082\u306e\u3067\u3059 \u7d0d\u54c1\u65e5\u306f\u5225\u9014\u3054\u9023\u7d61\u3057\u307e\u3059\u3002 \u7d0d\u54c1\u65e5\u306b\u3064\u3044\u3066 \u5728\u5eab\u6570\u91cf\u306e\u307f\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u56de\u7b54\u3057\u3001\u7d0d\u54c1\u65e5\u306f\u5f93\u6765\u901a\u308a\u4eba\u304c\u9023\u7d61\u3057\u307e\u3059\u3002","title":"\u5e97\u8217\u5074\uff08LINE\uff09"},{"location":"requirements/workflow/#_7","text":"\u672c\u90e8\u627f\u8a8d \u2192 shipment_requested \u306b\u81ea\u52d5\u9077\u79fb \u7d0d\u54c1\u66f8PDF\u81ea\u52d5\u751f\u6210 \u2192 Supabase Storage\u4fdd\u5b58 \u52a0\u5de5\u4f1a\u793e\u306b\u901a\u77e5 \uff08\u901a\u77e5\u65b9\u6cd5\u306f\u5f8c\u65e5\u78ba\u5b9a\uff09 \u52a0\u5de5\u4f1a\u793e\u304c\u51fa\u8377\u5b8c\u4e86\u5831\u544a \u2192 shipped","title":"\u51fa\u8377\u4f9d\u983c\uff08\u672c\u90e8 \u2192 \u52a0\u5de5\u4f1a\u793e\uff09"},{"location":"requirements/workflow/#_8","text":"","title":"\u4eee\u5f15\u5f53\u671f\u9650\u5207\u308c"},{"location":"requirements/workflow/#_9","text":"Cron\uff081\u6642\u9593\u6bce\uff09\u304c allocations.expires_at \u3092\u30c1\u30a7\u30c3\u30af","title":"\u81ea\u52d5\u30c1\u30a7\u30c3\u30af"},{"location":"requirements/workflow/#_10","text":"\u5e97\u8217\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u306bLINE\u901a\u77e5 \u300c\u307e\u3060\u5fc5\u8981\u3067\u3059\u304b\uff1f\u300d \u7ba1\u7406\u753b\u9762\u306e\u300c\u671f\u9650\u5207\u308c\u4e00\u89a7\u300d\u306b\u8868\u793a \u81ea\u52d5\u89e3\u653e\u306f\u3057\u306a\u3044 \uff08Phase1\u3067\u306f\u624b\u52d5\u5bfe\u5fdc\uff09","title":"\u671f\u9650\u5207\u308c\u767a\u898b\u6642"},{"location":"requirements/workflow/#_11","text":"","title":"\u4e00\u90e8\u627f\u8a8d\u306e\u8a73\u7d30\u30d5\u30ed\u30fc"},{"location":"requirements/workflow/#_12","text":"\u5e97\u8217\u304c10\u30b1\u30fc\u30b9\u4f9d\u983c\u3001\u5728\u5eab\u306f7\u30b1\u30fc\u30b9\u306e\u307f","title":"\u30b7\u30ca\u30ea\u30aa\u4f8b"},{"location":"requirements/workflow/#_13","text":"sequenceDiagram participant \u5e97\u8217 participant \u672c\u90e8 participant \u30b7\u30b9\u30c6\u30e0 \u5e97\u8217->>\u30b7\u30b9\u30c6\u30e0: 10\u30b1\u30fc\u30b9\u767a\u6ce8\u4f9d\u983c \u30b7\u30b9\u30c6\u30e0->>\u672c\u90e8: \u627f\u8a8d\u4f9d\u983c\u901a\u77e5 \u672c\u90e8->>\u30b7\u30b9\u30c6\u30e0: 7\u30b1\u30fc\u30b9\u627f\u8a8d\uff08\u4e00\u90e8\u627f\u8a8d\uff09 Note over \u30b7\u30b9\u30c6\u30e0: \u5143\u30ea\u30af\u30a8\u30b9\u30c8(R1)\u30927\u30b1\u30fc\u30b9\u306b\u66f4\u65b0<br/>\u6b8b\u308a3\u30b1\u30fc\u30b9\u3067\u65b0\u30ea\u30af\u30a8\u30b9\u30c8(R2)\u4f5c\u6210 \u30b7\u30b9\u30c6\u30e0->>\u5e97\u8217: \u3010\u4e00\u90e8\u627f\u8a8d\u3011\u901a\u77e5<br/>\u300c7\u30b1\u30fc\u30b9\u627f\u8a8d\u3001\u6b8b\u308a3\u30b1\u30fc\u30b9\u306f\u5728\u5eab\u5f85\u3061\u300d \u30b7\u30b9\u30c6\u30e0->>\u52a0\u5de5\u4f1a\u793e: 7\u30b1\u30fc\u30b9\u306e\u51fa\u8377\u4f9d\u983c Note over \u30b7\u30b9\u30c6\u30e0: R2\u306f pending_inventory \u3067\u5f85\u6a5f \u5e97\u8217->>\u30b7\u30b9\u30c6\u30e0: [\u4e86\u89e3] or [\u6b8b\u308a3\u30b1\u30fc\u30b9\u3092\u30ad\u30e3\u30f3\u30bb\u30eb] alt \u4e86\u89e3 Note over \u30b7\u30b9\u30c6\u30e0: R2\u306f\u5728\u5eab\u78ba\u4fdd\u3067\u304d\u6b21\u7b2c\u51e6\u7406 else \u30ad\u30e3\u30f3\u30bb\u30eb \u30b7\u30b9\u30c6\u30e0->>\u30b7\u30b9\u30c6\u30e0: R2\u3092 cancelled \u306b\u66f4\u65b0 end","title":"\u30b7\u30b9\u30c6\u30e0\u306e\u52d5\u4f5c"},{"location":"requirements/workflow/#_14","text":"\u5143\u306e\u30ea\u30af\u30a8\u30b9\u30c8\uff08R1\uff09 : qty_requested : 10 \u2192 7 approved_qty : 7 status : approved \u2192 allocated_hold \u65b0\u3057\u3044\u30ea\u30af\u30a8\u30b9\u30c8\uff08R2\uff09 : parent_request_id : R1 qty_requested : 3 status : pending_inventory","title":"\u30c7\u30fc\u30bf\u306e\u5909\u5316"},{"location":"requirements/workflow/#_15","text":"flowchart TD A[\u5e97\u8217\u304c\u767a\u6ce8\u4f9d\u983c] --> B{\u5728\u5eab\u78ba\u8a8d} B -->|\u5168\u91cf\u3042\u308a| C[\u5168\u91cf\u627f\u8a8d] B -->|\u4e00\u90e8\u306e\u307f| D[\u4e00\u90e8\u627f\u8a8d] B -->|\u5728\u5eab\u4e0d\u8db3| E[\u5dee\u623b\u3057] C --> F[\u81ea\u52d5\u3067\u4eee\u5f15\u5f53] D --> G[\u627f\u8a8d\u5206\u3092\u4eee\u5f15\u5f53] D --> H[\u6b8b\u308a\u306f\u65b0\u30ea\u30af\u30a8\u30b9\u30c8<br/>pending_inventory] F --> I[\u51fa\u8377\u4f9d\u983c] G --> I E --> J[\u5e97\u8217\u304c\u4fee\u6b63\u518d\u63d0\u51fa] J --> A H --> K{\u5728\u5eab\u5165\u8377} K -->|\u5165\u8377| C K -->|\u5e97\u8217\u30ad\u30e3\u30f3\u30bb\u30eb| L[cancelled] I --> M[\u7d0d\u54c1\u66f8PDF\u751f\u6210] M --> N[\u52a0\u5de5\u4f1a\u793e\u306b\u901a\u77e5] N --> O[\u51fa\u8377\u5b8c\u4e86\u5831\u544a] O --> P[shipped]","title":"\u30d5\u30ed\u30fc\u56f3\u307e\u3068\u3081"}]}